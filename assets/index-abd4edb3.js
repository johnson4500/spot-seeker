function g0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var v0={exports:{}},vc={},y0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),Gx=Symbol.for("react.portal"),Kx=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Xx=Symbol.for("react.context"),ek=Symbol.for("react.forward_ref"),tk=Symbol.for("react.suspense"),nk=Symbol.for("react.memo"),ik=Symbol.for("react.lazy"),cv=Symbol.iterator;function rk(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var w0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E0=Object.assign,S0={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=S0,this.updater=n||w0}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C0(){}C0.prototype=Gs.prototype;function Fp(t,e,n){this.props=t,this.context=e,this.refs=S0,this.updater=n||w0}var Up=Fp.prototype=new C0;Up.constructor=Fp;E0(Up,Gs.prototype);Up.isPureReactComponent=!0;var hv=Array.isArray,T0=Object.prototype.hasOwnProperty,Bp={current:null},I0={key:!0,ref:!0,__self:!0,__source:!0};function P0(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)T0.call(e,i)&&!I0.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:ja,type:t,key:o,ref:l,props:r,_owner:Bp.current}}function sk(t,e){return{$$typeof:ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ja}function ok(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dv=/\/+/g;function Kh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ok(""+t.key):e.toString(36)}function Gl(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ja:case Gx:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+Kh(l,0):i,hv(r)?(n="",t!=null&&(n=t.replace(dv,"$&/")+"/"),Gl(r,e,n,"",function(f){return f})):r!=null&&(zp(r)&&(r=sk(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(dv,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",hv(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+Kh(o,u);l+=Gl(o,e,n,h,r)}else if(h=rk(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+Kh(o,u++),l+=Gl(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Tl(t,e,n){if(t==null)return t;var i=[],r=0;return Gl(t,i,"","",function(o){return e.call(n,o,r++)}),i}function ak(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},Kl={transition:null},lk={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Bp};de.Children={map:Tl,forEach:function(t,e,n){Tl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tl(t,function(){e++}),e},toArray:function(t){return Tl(t,function(e){return e})||[]},only:function(t){if(!zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Gs;de.Fragment=Kx;de.Profiler=Qx;de.PureComponent=Fp;de.StrictMode=Yx;de.Suspense=tk;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=E0({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Bp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)T0.call(e,h)&&!I0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:ja,type:t.type,key:r,ref:o,props:i,_owner:l}};de.createContext=function(t){return t={$$typeof:Xx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Jx,_context:t},t.Consumer=t};de.createElement=P0;de.createFactory=function(t){var e=P0.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:ek,render:t}};de.isValidElement=zp;de.lazy=function(t){return{$$typeof:ik,_payload:{_status:-1,_result:t},_init:ak}};de.memo=function(t,e){return{$$typeof:nk,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Kl.transition;Kl.transition={};try{t()}finally{Kl.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return xt.current.useCallback(t,e)};de.useContext=function(t){return xt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};de.useEffect=function(t,e){return xt.current.useEffect(t,e)};de.useId=function(){return xt.current.useId()};de.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return xt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};de.useRef=function(t){return xt.current.useRef(t)};de.useState=function(t){return xt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return xt.current.useTransition()};de.version="18.2.0";y0.exports=de;var A=y0.exports;const pu=Dp(A),uk=g0({__proto__:null,default:pu},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck=A,hk=Symbol.for("react.element"),dk=Symbol.for("react.fragment"),fk=Object.prototype.hasOwnProperty,pk=ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mk={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)fk.call(e,i)&&!mk.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:hk,type:t,key:o,ref:l,props:r,_owner:pk.current}}vc.Fragment=dk;vc.jsx=x0;vc.jsxs=x0;v0.exports=vc;var P=v0.exports,Kd={},k0={exports:{}},$t={},b0={exports:{}},R0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,H){var U=x.length;x.push(H);e:for(;0<U;){var K=U-1>>>1,se=x[K];if(0<r(se,H))x[K]=H,x[U]=se,U=K;else break e}}function n(x){return x.length===0?null:x[0]}function i(x){if(x.length===0)return null;var H=x[0],U=x.pop();if(U!==H){x[0]=U;e:for(var K=0,se=x.length,Ie=se>>>1;K<Ie;){var ge=2*(K+1)-1,pe=x[ge],ne=ge+1,pt=x[ne];if(0>r(pe,U))ne<se&&0>r(pt,pe)?(x[K]=pt,x[ne]=U,K=ne):(x[K]=pe,x[ge]=U,K=ge);else if(ne<se&&0>r(pt,U))x[K]=pt,x[ne]=U,K=ne;else break e}}return H}function r(x,H){var U=x.sortIndex-H.sortIndex;return U!==0?U:x.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,_=null,v=3,E=!1,y=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(x){for(var H=n(f);H!==null;){if(H.callback===null)i(f);else if(H.startTime<=x)i(f),H.sortIndex=H.expirationTime,e(h,H);else break;H=n(f)}}function O(x){if(T=!1,I(x),!y)if(n(h)!==null)y=!0,te(D);else{var H=n(f);H!==null&&R(O,H.startTime-x)}}function D(x,H){y=!1,T&&(T=!1,S(V),V=-1),E=!0;var U=v;try{for(I(H),_=n(h);_!==null&&(!(_.expirationTime>H)||x&&!oe());){var K=_.callback;if(typeof K=="function"){_.callback=null,v=_.priorityLevel;var se=K(_.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?_.callback=se:_===n(h)&&i(h),I(H)}else i(h);_=n(h)}if(_!==null)var Ie=!0;else{var ge=n(f);ge!==null&&R(O,ge.startTime-H),Ie=!1}return Ie}finally{_=null,v=U,E=!1}}var j=!1,W=null,V=-1,fe=5,Z=-1;function oe(){return!(t.unstable_now()-Z<fe)}function ye(){if(W!==null){var x=t.unstable_now();Z=x;var H=!0;try{H=W(!0,x)}finally{H?ft():(j=!1,W=null)}}else j=!1}var ft;if(typeof w=="function")ft=function(){w(ye)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=ye,ft=function(){Q.postMessage(null)}}else ft=function(){N(ye,0)};function te(x){W=x,j||(j=!0,ft())}function R(x,H){V=N(function(){x(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){y||E||(y=!0,te(D))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(x){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var U=v;v=H;try{return x()}finally{v=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,H){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var U=v;v=x;try{return H()}finally{v=U}},t.unstable_scheduleCallback=function(x,H,U){var K=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?K+U:K):U=K,x){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=U+se,x={id:m++,callback:H,priorityLevel:x,startTime:U,expirationTime:se,sortIndex:-1},U>K?(x.sortIndex=U,e(f,x),n(h)===null&&x===n(f)&&(T?(S(V),V=-1):T=!0,R(O,U-K))):(x.sortIndex=se,e(h,x),y||E||(y=!0,te(D))),x},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(x){var H=v;return function(){var U=v;v=H;try{return x.apply(this,arguments)}finally{v=U}}}})(R0);b0.exports=R0;var _k=b0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=A,Ht=_k;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O0=new Set,aa={};function zr(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(aa[t]=e,t=0;t<e.length;t++)O0.add(e[t])}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=Object.prototype.hasOwnProperty,gk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fv={},pv={};function vk(t){return Yd.call(pv,t)?!0:Yd.call(fv,t)?!1:gk.test(t)?pv[t]=!0:(fv[t]=!0,!1)}function yk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wk(t,e,n,i){if(e===null||typeof e>"u"||yk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function Wp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jp,Wp);ht[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jp,Wp);ht[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jp,Wp);ht[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hp(t,e,n,i){var r=ht.hasOwnProperty(e)?ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wk(e,n,r,i)&&(n=null),i||r===null?vk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ui=L0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=Symbol.for("react.element"),os=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),$p=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),A0=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Xd=Symbol.for("react.suspense_list"),Zp=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),M0=Symbol.for("react.offscreen"),mv=Symbol.iterator;function So(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var De=Object.assign,Yh;function Fo(t){if(Yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yh=e&&e[1]||""}return`
`+Yh+t}var Qh=!1;function Jh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,u=o.length-1;1<=l&&0<=u&&r[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==o[u]){var h=`
`+r[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=u);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function Ek(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=Jh(t.type,!1),t;case 11:return t=Jh(t.type.render,!1),t;case 1:return t=Jh(t.type,!0),t;default:return""}}function ef(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case os:return"Portal";case Qd:return"Profiler";case $p:return"StrictMode";case Jd:return"Suspense";case Xd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case A0:return(t.displayName||"Context")+".Consumer";case N0:return(t._context.displayName||"Context")+".Provider";case Vp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zp:return e=t.displayName||null,e!==null?e:ef(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return ef(t(e))}catch{}}return null}function Sk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ef(e);case 8:return e===$p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ck(t){var e=D0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=Ck(t))}function F0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=D0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tf(t,e){var n=e.checked;return De({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _v(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U0(t,e){e=e.checked,e!=null&&Hp(t,"checked",e,!1)}function nf(t,e){U0(t,e);var n=Vi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&rf(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rf(t,e,n){(e!=="number"||mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uo=Array.isArray;function Es(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function sf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return De({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Uo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function B0(t,e){var n=Vi(e.value),i=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function yv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xl,j0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function la(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){Tk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ho[e]=Ho[t]})});function W0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ho.hasOwnProperty(t)&&Ho[t]?(""+e).trim():e+"px"}function H0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=W0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Ik=De({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function af(t,e){if(e){if(Ik[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=null;function qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cf=null,Ss=null,Cs=null;function wv(t){if(t=$a(t)){if(typeof cf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Cc(e),cf(t.stateNode,t.type,e))}}function $0(t){Ss?Cs?Cs.push(t):Cs=[t]:Ss=t}function V0(){if(Ss){var t=Ss,e=Cs;if(Cs=Ss=null,wv(t),e)for(t=0;t<e.length;t++)wv(e[t])}}function Z0(t,e){return t(e)}function q0(){}var Xh=!1;function G0(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return Z0(t,e,n)}finally{Xh=!1,(Ss!==null||Cs!==null)&&(q0(),V0())}}function ua(t,e){var n=t.stateNode;if(n===null)return null;var i=Cc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var hf=!1;if(ii)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{hf=!1}function Pk(t,e,n,i,r,o,l,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var $o=!1,_u=null,gu=!1,df=null,xk={onError:function(t){$o=!0,_u=t}};function kk(t,e,n,i,r,o,l,u,h){$o=!1,_u=null,Pk.apply(xk,arguments)}function bk(t,e,n,i,r,o,l,u,h){if(kk.apply(this,arguments),$o){if($o){var f=_u;$o=!1,_u=null}else throw Error(B(198));gu||(gu=!0,df=f)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ev(t){if(jr(t)!==t)throw Error(B(188))}function Rk(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ev(r),t;if(o===i)return Ev(r),e;o=o.sibling}throw Error(B(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,i=o;break}if(u===i){l=!0,i=r,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,i=r;break}if(u===i){l=!0,i=o,n=r;break}u=u.sibling}if(!l)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Y0(t){return t=Rk(t),t!==null?Q0(t):null}function Q0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q0(t);if(e!==null)return e;t=t.sibling}return null}var J0=Ht.unstable_scheduleCallback,Sv=Ht.unstable_cancelCallback,Lk=Ht.unstable_shouldYield,Ok=Ht.unstable_requestPaint,$e=Ht.unstable_now,Nk=Ht.unstable_getCurrentPriorityLevel,Gp=Ht.unstable_ImmediatePriority,X0=Ht.unstable_UserBlockingPriority,vu=Ht.unstable_NormalPriority,Ak=Ht.unstable_LowPriority,eE=Ht.unstable_IdlePriority,yc=null,Dn=null;function Mk(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(yc,t,void 0,(t.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:Uk,Dk=Math.log,Fk=Math.LN2;function Uk(t){return t>>>=0,t===0?32:31-(Dk(t)/Fk|0)|0}var kl=64,bl=4194304;function Bo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?i=Bo(u):(o&=l,o!==0&&(i=Bo(o)))}else l=n&~r,l!==0?i=Bo(l):o!==0&&(i=Bo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-mn(e),r=1<<n,i|=t[n],e&=~r;return i}function Bk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-mn(o),u=1<<l,h=r[l];h===-1?(!(u&n)||u&i)&&(r[l]=Bk(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tE(){var t=kl;return kl<<=1,!(kl&4194240)&&(kl=64),t}function ed(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mn(e),t[e]=n}function jk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-mn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-mn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Se=0;function nE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iE,Yp,rE,sE,oE,pf=!1,Rl=[],Ni=null,Ai=null,Mi=null,ca=new Map,ha=new Map,Ei=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(e.pointerId)}}function To(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=$a(e),e!==null&&Yp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Hk(t,e,n,i,r){switch(e){case"focusin":return Ni=To(Ni,t,e,n,i,r),!0;case"dragenter":return Ai=To(Ai,t,e,n,i,r),!0;case"mouseover":return Mi=To(Mi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return ca.set(o,To(ca.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ha.set(o,To(ha.get(o)||null,t,e,n,i,r)),!0}return!1}function aE(t){var e=ur(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=K0(n),e!==null){t.blockedOn=e,oE(t.priority,function(){rE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);uf=i,n.target.dispatchEvent(i),uf=null}else return e=$a(n),e!==null&&Yp(e),t.blockedOn=n,!1;e.shift()}return!0}function Tv(t,e,n){Yl(t)&&n.delete(e)}function $k(){pf=!1,Ni!==null&&Yl(Ni)&&(Ni=null),Ai!==null&&Yl(Ai)&&(Ai=null),Mi!==null&&Yl(Mi)&&(Mi=null),ca.forEach(Tv),ha.forEach(Tv)}function Io(t,e){t.blockedOn===e&&(t.blockedOn=null,pf||(pf=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,$k)))}function da(t){function e(r){return Io(r,t)}if(0<Rl.length){Io(Rl[0],t);for(var n=1;n<Rl.length;n++){var i=Rl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ni!==null&&Io(Ni,t),Ai!==null&&Io(Ai,t),Mi!==null&&Io(Mi,t),ca.forEach(e),ha.forEach(e),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)aE(n),n.blockedOn===null&&Ei.shift()}var Ts=ui.ReactCurrentBatchConfig,wu=!0;function Vk(t,e,n,i){var r=Se,o=Ts.transition;Ts.transition=null;try{Se=1,Qp(t,e,n,i)}finally{Se=r,Ts.transition=o}}function Zk(t,e,n,i){var r=Se,o=Ts.transition;Ts.transition=null;try{Se=4,Qp(t,e,n,i)}finally{Se=r,Ts.transition=o}}function Qp(t,e,n,i){if(wu){var r=mf(t,e,n,i);if(r===null)cd(t,e,i,Eu,n),Cv(t,i);else if(Hk(r,t,e,n,i))i.stopPropagation();else if(Cv(t,i),e&4&&-1<Wk.indexOf(t)){for(;r!==null;){var o=$a(r);if(o!==null&&iE(o),o=mf(t,e,n,i),o===null&&cd(t,e,i,Eu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else cd(t,e,i,null,n)}}var Eu=null;function mf(t,e,n,i){if(Eu=null,t=qp(i),t=ur(t),t!==null)if(e=jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eu=t,null}function lE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case Gp:return 1;case X0:return 4;case vu:case Ak:return 16;case eE:return 536870912;default:return 16}default:return 16}}var ki=null,Jp=null,Ql=null;function uE(){if(Ql)return Ql;var t,e=Jp,n=e.length,i,r="value"in ki?ki.value:ki.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return Ql=r.slice(t,1<i?1-i:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ll(){return!0}function Iv(){return!1}function Vt(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ll:Iv,this.isPropagationStopped=Iv,this}return De(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=Vt(Ks),Ha=De({},Ks,{view:0,detail:0}),qk=Vt(Ha),td,nd,Po,wc=De({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:em,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Po&&(Po&&t.type==="mousemove"?(td=t.screenX-Po.screenX,nd=t.screenY-Po.screenY):nd=td=0,Po=t),td)},movementY:function(t){return"movementY"in t?t.movementY:nd}}),Pv=Vt(wc),Gk=De({},wc,{dataTransfer:0}),Kk=Vt(Gk),Yk=De({},Ha,{relatedTarget:0}),id=Vt(Yk),Qk=De({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Jk=Vt(Qk),Xk=De({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eb=Vt(Xk),tb=De({},Ks,{data:0}),xv=Vt(tb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ib={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rb[t])?!!e[t]:!1}function em(){return sb}var ob=De({},Ha,{key:function(t){if(t.key){var e=nb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ib[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:em,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ab=Vt(ob),lb=De({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kv=Vt(lb),ub=De({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:em}),cb=Vt(ub),hb=De({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),db=Vt(hb),fb=De({},wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=Vt(fb),mb=[9,13,27,32],tm=ii&&"CompositionEvent"in window,Vo=null;ii&&"documentMode"in document&&(Vo=document.documentMode);var _b=ii&&"TextEvent"in window&&!Vo,cE=ii&&(!tm||Vo&&8<Vo&&11>=Vo),bv=String.fromCharCode(32),Rv=!1;function hE(t,e){switch(t){case"keyup":return mb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function gb(t,e){switch(t){case"compositionend":return dE(e);case"keypress":return e.which!==32?null:(Rv=!0,bv);case"textInput":return t=e.data,t===bv&&Rv?null:t;default:return null}}function vb(t,e){if(ls)return t==="compositionend"||!tm&&hE(t,e)?(t=uE(),Ql=Jp=ki=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cE&&e.locale!=="ko"?null:e.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yb[t.type]:e==="textarea"}function fE(t,e,n,i){$0(i),e=Su(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Zo=null,fa=null;function wb(t){TE(t,0)}function Ec(t){var e=hs(t);if(F0(e))return t}function Eb(t,e){if(t==="change")return e}var pE=!1;if(ii){var rd;if(ii){var sd="oninput"in document;if(!sd){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),sd=typeof Ov.oninput=="function"}rd=sd}else rd=!1;pE=rd&&(!document.documentMode||9<document.documentMode)}function Nv(){Zo&&(Zo.detachEvent("onpropertychange",mE),fa=Zo=null)}function mE(t){if(t.propertyName==="value"&&Ec(fa)){var e=[];fE(e,fa,t,qp(t)),G0(wb,e)}}function Sb(t,e,n){t==="focusin"?(Nv(),Zo=e,fa=n,Zo.attachEvent("onpropertychange",mE)):t==="focusout"&&Nv()}function Cb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(fa)}function Tb(t,e){if(t==="click")return Ec(e)}function Ib(t,e){if(t==="input"||t==="change")return Ec(e)}function Pb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:Pb;function pa(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Yd.call(e,r)||!yn(t[r],e[r]))return!1}return!0}function Av(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mv(t,e){var n=Av(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Av(n)}}function _E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gE(){for(var t=window,e=mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mu(t.document)}return e}function nm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xb(t){var e=gE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_E(n.ownerDocument.documentElement,n)){if(i!==null&&nm(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Mv(n,o);var l=Mv(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kb=ii&&"documentMode"in document&&11>=document.documentMode,us=null,_f=null,qo=null,gf=!1;function Dv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||us==null||us!==mu(i)||(i=us,"selectionStart"in i&&nm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qo&&pa(qo,i)||(qo=i,i=Su(_f,"onSelect"),0<i.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=us)))}function Ol(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cs={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},od={},vE={};ii&&(vE=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Sc(t){if(od[t])return od[t];if(!cs[t])return t;var e=cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vE)return od[t]=e[n];return t}var yE=Sc("animationend"),wE=Sc("animationiteration"),EE=Sc("animationstart"),SE=Sc("transitionend"),CE=new Map,Fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(t,e){CE.set(t,e),zr(e,[t])}for(var ad=0;ad<Fv.length;ad++){var ld=Fv[ad],bb=ld.toLowerCase(),Rb=ld[0].toUpperCase()+ld.slice(1);Ki(bb,"on"+Rb)}Ki(yE,"onAnimationEnd");Ki(wE,"onAnimationIteration");Ki(EE,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(SE,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function Uv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,bk(i,e,void 0,t),t.currentTarget=null}function TE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var u=i[l],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;Uv(r,u,f),o=h}else for(l=0;l<i.length;l++){if(u=i[l],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;Uv(r,u,f),o=h}}}if(gu)throw t=df,gu=!1,df=null,t}function Re(t,e){var n=e[Sf];n===void 0&&(n=e[Sf]=new Set);var i=t+"__bubble";n.has(i)||(IE(e,t,2,!1),n.add(i))}function ud(t,e,n){var i=0;e&&(i|=4),IE(n,t,i,e)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[Nl]){t[Nl]=!0,O0.forEach(function(n){n!=="selectionchange"&&(Lb.has(n)||ud(n,!1,t),ud(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nl]||(e[Nl]=!0,ud("selectionchange",!1,e))}}function IE(t,e,n,i){switch(lE(e)){case 1:var r=Vk;break;case 4:r=Zk;break;default:r=Qp}n=r.bind(null,e,n,t),r=void 0,!hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function cd(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;l=l.return}for(;u!==null;){if(l=ur(u),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}u=u.parentNode}}i=i.return}G0(function(){var f=o,m=qp(n),_=[];e:{var v=CE.get(t);if(v!==void 0){var E=Xp,y=t;switch(t){case"keypress":if(Jl(n)===0)break e;case"keydown":case"keyup":E=ab;break;case"focusin":y="focus",E=id;break;case"focusout":y="blur",E=id;break;case"beforeblur":case"afterblur":E=id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Pv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=cb;break;case yE:case wE:case EE:E=Jk;break;case SE:E=db;break;case"scroll":E=qk;break;case"wheel":E=pb;break;case"copy":case"cut":case"paste":E=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=kv}var T=(e&4)!==0,N=!T&&t==="scroll",S=T?v!==null?v+"Capture":null:v;T=[];for(var w=f,I;w!==null;){I=w;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,S!==null&&(O=ua(w,S),O!=null&&T.push(_a(w,O,I)))),N)break;w=w.return}0<T.length&&(v=new E(v,y,null,n,m),_.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&n!==uf&&(y=n.relatedTarget||n.fromElement)&&(ur(y)||y[ri]))break e;if((E||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,E?(y=n.relatedTarget||n.toElement,E=f,y=y?ur(y):null,y!==null&&(N=jr(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(E=null,y=f),E!==y)){if(T=Pv,O="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(T=kv,O="onPointerLeave",S="onPointerEnter",w="pointer"),N=E==null?v:hs(E),I=y==null?v:hs(y),v=new T(O,w+"leave",E,n,m),v.target=N,v.relatedTarget=I,O=null,ur(m)===f&&(T=new T(S,w+"enter",y,n,m),T.target=I,T.relatedTarget=N,O=T),N=O,E&&y)t:{for(T=E,S=y,w=0,I=T;I;I=is(I))w++;for(I=0,O=S;O;O=is(O))I++;for(;0<w-I;)T=is(T),w--;for(;0<I-w;)S=is(S),I--;for(;w--;){if(T===S||S!==null&&T===S.alternate)break t;T=is(T),S=is(S)}T=null}else T=null;E!==null&&Bv(_,v,E,T,!1),y!==null&&N!==null&&Bv(_,N,y,T,!0)}}e:{if(v=f?hs(f):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var D=Eb;else if(Lv(v))if(pE)D=Ib;else{D=Cb;var j=Sb}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(D=Tb);if(D&&(D=D(t,f))){fE(_,D,n,m);break e}j&&j(t,v,f),t==="focusout"&&(j=v._wrapperState)&&j.controlled&&v.type==="number"&&rf(v,"number",v.value)}switch(j=f?hs(f):window,t){case"focusin":(Lv(j)||j.contentEditable==="true")&&(us=j,_f=f,qo=null);break;case"focusout":qo=_f=us=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Dv(_,n,m);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":Dv(_,n,m)}var W;if(tm)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else ls?hE(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(cE&&n.locale!=="ko"&&(ls||V!=="onCompositionStart"?V==="onCompositionEnd"&&ls&&(W=uE()):(ki=m,Jp="value"in ki?ki.value:ki.textContent,ls=!0)),j=Su(f,V),0<j.length&&(V=new xv(V,t,null,n,m),_.push({event:V,listeners:j}),W?V.data=W:(W=dE(n),W!==null&&(V.data=W)))),(W=_b?gb(t,n):vb(t,n))&&(f=Su(f,"onBeforeInput"),0<f.length&&(m=new xv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=W))}TE(_,e)})}function _a(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Su(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=ua(t,n),o!=null&&i.unshift(_a(t,o,r)),o=ua(t,e),o!=null&&i.push(_a(t,o,r))),t=t.return}return i}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bv(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,r?(h=ua(n,o),h!=null&&l.unshift(_a(n,h,u))):r||(h=ua(n,o),h!=null&&l.push(_a(n,h,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Ob=/\r\n?/g,Nb=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(Ob,`
`).replace(Nb,"")}function Al(t,e,n){if(e=zv(e),zv(t)!==e&&n)throw Error(B(425))}function Cu(){}var vf=null,yf=null;function wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(Db)}:Ef;function Db(t){setTimeout(function(){throw t})}function hd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),da(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);da(e)}function Di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ys=Math.random().toString(36).slice(2),On="__reactFiber$"+Ys,ga="__reactProps$"+Ys,ri="__reactContainer$"+Ys,Sf="__reactEvents$"+Ys,Fb="__reactListeners$"+Ys,Ub="__reactHandles$"+Ys;function ur(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wv(t);t!==null;){if(n=t[On])return n;t=Wv(t)}return e}t=n,n=t.parentNode}return null}function $a(t){return t=t[On]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Cc(t){return t[ga]||null}var Cf=[],ds=-1;function Yi(t){return{current:t}}function Le(t){0>ds||(t.current=Cf[ds],Cf[ds]=null,ds--)}function be(t,e){ds++,Cf[ds]=t.current,t.current=e}var Zi={},yt=Yi(Zi),At=Yi(!1),Cr=Zi;function As(t,e){var n=t.type.contextTypes;if(!n)return Zi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Mt(t){return t=t.childContextTypes,t!=null}function Tu(){Le(At),Le(yt)}function Hv(t,e,n){if(yt.current!==Zi)throw Error(B(168));be(yt,e),be(At,n)}function PE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(B(108,Sk(t)||"Unknown",r));return De({},n,i)}function Iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Cr=yt.current,be(yt,t),be(At,At.current),!0}function $v(t,e,n){var i=t.stateNode;if(!i)throw Error(B(169));n?(t=PE(t,e,Cr),i.__reactInternalMemoizedMergedChildContext=t,Le(At),Le(yt),be(yt,t)):Le(At),be(At,n)}var qn=null,Tc=!1,dd=!1;function xE(t){qn===null?qn=[t]:qn.push(t)}function Bb(t){Tc=!0,xE(t)}function Qi(){if(!dd&&qn!==null){dd=!0;var t=0,e=Se;try{var n=qn;for(Se=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}qn=null,Tc=!1}catch(r){throw qn!==null&&(qn=qn.slice(t+1)),J0(Gp,Qi),r}finally{Se=e,dd=!1}}return null}var fs=[],ps=0,Pu=null,xu=0,Yt=[],Qt=0,Tr=null,Gn=1,Kn="";function rr(t,e){fs[ps++]=xu,fs[ps++]=Pu,Pu=t,xu=e}function kE(t,e,n){Yt[Qt++]=Gn,Yt[Qt++]=Kn,Yt[Qt++]=Tr,Tr=t;var i=Gn;t=Kn;var r=32-mn(i)-1;i&=~(1<<r),n+=1;var o=32-mn(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,Gn=1<<32-mn(e)+r|n<<r|i,Kn=o+t}else Gn=1<<o|n<<r|i,Kn=t}function im(t){t.return!==null&&(rr(t,1),kE(t,1,0))}function rm(t){for(;t===Pu;)Pu=fs[--ps],fs[ps]=null,xu=fs[--ps],fs[ps]=null;for(;t===Tr;)Tr=Yt[--Qt],Yt[Qt]=null,Kn=Yt[--Qt],Yt[Qt]=null,Gn=Yt[--Qt],Yt[Qt]=null}var jt=null,zt=null,Oe=!1,dn=null;function bE(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Vv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,zt=Di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Tr!==null?{id:Gn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,zt=null,!0):!1;default:return!1}}function Tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function If(t){if(Oe){var e=zt;if(e){var n=e;if(!Vv(t,e)){if(Tf(t))throw Error(B(418));e=Di(n.nextSibling);var i=jt;e&&Vv(t,e)?bE(i,n):(t.flags=t.flags&-4097|2,Oe=!1,jt=t)}}else{if(Tf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Oe=!1,jt=t}}}function Zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ml(t){if(t!==jt)return!1;if(!Oe)return Zv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wf(t.type,t.memoizedProps)),e&&(e=zt)){if(Tf(t))throw RE(),Error(B(418));for(;e;)bE(t,e),e=Di(e.nextSibling)}if(Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=jt?Di(t.stateNode.nextSibling):null;return!0}function RE(){for(var t=zt;t;)t=Di(t.nextSibling)}function Ms(){zt=jt=null,Oe=!1}function sm(t){dn===null?dn=[t]:dn.push(t)}var zb=ui.ReactCurrentBatchConfig;function un(t,e){if(t&&t.defaultProps){e=De({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ku=Yi(null),bu=null,ms=null,om=null;function am(){om=ms=bu=null}function lm(t){var e=ku.current;Le(ku),t._currentValue=e}function Pf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){bu=t,om=ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(om!==t)if(t={context:t,memoizedValue:e,next:null},ms===null){if(bu===null)throw Error(B(308));ms=t,bu.dependencies={lanes:0,firstContext:t}}else ms=ms.next=t;return e}var cr=null;function um(t){cr===null?cr=[t]:cr.push(t)}function LE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,um(e)):(n.next=r.next,r.next=n),e.interleaved=n,si(t,i)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function cm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ve&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,si(t,n)}return r=i.interleaved,r===null?(e.next=e,um(i)):(e.next=r.next,r.next=e),i.interleaved=e,si(t,n)}function Xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Kp(t,n)}}function qv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ru(t,e,n,i){var r=t.updateQueue;wi=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;l=0,m=f=h=null,u=o;do{var v=u.lane,E=u.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=t,T=u;switch(v=e,E=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){_=y.call(E,_,v);break e}_=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,v=typeof y=="function"?y.call(E,_,v):y,v==null)break e;_=De({},_,v);break e;case 2:wi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=r.effects,v===null?r.effects=[u]:v.push(u))}else E={eventTime:E,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=E,h=_):m=m.next=E,l|=v;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;v=u,u=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(1);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Pr|=l,t.lanes=l,t.memoizedState=_}}function Gv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(B(191,r));r.call(i)}}}var NE=new L0.Component().refs;function xf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:De({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ic={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=It(),r=Bi(t),o=Xn(i,r);o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,r),e!==null&&(_n(e,t,r,i),Xl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=It(),r=Bi(t),o=Xn(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,r),e!==null&&(_n(e,t,r,i),Xl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),i=Bi(t),r=Xn(n,i);r.tag=2,e!=null&&(r.callback=e),e=Fi(t,r,i),e!==null&&(_n(e,t,i,n),Xl(e,t,i))}};function Kv(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!pa(n,i)||!pa(r,o):!0}function AE(t,e,n){var i=!1,r=Zi,o=e.contextType;return typeof o=="object"&&o!==null?o=nn(o):(r=Mt(e)?Cr:yt.current,i=e.contextTypes,o=(i=i!=null)?As(t,r):Zi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ic,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ic.enqueueReplaceState(e,e.state,null)}function kf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=NE,cm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=nn(o):(o=Mt(e)?Cr:yt.current,r.context=As(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ic.enqueueReplaceState(r,r.state,null),Ru(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=r.refs;u===NE&&(u=r.refs={}),l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Dl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qv(t){var e=t._init;return e(t._payload)}function ME(t){function e(S,w){if(t){var I=S.deletions;I===null?(S.deletions=[w],S.flags|=16):I.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function i(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function r(S,w){return S=zi(S,w),S.index=0,S.sibling=null,S}function o(S,w,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<w?(S.flags|=2,w):I):(S.flags|=2,w)):(S.flags|=1048576,w)}function l(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,w,I,O){return w===null||w.tag!==6?(w=yd(I,S.mode,O),w.return=S,w):(w=r(w,I),w.return=S,w)}function h(S,w,I,O){var D=I.type;return D===as?m(S,w,I.props.children,O,I.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yi&&Qv(D)===w.type)?(O=r(w,I.props),O.ref=xo(S,w,I),O.return=S,O):(O=su(I.type,I.key,I.props,null,S.mode,O),O.ref=xo(S,w,I),O.return=S,O)}function f(S,w,I,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=wd(I,S.mode,O),w.return=S,w):(w=r(w,I.children||[]),w.return=S,w)}function m(S,w,I,O,D){return w===null||w.tag!==7?(w=gr(I,S.mode,O,D),w.return=S,w):(w=r(w,I),w.return=S,w)}function _(S,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yd(""+w,S.mode,I),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Il:return I=su(w.type,w.key,w.props,null,S.mode,I),I.ref=xo(S,null,w),I.return=S,I;case os:return w=wd(w,S.mode,I),w.return=S,w;case yi:var O=w._init;return _(S,O(w._payload),I)}if(Uo(w)||So(w))return w=gr(w,S.mode,I,null),w.return=S,w;Dl(S,w)}return null}function v(S,w,I,O){var D=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:u(S,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Il:return I.key===D?h(S,w,I,O):null;case os:return I.key===D?f(S,w,I,O):null;case yi:return D=I._init,v(S,w,D(I._payload),O)}if(Uo(I)||So(I))return D!==null?null:m(S,w,I,O,null);Dl(S,I)}return null}function E(S,w,I,O,D){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(I)||null,u(w,S,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Il:return S=S.get(O.key===null?I:O.key)||null,h(w,S,O,D);case os:return S=S.get(O.key===null?I:O.key)||null,f(w,S,O,D);case yi:var j=O._init;return E(S,w,I,j(O._payload),D)}if(Uo(O)||So(O))return S=S.get(I)||null,m(w,S,O,D,null);Dl(w,O)}return null}function y(S,w,I,O){for(var D=null,j=null,W=w,V=w=0,fe=null;W!==null&&V<I.length;V++){W.index>V?(fe=W,W=null):fe=W.sibling;var Z=v(S,W,I[V],O);if(Z===null){W===null&&(W=fe);break}t&&W&&Z.alternate===null&&e(S,W),w=o(Z,w,V),j===null?D=Z:j.sibling=Z,j=Z,W=fe}if(V===I.length)return n(S,W),Oe&&rr(S,V),D;if(W===null){for(;V<I.length;V++)W=_(S,I[V],O),W!==null&&(w=o(W,w,V),j===null?D=W:j.sibling=W,j=W);return Oe&&rr(S,V),D}for(W=i(S,W);V<I.length;V++)fe=E(W,S,V,I[V],O),fe!==null&&(t&&fe.alternate!==null&&W.delete(fe.key===null?V:fe.key),w=o(fe,w,V),j===null?D=fe:j.sibling=fe,j=fe);return t&&W.forEach(function(oe){return e(S,oe)}),Oe&&rr(S,V),D}function T(S,w,I,O){var D=So(I);if(typeof D!="function")throw Error(B(150));if(I=D.call(I),I==null)throw Error(B(151));for(var j=D=null,W=w,V=w=0,fe=null,Z=I.next();W!==null&&!Z.done;V++,Z=I.next()){W.index>V?(fe=W,W=null):fe=W.sibling;var oe=v(S,W,Z.value,O);if(oe===null){W===null&&(W=fe);break}t&&W&&oe.alternate===null&&e(S,W),w=o(oe,w,V),j===null?D=oe:j.sibling=oe,j=oe,W=fe}if(Z.done)return n(S,W),Oe&&rr(S,V),D;if(W===null){for(;!Z.done;V++,Z=I.next())Z=_(S,Z.value,O),Z!==null&&(w=o(Z,w,V),j===null?D=Z:j.sibling=Z,j=Z);return Oe&&rr(S,V),D}for(W=i(S,W);!Z.done;V++,Z=I.next())Z=E(W,S,V,Z.value,O),Z!==null&&(t&&Z.alternate!==null&&W.delete(Z.key===null?V:Z.key),w=o(Z,w,V),j===null?D=Z:j.sibling=Z,j=Z);return t&&W.forEach(function(ye){return e(S,ye)}),Oe&&rr(S,V),D}function N(S,w,I,O){if(typeof I=="object"&&I!==null&&I.type===as&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Il:e:{for(var D=I.key,j=w;j!==null;){if(j.key===D){if(D=I.type,D===as){if(j.tag===7){n(S,j.sibling),w=r(j,I.props.children),w.return=S,S=w;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yi&&Qv(D)===j.type){n(S,j.sibling),w=r(j,I.props),w.ref=xo(S,j,I),w.return=S,S=w;break e}n(S,j);break}else e(S,j);j=j.sibling}I.type===as?(w=gr(I.props.children,S.mode,O,I.key),w.return=S,S=w):(O=su(I.type,I.key,I.props,null,S.mode,O),O.ref=xo(S,w,I),O.return=S,S=O)}return l(S);case os:e:{for(j=I.key;w!==null;){if(w.key===j)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(S,w.sibling),w=r(w,I.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=wd(I,S.mode,O),w.return=S,S=w}return l(S);case yi:return j=I._init,N(S,w,j(I._payload),O)}if(Uo(I))return y(S,w,I,O);if(So(I))return T(S,w,I,O);Dl(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(S,w.sibling),w=r(w,I),w.return=S,S=w):(n(S,w),w=yd(I,S.mode,O),w.return=S,S=w),l(S)):n(S,w)}return N}var Ds=ME(!0),DE=ME(!1),Va={},Fn=Yi(Va),va=Yi(Va),ya=Yi(Va);function hr(t){if(t===Va)throw Error(B(174));return t}function hm(t,e){switch(be(ya,e),be(va,t),be(Fn,Va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=of(e,t)}Le(Fn),be(Fn,e)}function Fs(){Le(Fn),Le(va),Le(ya)}function FE(t){hr(ya.current);var e=hr(Fn.current),n=of(e,t.type);e!==n&&(be(va,t),be(Fn,n))}function dm(t){va.current===t&&(Le(Fn),Le(va))}var Ae=Yi(0);function Lu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fd=[];function fm(){for(var t=0;t<fd.length;t++)fd[t]._workInProgressVersionPrimary=null;fd.length=0}var eu=ui.ReactCurrentDispatcher,pd=ui.ReactCurrentBatchConfig,Ir=0,Me=null,Ke=null,et=null,Ou=!1,Go=!1,wa=0,jb=0;function mt(){throw Error(B(321))}function pm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function mm(t,e,n,i,r,o){if(Ir=o,Me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?Vb:Zb,t=n(i,r),Go){o=0;do{if(Go=!1,wa=0,25<=o)throw Error(B(301));o+=1,et=Ke=null,e.updateQueue=null,eu.current=qb,t=n(i,r)}while(Go)}if(eu.current=Nu,e=Ke!==null&&Ke.next!==null,Ir=0,et=Ke=Me=null,Ou=!1,e)throw Error(B(300));return t}function _m(){var t=wa!==0;return wa=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Me.memoizedState=et=t:et=et.next=t,et}function rn(){if(Ke===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=et===null?Me.memoizedState:et.next;if(e!==null)et=e,Ke=t;else{if(t===null)throw Error(B(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},et===null?Me.memoizedState=et=t:et=et.next=t}return et}function Ea(t,e){return typeof e=="function"?e(t):e}function md(t){var e=rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=Ke,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=l=null,h=null,f=o;do{var m=f.lane;if((Ir&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,l=i):h=h.next=_,Me.lanes|=m,Pr|=m}f=f.next}while(f!==null&&f!==o);h===null?l=i:h.next=u,yn(i,e.memoizedState)||(Lt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Me.lanes|=o,Pr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _d(t){var e=rn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);yn(o,e.memoizedState)||(Lt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function UE(){}function BE(t,e){var n=Me,i=rn(),r=e(),o=!yn(i.memoizedState,r);if(o&&(i.memoizedState=r,Lt=!0),i=i.queue,gm(WE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Sa(9,jE.bind(null,n,i,r,e),void 0,null),st===null)throw Error(B(349));Ir&30||zE(n,e,r)}return r}function zE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jE(t,e,n,i){e.value=n,e.getSnapshot=i,HE(e)&&$E(t)}function WE(t,e,n){return n(function(){HE(e)&&$E(t)})}function HE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function $E(t){var e=si(t,1);e!==null&&_n(e,t,1,-1)}function Jv(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},e.queue=t,t=t.dispatch=$b.bind(null,Me,t),[e.memoizedState,t]}function Sa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Me.updateQueue,e===null?(e={lastEffect:null,stores:null},Me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function VE(){return rn().memoizedState}function tu(t,e,n,i){var r=Ln();Me.flags|=t,r.memoizedState=Sa(1|e,n,void 0,i===void 0?null:i)}function Pc(t,e,n,i){var r=rn();i=i===void 0?null:i;var o=void 0;if(Ke!==null){var l=Ke.memoizedState;if(o=l.destroy,i!==null&&pm(i,l.deps)){r.memoizedState=Sa(e,n,o,i);return}}Me.flags|=t,r.memoizedState=Sa(1|e,n,o,i)}function Xv(t,e){return tu(8390656,8,t,e)}function gm(t,e){return Pc(2048,8,t,e)}function ZE(t,e){return Pc(4,2,t,e)}function qE(t,e){return Pc(4,4,t,e)}function GE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KE(t,e,n){return n=n!=null?n.concat([t]):null,Pc(4,4,GE.bind(null,e,t),n)}function vm(){}function YE(t,e){var n=rn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&pm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function QE(t,e){var n=rn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&pm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function JE(t,e,n){return Ir&21?(yn(n,e)||(n=tE(),Me.lanes|=n,Pr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function Wb(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var i=pd.transition;pd.transition={};try{t(!1),e()}finally{Se=n,pd.transition=i}}function XE(){return rn().memoizedState}function Hb(t,e,n){var i=Bi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},eS(t))tS(e,n);else if(n=LE(t,e,n,i),n!==null){var r=It();_n(n,t,i,r),nS(n,e,i)}}function $b(t,e,n){var i=Bi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(t))tS(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(r.hasEagerState=!0,r.eagerState=u,yn(u,l)){var h=e.interleaved;h===null?(r.next=r,um(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=LE(t,e,r,i),n!==null&&(r=It(),_n(n,t,i,r),nS(n,e,i))}}function eS(t){var e=t.alternate;return t===Me||e!==null&&e===Me}function tS(t,e){Go=Ou=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nS(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Kp(t,n)}}var Nu={readContext:nn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},Vb={readContext:nn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:Xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tu(4194308,4,GE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ln();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Hb.bind(null,Me,t),[i.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Jv,useDebugValue:vm,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Jv(!1),e=t[0];return t=Wb.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Me,r=Ln();if(Oe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),st===null)throw Error(B(349));Ir&30||zE(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,Xv(WE.bind(null,i,o,t),[t]),i.flags|=2048,Sa(9,jE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Ln(),e=st.identifierPrefix;if(Oe){var n=Kn,i=Gn;n=(i&~(1<<32-mn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zb={readContext:nn,useCallback:YE,useContext:nn,useEffect:gm,useImperativeHandle:KE,useInsertionEffect:ZE,useLayoutEffect:qE,useMemo:QE,useReducer:md,useRef:VE,useState:function(){return md(Ea)},useDebugValue:vm,useDeferredValue:function(t){var e=rn();return JE(e,Ke.memoizedState,t)},useTransition:function(){var t=md(Ea)[0],e=rn().memoizedState;return[t,e]},useMutableSource:UE,useSyncExternalStore:BE,useId:XE,unstable_isNewReconciler:!1},qb={readContext:nn,useCallback:YE,useContext:nn,useEffect:gm,useImperativeHandle:KE,useInsertionEffect:ZE,useLayoutEffect:qE,useMemo:QE,useReducer:_d,useRef:VE,useState:function(){return _d(Ea)},useDebugValue:vm,useDeferredValue:function(t){var e=rn();return Ke===null?e.memoizedState=t:JE(e,Ke.memoizedState,t)},useTransition:function(){var t=_d(Ea)[0],e=rn().memoizedState;return[t,e]},useMutableSource:UE,useSyncExternalStore:BE,useId:XE,unstable_isNewReconciler:!1};function Us(t,e){try{var n="",i=e;do n+=Ek(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function gd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gb=typeof WeakMap=="function"?WeakMap:Map;function iS(t,e,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Mu||(Mu=!0,Bf=i),bf(t,e)},n}function rS(t,e,n){n=Xn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){bf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof i!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ey(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Gb;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=l1.bind(null,t,e,n),e.then(t,t))}function ty(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ny(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xn(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var Kb=ui.ReactCurrentOwner,Lt=!1;function Ct(t,e,n,i){e.child=t===null?DE(e,null,n,i):Ds(e,t.child,n,i)}function iy(t,e,n,i,r){n=n.render;var o=e.ref;return Is(e,r),i=mm(t,e,n,i,o,r),n=_m(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,oi(t,e,r)):(Oe&&n&&im(e),e.flags|=1,Ct(t,e,i,r),e.child)}function ry(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Pm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sS(t,e,o,i,r)):(t=su(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(l,i)&&t.ref===e.ref)return oi(t,e,r)}return e.flags|=1,t=zi(o,i),t.ref=e.ref,t.return=e,e.child=t}function sS(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(pa(o,i)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,oi(t,e,r)}return Rf(t,e,n,i,r)}function oS(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(gs,Bt),Bt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(gs,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,be(gs,Bt),Bt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,be(gs,Bt),Bt|=i;return Ct(t,e,r,n),e.child}function aS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rf(t,e,n,i,r){var o=Mt(n)?Cr:yt.current;return o=As(e,o),Is(e,r),n=mm(t,e,n,i,o,r),i=_m(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,oi(t,e,r)):(Oe&&i&&im(e),e.flags|=1,Ct(t,e,n,r),e.child)}function sy(t,e,n,i,r){if(Mt(n)){var o=!0;Iu(e)}else o=!1;if(Is(e,r),e.stateNode===null)nu(t,e),AE(e,n,i),kf(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=nn(f):(f=Mt(n)?Cr:yt.current,f=As(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||h!==f)&&Yv(e,l,i,f),wi=!1;var v=e.memoizedState;l.state=v,Ru(e,i,l,r),h=e.memoizedState,u!==i||v!==h||At.current||wi?(typeof m=="function"&&(xf(e,n,m,i),h=e.memoizedState),(u=wi||Kv(e,n,u,i,v,h,f))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,OE(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:un(e.type,u),l.props=f,_=e.pendingProps,v=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=nn(h):(h=Mt(n)?Cr:yt.current,h=As(e,h));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==_||v!==h)&&Yv(e,l,i,h),wi=!1,v=e.memoizedState,l.state=v,Ru(e,i,l,r);var y=e.memoizedState;u!==_||v!==y||At.current||wi?(typeof E=="function"&&(xf(e,n,E,i),y=e.memoizedState),(f=wi||Kv(e,n,f,i,v,y,h)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,y,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,y,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),l.props=i,l.state=y,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Lf(t,e,n,i,o,r)}function Lf(t,e,n,i,r,o){aS(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&$v(e,n,!1),oi(t,e,o);i=e.stateNode,Kb.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ds(e,t.child,null,o),e.child=Ds(e,null,u,o)):Ct(t,e,u,o),e.memoizedState=i.state,r&&$v(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?Hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hv(t,e.context,!1),hm(t,e.containerInfo)}function oy(t,e,n,i,r){return Ms(),sm(r),e.flags|=256,Ct(t,e,n,i),e.child}var Of={dehydrated:null,treeContext:null,retryLane:0};function Nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function uS(t,e,n){var i=e.pendingProps,r=Ae.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),be(Ae,r&1),t===null)return If(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=bc(l,i,0,null),t=gr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Nf(n),e.memoizedState=Of,t):ym(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Yb(t,e,l,i,u,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=zi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=zi(u,o):(o=gr(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?Nf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Of,i}return o=t.child,t=o.sibling,i=zi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ym(t,e){return e=bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fl(t,e,n,i){return i!==null&&sm(i),Ds(e,t.child,null,n),t=ym(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yb(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=gd(Error(B(422))),Fl(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=bc({mode:"visible",children:i.children},r,0,null),o=gr(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Ds(e,t.child,null,l),e.child.memoizedState=Nf(l),e.memoizedState=Of,o);if(!(e.mode&1))return Fl(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(B(419)),i=gd(o,i,void 0),Fl(t,e,l,i)}if(u=(l&t.childLanes)!==0,Lt||u){if(i=st,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,si(t,r),_n(i,t,r,-1))}return Im(),i=gd(Error(B(421))),Fl(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=u1.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,zt=Di(r.nextSibling),jt=e,Oe=!0,dn=null,t!==null&&(Yt[Qt++]=Gn,Yt[Qt++]=Kn,Yt[Qt++]=Tr,Gn=t.id,Kn=t.overflow,Tr=e),e=ym(e,i.children),e.flags|=4096,e)}function ay(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Pf(t.return,e,n)}function vd(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function cS(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ct(t,e,i.children,n),i=Ae.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,n,e);else if(t.tag===19)ay(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(be(Ae,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Lu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),vd(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Lu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}vd(e,!0,n,null,o);break;case"together":vd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qb(t,e,n){switch(e.tag){case 3:lS(e),Ms();break;case 5:FE(e);break;case 1:Mt(e.type)&&Iu(e);break;case 4:hm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;be(ku,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(be(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?uS(t,e,n):(be(Ae,Ae.current&1),t=oi(t,e,n),t!==null?t.sibling:null);be(Ae,Ae.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return cS(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),be(Ae,Ae.current),i)break;return null;case 22:case 23:return e.lanes=0,oS(t,e,n)}return oi(t,e,n)}var hS,Af,dS,fS;hS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Af=function(){};dS=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,hr(Fn.current);var o=null;switch(n){case"input":r=tf(t,r),i=tf(t,i),o=[];break;case"select":r=De({},r,{value:void 0}),i=De({},i,{value:void 0}),o=[];break;case"textarea":r=sf(t,r),i=sf(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Cu)}af(n,i);var l;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(aa.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(aa.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Re("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};fS=function(t,e,n,i){n!==i&&(e.flags|=4)};function ko(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Jb(t,e,n){var i=e.pendingProps;switch(rm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Mt(e.type)&&Tu(),_t(e),null;case 3:return i=e.stateNode,Fs(),Le(At),Le(yt),fm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(Wf(dn),dn=null))),Af(t,e),_t(e),null;case 5:dm(e);var r=hr(ya.current);if(n=e.type,t!==null&&e.stateNode!=null)dS(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=hr(Fn.current),Ml(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[On]=e,i[ga]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(r=0;r<zo.length;r++)Re(zo[r],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":_v(i,o),Re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Re("invalid",i);break;case"textarea":vv(i,o),Re("invalid",i)}af(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&Al(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Al(i.textContent,u,t),r=["children",""+u]):aa.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Re("scroll",i)}switch(n){case"input":Pl(i),gv(i,o,!0);break;case"textarea":Pl(i),yv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Cu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[On]=e,t[ga]=i,hS(t,e,!1,!1),e.stateNode=t;e:{switch(l=lf(n,i),n){case"dialog":Re("cancel",t),Re("close",t),r=i;break;case"iframe":case"object":case"embed":Re("load",t),r=i;break;case"video":case"audio":for(r=0;r<zo.length;r++)Re(zo[r],t);r=i;break;case"source":Re("error",t),r=i;break;case"img":case"image":case"link":Re("error",t),Re("load",t),r=i;break;case"details":Re("toggle",t),r=i;break;case"input":_v(t,i),r=tf(t,i),Re("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=De({},i,{value:void 0}),Re("invalid",t);break;case"textarea":vv(t,i),r=sf(t,i),Re("invalid",t);break;default:r=i}af(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?H0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&j0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&la(t,h):typeof h=="number"&&la(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(aa.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Re("scroll",t):h!=null&&Hp(t,o,h,l))}switch(n){case"input":Pl(t),gv(t,i,!1);break;case"textarea":Pl(t),yv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Vi(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Es(t,!!i.multiple,o,!1):i.defaultValue!=null&&Es(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)fS(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(B(166));if(n=hr(ya.current),hr(Fn.current),Ml(e)){if(i=e.stateNode,n=e.memoizedProps,i[On]=e,(o=i.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Al(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Al(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[On]=e,e.stateNode=i}return _t(e),null;case 13:if(Le(Ae),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&zt!==null&&e.mode&1&&!(e.flags&128))RE(),Ms(),e.flags|=98560,o=!1;else if(o=Ml(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[On]=e}else Ms(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),o=!1}else dn!==null&&(Wf(dn),dn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Ye===0&&(Ye=3):Im())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Fs(),Af(t,e),t===null&&ma(e.stateNode.containerInfo),_t(e),null;case 10:return lm(e.type._context),_t(e),null;case 17:return Mt(e.type)&&Tu(),_t(e),null;case 19:if(Le(Ae),o=e.memoizedState,o===null)return _t(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)ko(o,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Lu(t),l!==null){for(e.flags|=128,ko(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&$e()>Bs&&(e.flags|=128,i=!0,ko(o,!1),e.lanes=4194304)}else{if(!i)if(t=Lu(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Oe)return _t(e),null}else 2*$e()-o.renderingStartTime>Bs&&n!==1073741824&&(e.flags|=128,i=!0,ko(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,n=Ae.current,be(Ae,i?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Tm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Xb(t,e){switch(rm(e),e.tag){case 1:return Mt(e.type)&&Tu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fs(),Le(At),Le(yt),fm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dm(e),null;case 13:if(Le(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ms()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ae),null;case 4:return Fs(),null;case 10:return lm(e.type._context),null;case 22:case 23:return Tm(),null;case 24:return null;default:return null}}var Ul=!1,vt=!1,e1=typeof WeakSet=="function"?WeakSet:Set,q=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Fe(t,e,i)}else n.current=null}function Mf(t,e,n){try{n()}catch(i){Fe(t,e,i)}}var ly=!1;function t1(t,e){if(vf=wu,t=gE(),nm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,h=-1,f=0,m=0,_=t,v=null;t:for(;;){for(var E;_!==n||r!==0&&_.nodeType!==3||(u=l+r),_!==o||i!==0&&_.nodeType!==3||(h=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(E=_.firstChild)!==null;)v=_,_=E;for(;;){if(_===t)break t;if(v===n&&++f===r&&(u=l),v===o&&++m===i&&(h=l),(E=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=E}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:t,selectionRange:n},wu=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,N=y.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:un(e.type,T),N);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(O){Fe(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return y=ly,ly=!1,y}function Ko(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Mf(e,n,o)}r=r.next}while(r!==i)}}function xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[ga],delete e[Sf],delete e[Fb],delete e[Ub])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mS(t){return t.tag===5||t.tag===3||t.tag===4}function uy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cu));else if(i!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}function Uf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Uf(t,e,n),t=t.sibling;t!==null;)Uf(t,e,n),t=t.sibling}var lt=null,hn=!1;function _i(t,e,n){for(n=n.child;n!==null;)_S(t,e,n),n=n.sibling}function _S(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(yc,n)}catch{}switch(n.tag){case 5:vt||_s(n,e);case 6:var i=lt,r=hn;lt=null,_i(t,e,n),lt=i,hn=r,lt!==null&&(hn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(hn?(t=lt,n=n.stateNode,t.nodeType===8?hd(t.parentNode,n):t.nodeType===1&&hd(t,n),da(t)):hd(lt,n.stateNode));break;case 4:i=lt,r=hn,lt=n.stateNode.containerInfo,hn=!0,_i(t,e,n),lt=i,hn=r;break;case 0:case 11:case 14:case 15:if(!vt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Mf(n,e,l),r=r.next}while(r!==i)}_i(t,e,n);break;case 1:if(!vt&&(_s(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){Fe(n,e,u)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(vt=(i=vt)||n.memoizedState!==null,_i(t,e,n),vt=i):_i(t,e,n);break;default:_i(t,e,n)}}function cy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e1),e.forEach(function(i){var r=c1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ln(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:lt=u.stateNode,hn=!1;break e;case 3:lt=u.stateNode.containerInfo,hn=!0;break e;case 4:lt=u.stateNode.containerInfo,hn=!0;break e}u=u.return}if(lt===null)throw Error(B(160));_S(o,l,r),lt=null,hn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){Fe(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gS(e,t),e=e.sibling}function gS(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(e,t),Rn(t),i&4){try{Ko(3,t,t.return),xc(3,t)}catch(T){Fe(t,t.return,T)}try{Ko(5,t,t.return)}catch(T){Fe(t,t.return,T)}}break;case 1:ln(e,t),Rn(t),i&512&&n!==null&&_s(n,n.return);break;case 5:if(ln(e,t),Rn(t),i&512&&n!==null&&_s(n,n.return),t.flags&32){var r=t.stateNode;try{la(r,"")}catch(T){Fe(t,t.return,T)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&U0(r,o),lf(u,l);var f=lf(u,o);for(l=0;l<h.length;l+=2){var m=h[l],_=h[l+1];m==="style"?H0(r,_):m==="dangerouslySetInnerHTML"?j0(r,_):m==="children"?la(r,_):Hp(r,m,_,f)}switch(u){case"input":nf(r,o);break;case"textarea":B0(r,o);break;case"select":var v=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Es(r,!!o.multiple,E,!1):v!==!!o.multiple&&(o.defaultValue!=null?Es(r,!!o.multiple,o.defaultValue,!0):Es(r,!!o.multiple,o.multiple?[]:"",!1))}r[ga]=o}catch(T){Fe(t,t.return,T)}}break;case 6:if(ln(e,t),Rn(t),i&4){if(t.stateNode===null)throw Error(B(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(T){Fe(t,t.return,T)}}break;case 3:if(ln(e,t),Rn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{da(e.containerInfo)}catch(T){Fe(t,t.return,T)}break;case 4:ln(e,t),Rn(t);break;case 13:ln(e,t),Rn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Sm=$e())),i&4&&cy(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(f=vt)||m,ln(e,t),vt=f):ln(e,t),Rn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(q=t,m=t.child;m!==null;){for(_=q=m;q!==null;){switch(v=q,E=v.child,v.tag){case 0:case 11:case 14:case 15:Ko(4,v,v.return);break;case 1:_s(v,v.return);var y=v.stateNode;if(typeof y.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(T){Fe(i,n,T)}}break;case 5:_s(v,v.return);break;case 22:if(v.memoizedState!==null){dy(_);continue}}E!==null?(E.return=v,q=E):dy(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=W0("display",l))}catch(T){Fe(t,t.return,T)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(T){Fe(t,t.return,T)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:ln(e,t),Rn(t),i&4&&cy(t);break;case 21:break;default:ln(e,t),Rn(t)}}function Rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mS(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(la(r,""),i.flags&=-33);var o=uy(t);Uf(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,u=uy(t);Ff(t,u,l);break;default:throw Error(B(161))}}catch(h){Fe(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n1(t,e,n){q=t,vS(t)}function vS(t,e,n){for(var i=(t.mode&1)!==0;q!==null;){var r=q,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||Ul;if(!l){var u=r.alternate,h=u!==null&&u.memoizedState!==null||vt;u=Ul;var f=vt;if(Ul=l,(vt=h)&&!f)for(q=r;q!==null;)l=q,h=l.child,l.tag===22&&l.memoizedState!==null?fy(r):h!==null?(h.return=l,q=h):fy(r);for(;o!==null;)q=o,vS(o),o=o.sibling;q=r,Ul=u,vt=f}hy(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,q=o):hy(t)}}function hy(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||xc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:un(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Gv(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gv(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&da(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}vt||e.flags&512&&Df(e)}catch(v){Fe(e,e.return,v)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function dy(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function fy(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xc(4,e)}catch(h){Fe(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){Fe(e,r,h)}}var o=e.return;try{Df(e)}catch(h){Fe(e,o,h)}break;case 5:var l=e.return;try{Df(e)}catch(h){Fe(e,l,h)}}}catch(h){Fe(e,e.return,h)}if(e===t){q=null;break}var u=e.sibling;if(u!==null){u.return=e.return,q=u;break}q=e.return}}var i1=Math.ceil,Au=ui.ReactCurrentDispatcher,wm=ui.ReactCurrentOwner,en=ui.ReactCurrentBatchConfig,ve=0,st=null,qe=null,ct=0,Bt=0,gs=Yi(0),Ye=0,Ca=null,Pr=0,kc=0,Em=0,Yo=null,Rt=null,Sm=0,Bs=1/0,Zn=null,Mu=!1,Bf=null,Ui=null,Bl=!1,bi=null,Du=0,Qo=0,zf=null,iu=-1,ru=0;function It(){return ve&6?$e():iu!==-1?iu:iu=$e()}function Bi(t){return t.mode&1?ve&2&&ct!==0?ct&-ct:zb.transition!==null?(ru===0&&(ru=tE()),ru):(t=Se,t!==0||(t=window.event,t=t===void 0?16:lE(t.type)),t):1}function _n(t,e,n,i){if(50<Qo)throw Qo=0,zf=null,Error(B(185));Wa(t,n,i),(!(ve&2)||t!==st)&&(t===st&&(!(ve&2)&&(kc|=n),Ye===4&&Si(t,ct)),Dt(t,i),n===1&&ve===0&&!(e.mode&1)&&(Bs=$e()+500,Tc&&Qi()))}function Dt(t,e){var n=t.callbackNode;zk(t,e);var i=yu(t,t===st?ct:0);if(i===0)n!==null&&Sv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Sv(n),e===1)t.tag===0?Bb(py.bind(null,t)):xE(py.bind(null,t)),Mb(function(){!(ve&6)&&Qi()}),n=null;else{switch(nE(i)){case 1:n=Gp;break;case 4:n=X0;break;case 16:n=vu;break;case 536870912:n=eE;break;default:n=vu}n=PS(n,yS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yS(t,e){if(iu=-1,ru=0,ve&6)throw Error(B(327));var n=t.callbackNode;if(Ps()&&t.callbackNode!==n)return null;var i=yu(t,t===st?ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Fu(t,i);else{e=i;var r=ve;ve|=2;var o=ES();(st!==t||ct!==e)&&(Zn=null,Bs=$e()+500,_r(t,e));do try{o1();break}catch(u){wS(t,u)}while(1);am(),Au.current=o,ve=r,qe!==null?e=0:(st=null,ct=0,e=Ye)}if(e!==0){if(e===2&&(r=ff(t),r!==0&&(i=r,e=jf(t,r))),e===1)throw n=Ca,_r(t,0),Si(t,i),Dt(t,$e()),n;if(e===6)Si(t,i);else{if(r=t.current.alternate,!(i&30)&&!r1(r)&&(e=Fu(t,i),e===2&&(o=ff(t),o!==0&&(i=o,e=jf(t,o))),e===1))throw n=Ca,_r(t,0),Si(t,i),Dt(t,$e()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(B(345));case 2:sr(t,Rt,Zn);break;case 3:if(Si(t,i),(i&130023424)===i&&(e=Sm+500-$e(),10<e)){if(yu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){It(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ef(sr.bind(null,t,Rt,Zn),e);break}sr(t,Rt,Zn);break;case 4:if(Si(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-mn(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=$e()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*i1(i/1960))-i,10<i){t.timeoutHandle=Ef(sr.bind(null,t,Rt,Zn),i);break}sr(t,Rt,Zn);break;case 5:sr(t,Rt,Zn);break;default:throw Error(B(329))}}}return Dt(t,$e()),t.callbackNode===n?yS.bind(null,t):null}function jf(t,e){var n=Yo;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Fu(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&Wf(e)),t}function Wf(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function r1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!yn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~Em,e&=~kc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mn(e),i=1<<n;t[n]=-1,e&=~i}}function py(t){if(ve&6)throw Error(B(327));Ps();var e=yu(t,0);if(!(e&1))return Dt(t,$e()),null;var n=Fu(t,e);if(t.tag!==0&&n===2){var i=ff(t);i!==0&&(e=i,n=jf(t,i))}if(n===1)throw n=Ca,_r(t,0),Si(t,e),Dt(t,$e()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sr(t,Rt,Zn),Dt(t,$e()),null}function Cm(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Bs=$e()+500,Tc&&Qi())}}function xr(t){bi!==null&&bi.tag===0&&!(ve&6)&&Ps();var e=ve;ve|=1;var n=en.transition,i=Se;try{if(en.transition=null,Se=1,t)return t()}finally{Se=i,en.transition=n,ve=e,!(ve&6)&&Qi()}}function Tm(){Bt=gs.current,Le(gs)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ab(n)),qe!==null)for(n=qe.return;n!==null;){var i=n;switch(rm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Tu();break;case 3:Fs(),Le(At),Le(yt),fm();break;case 5:dm(i);break;case 4:Fs();break;case 13:Le(Ae);break;case 19:Le(Ae);break;case 10:lm(i.type._context);break;case 22:case 23:Tm()}n=n.return}if(st=t,qe=t=zi(t.current,null),ct=Bt=e,Ye=0,Ca=null,Em=kc=Pr=0,Rt=Yo=null,cr!==null){for(e=0;e<cr.length;e++)if(n=cr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}cr=null}return t}function wS(t,e){do{var n=qe;try{if(am(),eu.current=Nu,Ou){for(var i=Me.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ou=!1}if(Ir=0,et=Ke=Me=null,Go=!1,wa=0,wm.current=null,n===null||n.return===null){Ye=1,Ca=e,qe=null;break}e:{var o=t,l=n.return,u=n,h=e;if(e=ct,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=ty(l);if(E!==null){E.flags&=-257,ny(E,l,u,o,e),E.mode&1&&ey(o,f,e),e=E,h=f;var y=e.updateQueue;if(y===null){var T=new Set;T.add(h),e.updateQueue=T}else y.add(h);break e}else{if(!(e&1)){ey(o,f,e),Im();break e}h=Error(B(426))}}else if(Oe&&u.mode&1){var N=ty(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),ny(N,l,u,o,e),sm(Us(h,u));break e}}o=h=Us(h,u),Ye!==4&&(Ye=2),Yo===null?Yo=[o]:Yo.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=iS(o,h,e);qv(o,S);break e;case 1:u=h;var w=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ui===null||!Ui.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=rS(o,u,e);qv(o,O);break e}}o=o.return}while(o!==null)}CS(n)}catch(D){e=D,qe===n&&n!==null&&(qe=n=n.return);continue}break}while(1)}function ES(){var t=Au.current;return Au.current=Nu,t===null?Nu:t}function Im(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),st===null||!(Pr&268435455)&&!(kc&268435455)||Si(st,ct)}function Fu(t,e){var n=ve;ve|=2;var i=ES();(st!==t||ct!==e)&&(Zn=null,_r(t,e));do try{s1();break}catch(r){wS(t,r)}while(1);if(am(),ve=n,Au.current=i,qe!==null)throw Error(B(261));return st=null,ct=0,Ye}function s1(){for(;qe!==null;)SS(qe)}function o1(){for(;qe!==null&&!Lk();)SS(qe)}function SS(t){var e=IS(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?CS(t):qe=e,wm.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Xb(n,e),n!==null){n.flags&=32767,qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,qe=null;return}}else if(n=Jb(n,e,Bt),n!==null){qe=n;return}if(e=e.sibling,e!==null){qe=e;return}qe=e=t}while(e!==null);Ye===0&&(Ye=5)}function sr(t,e,n){var i=Se,r=en.transition;try{en.transition=null,Se=1,a1(t,e,n,i)}finally{en.transition=r,Se=i}return null}function a1(t,e,n,i){do Ps();while(bi!==null);if(ve&6)throw Error(B(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jk(t,o),t===st&&(qe=st=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,PS(vu,function(){return Ps(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=en.transition,en.transition=null;var l=Se;Se=1;var u=ve;ve|=4,wm.current=null,t1(t,n),gS(n,t),xb(yf),wu=!!vf,yf=vf=null,t.current=n,n1(n),Ok(),ve=u,Se=l,en.transition=o}else t.current=n;if(Bl&&(Bl=!1,bi=t,Du=r),o=t.pendingLanes,o===0&&(Ui=null),Mk(n.stateNode),Dt(t,$e()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Mu)throw Mu=!1,t=Bf,Bf=null,t;return Du&1&&t.tag!==0&&Ps(),o=t.pendingLanes,o&1?t===zf?Qo++:(Qo=0,zf=t):Qo=0,Qi(),null}function Ps(){if(bi!==null){var t=nE(Du),e=en.transition,n=Se;try{if(en.transition=null,Se=16>t?16:t,bi===null)var i=!1;else{if(t=bi,bi=null,Du=0,ve&6)throw Error(B(331));var r=ve;for(ve|=4,q=t.current;q!==null;){var o=q,l=o.child;if(q.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(q=f;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:Ko(8,m,o)}var _=m.child;if(_!==null)_.return=m,q=_;else for(;q!==null;){m=q;var v=m.sibling,E=m.return;if(pS(m),m===f){q=null;break}if(v!==null){v.return=E,q=v;break}q=E}}}var y=o.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var N=T.sibling;T.sibling=null,T=N}while(T!==null)}}q=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,q=l;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ko(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,q=S;break e}q=o.return}}var w=t.current;for(q=w;q!==null;){l=q;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,q=I;else e:for(l=w;q!==null;){if(u=q,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:xc(9,u)}}catch(D){Fe(u,u.return,D)}if(u===l){q=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,q=O;break e}q=u.return}}if(ve=r,Qi(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(yc,t)}catch{}i=!0}return i}finally{Se=n,en.transition=e}}return!1}function my(t,e,n){e=Us(n,e),e=iS(t,e,1),t=Fi(t,e,1),e=It(),t!==null&&(Wa(t,1,e),Dt(t,e))}function Fe(t,e,n){if(t.tag===3)my(t,t,n);else for(;e!==null;){if(e.tag===3){my(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){t=Us(n,t),t=rS(e,t,1),e=Fi(e,t,1),t=It(),e!==null&&(Wa(e,1,t),Dt(e,t));break}}e=e.return}}function l1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ct&n)===n&&(Ye===4||Ye===3&&(ct&130023424)===ct&&500>$e()-Sm?_r(t,0):Em|=n),Dt(t,e)}function TS(t,e){e===0&&(t.mode&1?(e=bl,bl<<=1,!(bl&130023424)&&(bl=4194304)):e=1);var n=It();t=si(t,e),t!==null&&(Wa(t,e,n),Dt(t,n))}function u1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TS(t,n)}function c1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(e),TS(t,n)}var IS;IS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,Qb(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,Oe&&e.flags&1048576&&kE(e,xu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;nu(t,e),t=e.pendingProps;var r=As(e,yt.current);Is(e,n),r=mm(null,e,i,t,r,n);var o=_m();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(i)?(o=!0,Iu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,cm(e),r.updater=Ic,e.stateNode=r,r._reactInternals=e,kf(e,i,t,n),e=Lf(null,e,i,!0,o,n)):(e.tag=0,Oe&&o&&im(e),Ct(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(nu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=d1(i),t=un(i,t),r){case 0:e=Rf(null,e,i,t,n);break e;case 1:e=sy(null,e,i,t,n);break e;case 11:e=iy(null,e,i,t,n);break e;case 14:e=ry(null,e,i,un(i.type,t),n);break e}throw Error(B(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),Rf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),sy(t,e,i,r,n);case 3:e:{if(lS(e),t===null)throw Error(B(387));i=e.pendingProps,o=e.memoizedState,r=o.element,OE(t,e),Ru(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Us(Error(B(423)),e),e=oy(t,e,i,n,r);break e}else if(i!==r){r=Us(Error(B(424)),e),e=oy(t,e,i,n,r);break e}else for(zt=Di(e.stateNode.containerInfo.firstChild),jt=e,Oe=!0,dn=null,n=DE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),i===r){e=oi(t,e,n);break e}Ct(t,e,i,n)}e=e.child}return e;case 5:return FE(e),t===null&&If(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,wf(i,r)?l=null:o!==null&&wf(i,o)&&(e.flags|=32),aS(t,e),Ct(t,e,l,n),e.child;case 6:return t===null&&If(e),null;case 13:return uS(t,e,n);case 4:return hm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ds(e,null,i,n):Ct(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),iy(t,e,i,r,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,be(ku,i._currentValue),i._currentValue=l,o!==null)if(yn(o.value,l)){if(o.children===r.children&&!At.current){e=oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=Xn(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Pf(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(B(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Pf(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ct(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Is(e,n),r=nn(r),i=i(r),e.flags|=1,Ct(t,e,i,n),e.child;case 14:return i=e.type,r=un(i,e.pendingProps),r=un(i.type,r),ry(t,e,i,r,n);case 15:return sS(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:un(i,r),nu(t,e),e.tag=1,Mt(i)?(t=!0,Iu(e)):t=!1,Is(e,n),AE(e,i,r),kf(e,i,r,n),Lf(null,e,i,!0,t,n);case 19:return cS(t,e,n);case 22:return oS(t,e,n)}throw Error(B(156,e.tag))};function PS(t,e){return J0(t,e)}function h1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,i){return new h1(t,e,n,i)}function Pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d1(t){if(typeof t=="function")return Pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vp)return 11;if(t===Zp)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function su(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")Pm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case as:return gr(n.children,r,o,e);case $p:l=8,r|=8;break;case Qd:return t=Jt(12,n,e,r|2),t.elementType=Qd,t.lanes=o,t;case Jd:return t=Jt(13,n,e,r),t.elementType=Jd,t.lanes=o,t;case Xd:return t=Jt(19,n,e,r),t.elementType=Xd,t.lanes=o,t;case M0:return bc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N0:l=10;break e;case A0:l=9;break e;case Vp:l=11;break e;case Zp:l=14;break e;case yi:l=16,i=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Jt(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function gr(t,e,n,i){return t=Jt(7,t,i,e),t.lanes=n,t}function bc(t,e,n,i){return t=Jt(22,t,i,e),t.elementType=M0,t.lanes=n,t.stateNode={isHidden:!1},t}function yd(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function wd(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f1(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ed(0),this.expirationTimes=ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ed(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function xm(t,e,n,i,r,o,l,u,h){return t=new f1(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cm(o),t}function p1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:os,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function xS(t){if(!t)return Zi;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Mt(n))return PE(t,n,e)}return e}function kS(t,e,n,i,r,o,l,u,h){return t=xm(n,i,!0,t,r,o,l,u,h),t.context=xS(null),n=t.current,i=It(),r=Bi(n),o=Xn(i,r),o.callback=e??null,Fi(n,o,r),t.current.lanes=r,Wa(t,r,i),Dt(t,i),t}function Rc(t,e,n,i){var r=e.current,o=It(),l=Bi(r);return n=xS(n),e.context===null?e.context=n:e.pendingContext=n,e=Xn(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Fi(r,e,l),t!==null&&(_n(t,r,l,o),Xl(t,r,l)),l}function Uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _y(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function km(t,e){_y(t,e),(t=t.alternate)&&_y(t,e)}function m1(){return null}var bS=typeof reportError=="function"?reportError:function(t){console.error(t)};function bm(t){this._internalRoot=t}Lc.prototype.render=bm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Rc(t,e,null,null)};Lc.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){Rc(null,t,null,null)}),e[ri]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=sE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&aE(t)}};function Rm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gy(){}function _1(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Uu(l);o.call(f)}}var l=kS(e,i,t,0,null,!1,!1,"",gy);return t._reactRootContainer=l,t[ri]=l.current,ma(t.nodeType===8?t.parentNode:t),xr(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=Uu(h);u.call(f)}}var h=xm(t,0,!1,null,null,!1,!1,"",gy);return t._reactRootContainer=h,t[ri]=h.current,ma(t.nodeType===8?t.parentNode:t),xr(function(){Rc(e,h,n,i)}),h}function Nc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var u=r;r=function(){var h=Uu(l);u.call(h)}}Rc(e,l,t,r)}else l=_1(n,e,t,r,i);return Uu(l)}iE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bo(e.pendingLanes);n!==0&&(Kp(e,n|1),Dt(e,$e()),!(ve&6)&&(Bs=$e()+500,Qi()))}break;case 13:xr(function(){var i=si(t,1);if(i!==null){var r=It();_n(i,t,1,r)}}),km(t,1)}};Yp=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=It();_n(e,t,134217728,n)}km(t,134217728)}};rE=function(t){if(t.tag===13){var e=Bi(t),n=si(t,e);if(n!==null){var i=It();_n(n,t,e,i)}km(t,e)}};sE=function(){return Se};oE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};cf=function(t,e,n){switch(e){case"input":if(nf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Cc(i);if(!r)throw Error(B(90));F0(i),nf(i,r)}}}break;case"textarea":B0(t,n);break;case"select":e=n.value,e!=null&&Es(t,!!n.multiple,e,!1)}};Z0=Cm;q0=xr;var g1={usingClientEntryPoint:!1,Events:[$a,hs,Cc,$0,V0,Cm]},bo={findFiberByHostInstance:ur,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},v1={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y0(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{yc=zl.inject(v1),Dn=zl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g1;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rm(e))throw Error(B(200));return p1(t,e,null,n)};$t.createRoot=function(t,e){if(!Rm(t))throw Error(B(299));var n=!1,i="",r=bS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=xm(t,1,!1,null,null,n,!1,i,r),t[ri]=e.current,ma(t.nodeType===8?t.parentNode:t),new bm(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Y0(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return xr(t)};$t.hydrate=function(t,e,n){if(!Oc(e))throw Error(B(200));return Nc(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Rm(t))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=bS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=kS(e,null,t,1,n??null,r,!1,o,l),t[ri]=e.current,ma(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Lc(e)};$t.render=function(t,e,n){if(!Oc(e))throw Error(B(200));return Nc(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(B(40));return t._reactRootContainer?(xr(function(){Nc(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};$t.unstable_batchedUpdates=Cm;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Oc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Nc(t,e,n,!1,i)};$t.version="18.2.0-next-9e3b772b8-20220608";function RS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RS)}catch(t){console.error(t)}}RS(),k0.exports=$t;var Lm=k0.exports,vy=Lm;Kd.createRoot=vy.createRoot,Kd.hydrateRoot=vy.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ta.apply(this,arguments)}var Ri;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ri||(Ri={}));const yy="popstate";function y1(t){t===void 0&&(t={});function e(r,o){let{pathname:l="/",search:u="",hash:h=""}=Wr(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Hf("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:LS(o))}function i(r,o){Ac(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return E1(e,n,i,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ac(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w1(){return Math.random().toString(36).substr(2,8)}function wy(t,e){return{usr:t.state,key:t.key,idx:e}}function Hf(t,e,n,i){return n===void 0&&(n=null),Ta({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wr(e):e,{state:n,key:e&&e.key||i||w1()})}function LS(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function E1(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u=Ri.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(Ta({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function _(){u=Ri.Pop;let N=m(),S=N==null?null:N-f;f=N,h&&h({action:u,location:T.location,delta:S})}function v(N,S){u=Ri.Push;let w=Hf(T.location,N,S);n&&n(w,N),f=m()+1;let I=wy(w,f),O=T.createHref(w);try{l.pushState(I,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;r.location.assign(O)}o&&h&&h({action:u,location:T.location,delta:1})}function E(N,S){u=Ri.Replace;let w=Hf(T.location,N,S);n&&n(w,N),f=m();let I=wy(w,f),O=T.createHref(w);l.replaceState(I,"",O),o&&h&&h({action:u,location:T.location,delta:0})}function y(N){let S=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof N=="string"?N:LS(N);return Qe(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let T={get action(){return u},get location(){return t(r,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(yy,_),h=N,()=>{r.removeEventListener(yy,_),h=null}},createHref(N){return e(r,N)},createURL:y,encodeLocation(N){let S=y(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:E,go(N){return l.go(N)}};return T}var Ey;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ey||(Ey={}));function S1(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Wr(e):e,r=AS(i.pathname||"/",n);if(r==null)return null;let o=OS(t);C1(o);let l=null;for(let u=0;l==null&&u<o.length;++u)l=O1(o[u],M1(r));return l}function OS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Qe(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=vr([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(Qe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),OS(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:R1(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,l);else for(let h of NS(o.path))r(o,l,h)}),e}function NS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=NS(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function C1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const T1=/^:\w+$/,I1=3,P1=2,x1=1,k1=10,b1=-2,Sy=t=>t==="*";function R1(t,e){let n=t.split("/"),i=n.length;return n.some(Sy)&&(i+=b1),e&&(i+=P1),n.filter(r=>!Sy(r)).reduce((r,o)=>r+(T1.test(o)?I1:o===""?x1:k1),i)}function L1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function O1(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=N1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let _=u.route;o.push({params:i,pathname:vr([r,m.pathname]),pathnameBase:j1(vr([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=vr([r,m.pathnameBase]))}return o}function N1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=A1(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:v,isOptional:E}=m;if(v==="*"){let T=u[_]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const y=u[_];return E&&!y?f[v]=void 0:f[v]=D1(y||"",v),f},{}),pathname:o,pathnameBase:l,pattern:t}}function A1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ac(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function M1(t){try{return decodeURI(t)}catch(e){return Ac(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D1(t,e){try{return decodeURIComponent(t)}catch(n){return Ac(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function AS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function F1(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Wr(t):t;return{pathname:n?n.startsWith("/")?n:U1(n,e):e,search:W1(i),hash:H1(r)}}function U1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Ed(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function z1(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Wr(t):(r=Ta({},t),Qe(!r.pathname||!r.pathname.includes("?"),Ed("?","pathname","search",r)),Qe(!r.pathname||!r.pathname.includes("#"),Ed("#","pathname","hash",r)),Qe(!r.search||!r.search.includes("#"),Ed("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(i||l==null)u=n;else{let _=e.length-1;if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}u=_>=0?e[_]:"/"}let h=F1(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),j1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MS=["post","put","patch","delete"];new Set(MS);const V1=["get",...MS];new Set(V1);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bu.apply(this,arguments)}const Om=A.createContext(null),Z1=A.createContext(null),Mc=A.createContext(null),Dc=A.createContext(null),Qs=A.createContext({outlet:null,matches:[],isDataRoute:!1}),DS=A.createContext(null);function Fc(){return A.useContext(Dc)!=null}function FS(){return Fc()||Qe(!1),A.useContext(Dc).location}function US(t){A.useContext(Mc).static||A.useLayoutEffect(t)}function Uc(){let{isDataRoute:t}=A.useContext(Qs);return t?sR():q1()}function q1(){Fc()||Qe(!1);let t=A.useContext(Om),{basename:e,navigator:n}=A.useContext(Mc),{matches:i}=A.useContext(Qs),{pathname:r}=FS(),o=JSON.stringify(B1(i).map(h=>h.pathnameBase)),l=A.useRef(!1);return US(()=>{l.current=!0}),A.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=z1(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vr([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}function G1(t,e){return K1(t,e)}function K1(t,e,n){Fc()||Qe(!1);let{navigator:i}=A.useContext(Mc),{matches:r}=A.useContext(Qs),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=FS(),f;if(e){var m;let T=typeof e=="string"?Wr(e):e;u==="/"||(m=T.pathname)!=null&&m.startsWith(u)||Qe(!1),f=T}else f=h;let _=f.pathname||"/",v=u==="/"?_:_.slice(u.length)||"/",E=S1(t,{pathname:v}),y=eR(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:vr([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:vr([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),r,n);return e&&y?A.createElement(Dc.Provider,{value:{location:Bu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ri.Pop}},y):y}function Y1(){let t=rR(),e=$1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:r},n):null,o)}const Q1=A.createElement(Y1,null);class J1 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?A.createElement(Qs.Provider,{value:this.props.routeContext},A.createElement(DS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X1(t){let{routeContext:e,match:n,children:i}=t,r=A.useContext(Om);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Qs.Provider,{value:e},i)}function eR(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||Qe(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,f)=>{let m=h.route.id?l==null?void 0:l[h.route.id]:null,_=null;n&&(_=h.route.errorElement||Q1);let v=e.concat(o.slice(0,f+1)),E=()=>{let y;return m?y=_:h.route.Component?y=A.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,A.createElement(X1,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(J1,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:E(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):E()},null)}var BS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BS||{}),zu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zu||{});function tR(t){let e=A.useContext(Om);return e||Qe(!1),e}function nR(t){let e=A.useContext(Z1);return e||Qe(!1),e}function iR(t){let e=A.useContext(Qs);return e||Qe(!1),e}function zS(t){let e=iR(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function rR(){var t;let e=A.useContext(DS),n=nR(zu.UseRouteError),i=zS(zu.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function sR(){let{router:t}=tR(BS.UseNavigateStable),e=zS(zu.UseNavigateStable),n=A.useRef(!1);return US(()=>{n.current=!0}),A.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Bu({fromRouteId:e},o)))},[t,e])}function ss(t){Qe(!1)}function oR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ri.Pop,navigator:o,static:l=!1}=t;Fc()&&Qe(!1);let u=e.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:u,navigator:o,static:l}),[u,o,l]);typeof i=="string"&&(i=Wr(i));let{pathname:f="/",search:m="",hash:_="",state:v=null,key:E="default"}=i,y=A.useMemo(()=>{let T=AS(f,u);return T==null?null:{location:{pathname:T,search:m,hash:_,state:v,key:E},navigationType:r}},[u,f,m,_,v,E,r]);return y==null?null:A.createElement(Mc.Provider,{value:h},A.createElement(Dc.Provider,{children:n,value:y}))}function aR(t){let{children:e,location:n}=t;return G1($f(e),n)}new Promise(()=>{});function $f(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(i,r)=>{if(!A.isValidElement(i))return;let o=[...e,r];if(i.type===A.Fragment){n.push.apply(n,$f(i.props.children,o));return}i.type!==ss&&Qe(!1),!i.props.index||!i.props.children||Qe(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=$f(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lR="startTransition",Cy=uk[lR];function uR(t){let{basename:e,children:n,future:i,window:r}=t,o=A.useRef();o.current==null&&(o.current=y1({window:r,v5Compat:!0}));let l=o.current,[u,h]=A.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=A.useCallback(_=>{f&&Cy?Cy(()=>h(_)):h(_)},[h,f]);return A.useLayoutEffect(()=>l.listen(m),[l,m]),A.createElement(oR,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l})}var Ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Iy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Iy||(Iy={}));function jS(t,e){return function(){return t.apply(e,arguments)}}const{toString:cR}=Object.prototype,{getPrototypeOf:Nm}=Object,Bc=(t=>e=>{const n=cR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zn=t=>(t=t.toLowerCase(),e=>Bc(e)===t),zc=t=>e=>typeof e===t,{isArray:Js}=Array,Ia=zc("undefined");function hR(t){return t!==null&&!Ia(t)&&t.constructor!==null&&!Ia(t.constructor)&&tn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WS=zn("ArrayBuffer");function dR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WS(t.buffer),e}const fR=zc("string"),tn=zc("function"),HS=zc("number"),jc=t=>t!==null&&typeof t=="object",pR=t=>t===!0||t===!1,ou=t=>{if(Bc(t)!=="object")return!1;const e=Nm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mR=zn("Date"),_R=zn("File"),gR=zn("Blob"),vR=zn("FileList"),yR=t=>jc(t)&&tn(t.pipe),wR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||tn(t.append)&&((e=Bc(t))==="formdata"||e==="object"&&tn(t.toString)&&t.toString()==="[object FormData]"))},ER=zn("URLSearchParams"),SR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Za(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Js(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(i=0;i<l;i++)u=o[i],e.call(null,t[u],u,t)}}function $S(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const VS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ZS=t=>!Ia(t)&&t!==VS;function Vf(){const{caseless:t}=ZS(this)&&this||{},e={},n=(i,r)=>{const o=t&&$S(e,r)||r;ou(e[o])&&ou(i)?e[o]=Vf(e[o],i):ou(i)?e[o]=Vf({},i):Js(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Za(arguments[i],n);return e}const CR=(t,e,n,{allOwnKeys:i}={})=>(Za(e,(r,o)=>{n&&tn(r)?t[o]=jS(r,n):t[o]=r},{allOwnKeys:i}),t),TR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PR=(t,e,n,i)=>{let r,o,l;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!i||i(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Nm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},kR=t=>{if(!t)return null;if(Js(t))return t;let e=t.length;if(!HS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},bR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Nm(Uint8Array)),RR=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},LR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},OR=zn("HTMLFormElement"),NR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Py=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AR=zn("RegExp"),qS=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Za(n,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(i[o]=l||r)}),Object.defineProperties(t,i)},MR=t=>{qS(t,(e,n)=>{if(tn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(tn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DR=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return Js(t)?i(t):i(String(t).split(e)),n},FR=()=>{},UR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Sd="abcdefghijklmnopqrstuvwxyz",xy="0123456789",GS={DIGIT:xy,ALPHA:Sd,ALPHA_DIGIT:Sd+Sd.toUpperCase()+xy},BR=(t=16,e=GS.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function zR(t){return!!(t&&tn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const jR=t=>{const e=new Array(10),n=(i,r)=>{if(jc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=Js(i)?[]:{};return Za(i,(l,u)=>{const h=n(l,r+1);!Ia(h)&&(o[u]=h)}),e[r]=void 0,o}}return i};return n(t,0)},WR=zn("AsyncFunction"),HR=t=>t&&(jc(t)||tn(t))&&tn(t.then)&&tn(t.catch),M={isArray:Js,isArrayBuffer:WS,isBuffer:hR,isFormData:wR,isArrayBufferView:dR,isString:fR,isNumber:HS,isBoolean:pR,isObject:jc,isPlainObject:ou,isUndefined:Ia,isDate:mR,isFile:_R,isBlob:gR,isRegExp:AR,isFunction:tn,isStream:yR,isURLSearchParams:ER,isTypedArray:bR,isFileList:vR,forEach:Za,merge:Vf,extend:CR,trim:SR,stripBOM:TR,inherits:IR,toFlatObject:PR,kindOf:Bc,kindOfTest:zn,endsWith:xR,toArray:kR,forEachEntry:RR,matchAll:LR,isHTMLForm:OR,hasOwnProperty:Py,hasOwnProp:Py,reduceDescriptors:qS,freezeMethods:MR,toObjectSet:DR,toCamelCase:NR,noop:FR,toFiniteNumber:UR,findKey:$S,global:VS,isContextDefined:ZS,ALPHABET:GS,generateString:BR,isSpecCompliantForm:zR,toJSONObject:jR,isAsyncFn:WR,isThenable:HR};function _e(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}M.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const KS=_e.prototype,YS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YS[t]={value:t}});Object.defineProperties(_e,YS);Object.defineProperty(KS,"isAxiosError",{value:!0});_e.from=(t,e,n,i,r,o)=>{const l=Object.create(KS);return M.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),_e.call(l,t.message,e,n,i,r),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const $R=null;function Zf(t){return M.isPlainObject(t)||M.isArray(t)}function QS(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function ky(t,e,n){return t?t.concat(e).map(function(r,o){return r=QS(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function VR(t){return M.isArray(t)&&!t.some(Zf)}const ZR=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Wc(t,e,n){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,N){return!M.isUndefined(N[T])});const i=n.metaTokens,r=n.visitor||m,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(M.isDate(y))return y.toISOString();if(!h&&M.isBlob(y))throw new _e("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(y)||M.isTypedArray(y)?h&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,T,N){let S=y;if(y&&!N&&typeof y=="object"){if(M.endsWith(T,"{}"))T=i?T:T.slice(0,-2),y=JSON.stringify(y);else if(M.isArray(y)&&VR(y)||(M.isFileList(y)||M.endsWith(T,"[]"))&&(S=M.toArray(y)))return T=QS(T),S.forEach(function(I,O){!(M.isUndefined(I)||I===null)&&e.append(l===!0?ky([T],O,o):l===null?T:T+"[]",f(I))}),!1}return Zf(y)?!0:(e.append(ky(N,T,o),f(y)),!1)}const _=[],v=Object.assign(ZR,{defaultVisitor:m,convertValue:f,isVisitable:Zf});function E(y,T){if(!M.isUndefined(y)){if(_.indexOf(y)!==-1)throw Error("Circular reference detected in "+T.join("."));_.push(y),M.forEach(y,function(S,w){(!(M.isUndefined(S)||S===null)&&r.call(e,S,M.isString(w)?w.trim():w,T,v))===!0&&E(S,T?T.concat(w):[w])}),_.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return E(t),e}function by(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Am(t,e){this._pairs=[],t&&Wc(t,this,e)}const JS=Am.prototype;JS.append=function(e,n){this._pairs.push([e,n])};JS.toString=function(e){const n=e?function(i){return e.call(this,i,by)}:by;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function qR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XS(t,e,n){if(!e)return t;const i=n&&n.encode||qR,r=n&&n.serialize;let o;if(r?o=r(e,n):o=M.isURLSearchParams(e)?e.toString():new Am(e,n).toString(i),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class GR{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Ry=GR,eC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KR=typeof URLSearchParams<"u"?URLSearchParams:Am,YR=typeof FormData<"u"?FormData:null,QR=typeof Blob<"u"?Blob:null,JR={isBrowser:!0,classes:{URLSearchParams:KR,FormData:YR,Blob:QR},protocols:["http","https","file","blob","url","data"]},tC=typeof window<"u"&&typeof document<"u",XR=(t=>tC&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),eL=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),tL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tC,hasStandardBrowserEnv:XR,hasStandardBrowserWebWorkerEnv:eL},Symbol.toStringTag,{value:"Module"})),An={...tL,...JR};function nL(t,e){return Wc(t,new An.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return An.isNode&&M.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function iL(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rL(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function nC(t){function e(n,i,r,o){let l=n[o++];const u=Number.isFinite(+l),h=o>=n.length;return l=!l&&M.isArray(r)?r.length:l,h?(M.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!u):((!r[l]||!M.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],o)&&M.isArray(r[l])&&(r[l]=rL(r[l])),!u)}if(M.isFormData(t)&&M.isFunction(t.entries)){const n={};return M.forEachEntry(t,(i,r)=>{e(iL(i),r,n,0)}),n}return null}function sL(t,e,n){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Mm={transitional:eC,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=M.isObject(e);if(o&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return r&&r?JSON.stringify(nC(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return nL(e,this.formSerializer).toString();if((u=M.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Wc(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),sL(e)):e}],transformResponse:[function(e){const n=this.transitional||Mm.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&M.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?_e.from(u,_e.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Mm.headers[t]={}});const Dm=Mm,oL=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aL=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&oL[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Ly=Symbol("internals");function Ro(t){return t&&String(t).trim().toLowerCase()}function au(t){return t===!1||t==null?t:M.isArray(t)?t.map(au):String(t)}function lL(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const uL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cd(t,e,n,i,r){if(M.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!M.isString(e)){if(M.isString(i))return e.indexOf(i)!==-1;if(M.isRegExp(i))return i.test(e)}}function cL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function hL(t,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}class Hc{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(u,h,f){const m=Ro(h);if(!m)throw new Error("header name must be a non-empty string");const _=M.findKey(r,m);(!_||r[_]===void 0||f===!0||f===void 0&&r[_]!==!1)&&(r[_||h]=au(u))}const l=(u,h)=>M.forEach(u,(f,m)=>o(f,m,h));return M.isPlainObject(e)||e instanceof this.constructor?l(e,n):M.isString(e)&&(e=e.trim())&&!uL(e)?l(aL(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=Ro(e),e){const i=M.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return lL(r);if(M.isFunction(n))return n.call(this,r,i);if(M.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ro(e),e){const i=M.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Cd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(l){if(l=Ro(l),l){const u=M.findKey(i,l);u&&(!n||Cd(i,i[u],u,n))&&(delete i[u],r=!0)}}return M.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||Cd(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return M.forEach(this,(r,o)=>{const l=M.findKey(i,o);if(l){n[l]=au(r),delete n[o];return}const u=e?cL(o):String(o).trim();u!==o&&delete n[o],n[u]=au(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&M.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Ly]=this[Ly]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=Ro(l);i[u]||(hL(r,l),i[u]=!0)}return M.isArray(e)?e.forEach(o):o(e),this}}Hc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Hc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});M.freezeMethods(Hc);const ei=Hc;function Td(t,e){const n=this||Dm,i=e||n,r=ei.from(i.headers);let o=i.data;return M.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function iC(t){return!!(t&&t.__CANCEL__)}function qa(t,e,n){_e.call(this,t??"canceled",_e.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits(qa,_e,{__CANCEL__:!0});function dL(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const fL=An.hasStandardBrowserEnv?function(){return{write:function(n,i,r,o,l,u){const h=[];h.push(n+"="+encodeURIComponent(i)),M.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),M.isString(o)&&h.push("path="+o),M.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mL(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function rC(t,e){return t&&!pL(e)?mL(t,e):e}const _L=An.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let l=o;return e&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(l){const u=M.isString(l)?r(l):l;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function gL(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vL(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];l||(l=f),n[r]=h,i[r]=f;let _=o,v=0;for(;_!==r;)v+=n[_++],_=_%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-l<e)return;const E=m&&f-m;return E?Math.round(v*1e3/E):void 0}}function Oy(t,e){let n=0;const i=vL(50,250);return r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,u=o-n,h=i(u),f=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:r};m[e?"download":"upload"]=!0,t(m)}}const yL=typeof XMLHttpRequest<"u",wL=yL&&function(t){return new Promise(function(n,i){let r=t.data;const o=ei.from(t.headers).normalize(),l=t.responseType;let u;function h(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let f;if(M.isFormData(r)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[y,...T]=f?f.split(";").map(N=>N.trim()).filter(Boolean):[];o.setContentType([y||"multipart/form-data",...T].join("; "))}}let m=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",T=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(y+":"+T))}const _=rC(t.baseURL,t.url);m.open(t.method.toUpperCase(),XS(_,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function v(){if(!m)return;const y=ei.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:y,config:t,request:m};dL(function(w){n(w),h()},function(w){i(w),h()},N),m=null}if("onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(i(new _e("Request aborted",_e.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new _e("Network Error",_e.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let T=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const N=t.transitional||eC;t.timeoutErrorMessage&&(T=t.timeoutErrorMessage),i(new _e(T,N.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,m)),m=null},An.hasStandardBrowserEnv){const y=_L(_)&&t.xsrfCookieName&&fL.read(t.xsrfCookieName);y&&o.set(t.xsrfHeaderName,y)}r===void 0&&o.setContentType(null),"setRequestHeader"in m&&M.forEach(o.toJSON(),function(T,N){m.setRequestHeader(N,T)}),M.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),l&&l!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",Oy(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Oy(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=y=>{m&&(i(!y||y.type?new qa(null,t,m):y),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const E=gL(_);if(E&&An.protocols.indexOf(E)===-1){i(new _e("Unsupported protocol "+E+":",_e.ERR_BAD_REQUEST,t));return}m.send(r||null)})},qf={http:$R,xhr:wL};M.forEach(qf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ny=t=>`- ${t}`,EL=t=>M.isFunction(t)||t===null||t===!1,sC={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let l;if(i=n,!EL(n)&&(i=qf[(l=String(n)).toLowerCase()],i===void 0))throw new _e(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Ny).join(`
`):" "+Ny(o[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:qf};function Id(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qa(null,t)}function Ay(t){return Id(t),t.headers=ei.from(t.headers),t.data=Td.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sC.getAdapter(t.adapter||Dm.adapter)(t).then(function(i){return Id(t),i.data=Td.call(t,t.transformResponse,i),i.headers=ei.from(i.headers),i},function(i){return iC(i)||(Id(t),i&&i.response&&(i.response.data=Td.call(t,t.transformResponse,i.response),i.response.headers=ei.from(i.response.headers))),Promise.reject(i)})}const My=t=>t instanceof ei?t.toJSON():t;function zs(t,e){e=e||{};const n={};function i(f,m,_){return M.isPlainObject(f)&&M.isPlainObject(m)?M.merge.call({caseless:_},f,m):M.isPlainObject(m)?M.merge({},m):M.isArray(m)?m.slice():m}function r(f,m,_){if(M.isUndefined(m)){if(!M.isUndefined(f))return i(void 0,f,_)}else return i(f,m,_)}function o(f,m){if(!M.isUndefined(m))return i(void 0,m)}function l(f,m){if(M.isUndefined(m)){if(!M.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function u(f,m,_){if(_ in e)return i(f,m);if(_ in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m)=>r(My(f),My(m),!0)};return M.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=h[m]||r,v=_(t[m],e[m],m);M.isUndefined(v)&&_!==u||(n[m]=v)}),n}const oC="1.6.1",Fm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Dy={};Fm.transitional=function(e,n,i){function r(o,l){return"[Axios v"+oC+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,u)=>{if(e===!1)throw new _e(r(l," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!Dy[l]&&(Dy[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};function SL(t,e,n){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new _e("option "+o+" must be "+h,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+o,_e.ERR_BAD_OPTION)}}const Gf={assertOptions:SL,validators:Fm},gi=Gf.validators;class ju{constructor(e){this.defaults=e,this.interceptors={request:new Ry,response:new Ry}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zs(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Gf.assertOptions(i,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),r!=null&&(M.isFunction(r)?n.paramsSerializer={serialize:r}:Gf.assertOptions(r,{encode:gi.function,serialize:gi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&M.merge(o.common,o[n.method]);o&&M.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=ei.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(h=h&&T.synchronous,u.unshift(T.fulfilled,T.rejected))});const f=[];this.interceptors.response.forEach(function(T){f.push(T.fulfilled,T.rejected)});let m,_=0,v;if(!h){const y=[Ay.bind(this),void 0];for(y.unshift.apply(y,u),y.push.apply(y,f),v=y.length,m=Promise.resolve(n);_<v;)m=m.then(y[_++],y[_++]);return m}v=u.length;let E=n;for(_=0;_<v;){const y=u[_++],T=u[_++];try{E=y(E)}catch(N){T.call(this,N);break}}try{m=Ay.call(this,E)}catch(y){return Promise.reject(y)}for(_=0,v=f.length;_<v;)m=m.then(f[_++],f[_++]);return m}getUri(e){e=zs(this.defaults,e);const n=rC(e.baseURL,e.url);return XS(n,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){ju.prototype[e]=function(n,i){return this.request(zs(i||{},{method:e,url:n,data:(i||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(i){return function(o,l,u){return this.request(zs(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ju.prototype[e]=n(),ju.prototype[e+"Form"]=n(!0)});const lu=ju;class Um{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{i.subscribe(u),o=u}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,u){i.reason||(i.reason=new qa(o,l,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Um(function(r){e=r}),cancel:e}}}const CL=Um;function TL(t){return function(n){return t.apply(null,n)}}function IL(t){return M.isObject(t)&&t.isAxiosError===!0}const Kf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kf).forEach(([t,e])=>{Kf[e]=t});const PL=Kf;function aC(t){const e=new lu(t),n=jS(lu.prototype.request,e);return M.extend(n,lu.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return aC(zs(t,r))},n}const Ge=aC(Dm);Ge.Axios=lu;Ge.CanceledError=qa;Ge.CancelToken=CL;Ge.isCancel=iC;Ge.VERSION=oC;Ge.toFormData=Wc;Ge.AxiosError=_e;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=TL;Ge.isAxiosError=IL;Ge.mergeConfig=zs;Ge.AxiosHeaders=ei;Ge.formToJSON=t=>nC(M.isHTMLForm(t)?new FormData(t):t);Ge.getAdapter=sC.getAdapter;Ge.HttpStatusCode=PL;Ge.default=Ge;const lC=Ge;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z=function(t,e){if(!t)throw Xs(e)},Xs=function(t){return new Error("Firebase Database ("+uC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Bm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;h||(E=64,l||(v=64)),i.push(n[m],n[_],n[v],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new kL;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),_!==64){const y=f<<6&192|_;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hC=function(t){const e=cC(t);return Bm.encodeByteArray(e,!0)},Wu=function(t){return hC(t).replace(/\./g,"")},Hu=function(t){try{return Bm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){return dC(void 0,t)}function dC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!RL(n)||(t[n]=dC(t[n],e[n]));return t}function RL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=()=>LL().__FIREBASE_DEFAULTS__,NL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hu(t[1]);return e&&JSON.parse(e)},$c=()=>{try{return OL()||NL()||AL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fC=t=>{var e,n;return(n=(e=$c())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pC=t=>{const e=fC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},mC=()=>{var t;return(t=$c())===null||t===void 0?void 0:t.config},_C=t=>{var e;return(e=$c())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Wu(JSON.stringify(n)),Wu(JSON.stringify(l)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function ML(){var t;const e=(t=$c())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DL(){const t=wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wC(){return uC.NODE_ADMIN===!0}function EC(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function FL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="FirebaseError";class Cn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=UL,Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hr.prototype.create)}}class Hr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?BL(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Cn(r,u,i)}}function BL(t,e){return t.replace(zL,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const zL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Pa(Hu(o[0])||""),n=Pa(Hu(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},jL=function(t){const e=CC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},WL=function(t){const e=CC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function js(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Yf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $u(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function xa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(Fy(o)&&Fy(l)){if(!xa(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Fy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Wo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(v<<1|v>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],l=this.chain_[2],u=this.chain_[3],h=this.chain_[4],f,m;for(let _=0;_<80;_++){_<40?_<20?(f=u^o&(l^u),m=1518500249):(f=o^l^u,m=1859775393):_<60?(f=o&l|u&(o|l),m=2400959708):(f=o^l^u,m=3395469782);const v=(r<<5|r>>>27)+f+h+m+i[_]&4294967295;h=u,u=l,l=(o<<30|o>>>2)&4294967295,o=r,r=v}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let l=this.inbuf_;for(;r<n;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}else for(;r<n;)if(o[l]=e[r],++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function $L(t,e){const n=new VL(t,e);return n.subscribe.bind(n)}class VL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ZL(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Pd),r.error===void 0&&(r.error=Pd),r.complete===void 0&&(r.complete=Pd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pd(){}function Vc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,z(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;r=65536+(o<<10)+l}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Zc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=1e3,KL=2,YL=4*60*60*1e3,QL=.5;function Uy(t,e=GL,n=KL){const i=e*Math.pow(n,t),r=Math.round(QL*i*(Math.random()-.5)*2);return Math.min(YL,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}class sn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ga;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XL(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XL(t){return t===or?void 0:t}function eO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const nO={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},iO=Ce.INFO,rO={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},sO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=rO[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qc{constructor(e){this.name=e,this._logLevel=iO,this._logHandler=sO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const oO=(t,e)=>e.some(n=>t instanceof n);let By,zy;function aO(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TC=new WeakMap,Qf=new WeakMap,IC=new WeakMap,xd=new WeakMap,jm=new WeakMap;function uO(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ji(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&TC.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function cO(t){if(Qf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Qf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hO(t){Jf=t(Jf)}function dO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kd(this),e,...n);return IC.set(i,e.sort?e.sort():[e]),ji(i)}:lO().includes(t)?function(...e){return t.apply(kd(this),e),ji(TC.get(this))}:function(...e){return ji(t.apply(kd(this),e))}}function fO(t){return typeof t=="function"?dO(t):(t instanceof IDBTransaction&&cO(t),oO(t,aO())?new Proxy(t,Jf):t)}function ji(t){if(t instanceof IDBRequest)return uO(t);if(xd.has(t))return xd.get(t);const e=fO(t);return e!==t&&(xd.set(t,e),jm.set(e,t)),e}const kd=t=>jm.get(t);function pO(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=ji(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ji(l.result),h.oldVersion,h.newVersion,ji(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const mO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],bd=new Map;function jy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=_O.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||mO.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return bd.set(e,o),o}hO(t=>({...t,get:(e,n,i)=>jy(e,n)||t.get(e,n,i),has:(e,n)=>!!jy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vO(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function vO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",Wy="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new qc("@firebase/app"),yO="@firebase/app-compat",wO="@firebase/analytics-compat",EO="@firebase/analytics",SO="@firebase/app-check-compat",CO="@firebase/app-check",TO="@firebase/auth",IO="@firebase/auth-compat",PO="@firebase/database",xO="@firebase/database-compat",kO="@firebase/functions",bO="@firebase/functions-compat",RO="@firebase/installations",LO="@firebase/installations-compat",OO="@firebase/messaging",NO="@firebase/messaging-compat",AO="@firebase/performance",MO="@firebase/performance-compat",DO="@firebase/remote-config",FO="@firebase/remote-config-compat",UO="@firebase/storage",BO="@firebase/storage-compat",zO="@firebase/firestore",jO="@firebase/firestore-compat",WO="firebase",HO="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",$O={[Xf]:"fire-core",[yO]:"fire-core-compat",[EO]:"fire-analytics",[wO]:"fire-analytics-compat",[CO]:"fire-app-check",[SO]:"fire-app-check-compat",[TO]:"fire-auth",[IO]:"fire-auth-compat",[PO]:"fire-rtdb",[xO]:"fire-rtdb-compat",[kO]:"fire-fn",[bO]:"fire-fn-compat",[RO]:"fire-iid",[LO]:"fire-iid-compat",[OO]:"fire-fcm",[NO]:"fire-fcm-compat",[AO]:"fire-perf",[MO]:"fire-perf-compat",[DO]:"fire-rc",[FO]:"fire-rc-compat",[UO]:"fire-gcs",[BO]:"fire-gcs-compat",[zO]:"fire-fst",[jO]:"fire-fst-compat","fire-js":"fire-js",[WO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Map,tp=new Map;function VO(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){const e=t.name;if(tp.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(const n of Vu.values())VO(n,t);return!0}function Ji(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wi=new Hr("app","Firebase",ZO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=HO;function PC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Wi.create("bad-app-name",{appName:String(r)});if(n||(n=mC()),!n)throw Wi.create("no-options");const o=Vu.get(r);if(o){if(xa(n,o.options)&&xa(i,o.config))return o;throw Wi.create("duplicate-app",{appName:r})}const l=new tO(r);for(const h of tp.values())l.addComponent(h);const u=new qO(n,i,l);return Vu.set(r,u),u}function Gc(t=ep){const e=Vu.get(t);if(!e&&t===ep&&mC())return PC();if(!e)throw Wi.create("no-app",{appName:t});return e}function Ft(t,e,n){var i;let r=(i=$O[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(u.join(" "));return}wn(new sn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="firebase-heartbeat-database",KO=1,ka="firebase-heartbeat-store";let Rd=null;function xC(){return Rd||(Rd=pO(GO,KO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Rd}async function YO(t){try{return await(await xC()).transaction(ka).objectStore(ka).get(kC(t))}catch(e){if(e instanceof Cn)kr.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(n.message)}}}async function Hy(t,e){try{const i=(await xC()).transaction(ka,"readwrite");await i.objectStore(ka).put(e,kC(t)),await i.done}catch(n){if(n instanceof Cn)kr.warn(n.message);else{const i=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});kr.warn(i.message)}}}function kC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=1024,JO=30*24*60*60*1e3;class XO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$y();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=JO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$y(),{heartbeatsToSend:i,unsentEntries:r}=eN(this._heartbeatsCache.heartbeats),o=Wu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function $y(){return new Date().toISOString().substring(0,10)}function eN(t,e=QO){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),Vy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Vy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class tN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EC()?SC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Hy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vy(t){return Wu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){wn(new sn("platform-logger",e=>new gO(e),"PRIVATE")),wn(new sn("heartbeat",e=>new XO(e),"PRIVATE")),Ft(Xf,Wy,t),Ft(Xf,Wy,"esm2017"),Ft("fire-js","")}nN("");var iN="firebase",rN="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft(iN,rN,"app");const sN=(t,e)=>e.some(n=>t instanceof n);let Zy,qy;function oN(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aN(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bC=new WeakMap,np=new WeakMap,RC=new WeakMap,Ld=new WeakMap,Wm=new WeakMap;function lN(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Hi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&bC.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function uN(t){if(np.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});np.set(t,e)}let ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cN(t){ip=t(ip)}function hN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Od(this),e,...n);return RC.set(i,e.sort?e.sort():[e]),Hi(i)}:aN().includes(t)?function(...e){return t.apply(Od(this),e),Hi(bC.get(this))}:function(...e){return Hi(t.apply(Od(this),e))}}function dN(t){return typeof t=="function"?hN(t):(t instanceof IDBTransaction&&uN(t),sN(t,oN())?new Proxy(t,ip):t)}function Hi(t){if(t instanceof IDBRequest)return lN(t);if(Ld.has(t))return Ld.get(t);const e=dN(t);return e!==t&&(Ld.set(t,e),Wm.set(e,t)),e}const Od=t=>Wm.get(t);function fN(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Hi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Hi(l.result),h.oldVersion,h.newVersion,Hi(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}const pN=["get","getKey","getAll","getAllKeys","count"],mN=["put","add","delete","clear"],Nd=new Map;function Gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=mN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||pN.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Nd.set(e,o),o}cN(t=>({...t,get:(e,n,i)=>Gy(e,n)||t.get(e,n,i),has:(e,n)=>!!Gy(e,n)||t.has(e,n)}));const LC="@firebase/installations",Hm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1e4,NC=`w:${Hm}`,AC="FIS_v2",_N="https://firebaseinstallations.googleapis.com/v1",gN=60*60*1e3,vN="installations",yN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},br=new Hr(vN,yN,wN);function MC(t){return t instanceof Cn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC({projectId:t}){return`${_N}/projects/${t}/installations`}function FC(t){return{token:t.token,requestStatus:2,expiresIn:SN(t.expiresIn),creationTime:Date.now()}}async function UC(t,e){const i=(await e.json()).error;return br.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function BC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function EN(t,{refreshToken:e}){const n=BC(t);return n.append("Authorization",CN(e)),n}async function zC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SN(t){return Number(t.replace("s","000"))}function CN(t){return`${AC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=DC(t),r=BC(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:n,authVersion:AC,appId:t.appId,sdkVersion:NC},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await zC(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:FC(f.authToken)}}else throw await UC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=/^[cdef][\w-]{21}$/,rp="";function xN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=kN(t);return PN.test(n)?n:rp}catch{return rp}}function kN(t){return IN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Map;function HC(t,e){const n=Kc(t);$C(n,e),bN(n,e)}function $C(t,e){const n=WC.get(t);if(n)for(const i of n)i(e)}function bN(t,e){const n=RN();n&&n.postMessage({key:t,fid:e}),LN()}let dr=null;function RN(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=t=>{$C(t.data.key,t.data.fid)}),dr}function LN(){WC.size===0&&dr&&(dr.close(),dr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-installations-database",NN=1,Rr="firebase-installations-store";let Ad=null;function $m(){return Ad||(Ad=fN(ON,NN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Rr)}}})),Ad}async function Zu(t,e){const n=Kc(t),r=(await $m()).transaction(Rr,"readwrite"),o=r.objectStore(Rr),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&HC(t,e.fid),e}async function VC(t){const e=Kc(t),i=(await $m()).transaction(Rr,"readwrite");await i.objectStore(Rr).delete(e),await i.done}async function Yc(t,e){const n=Kc(t),r=(await $m()).transaction(Rr,"readwrite"),o=r.objectStore(Rr),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!l||l.fid!==u.fid)&&HC(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t){let e;const n=await Yc(t.appConfig,i=>{const r=AN(i),o=MN(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===rp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function AN(t){const e=t||{fid:xN(),registrationStatus:0};return ZC(e)}function MN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(br.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=DN(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FN(t)}:{installationEntry:e}}async function DN(t,e){try{const n=await TN(t,e);return Zu(t.appConfig,n)}catch(n){throw MC(n)&&n.customData.serverCode===409?await VC(t.appConfig):await Zu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FN(t){let e=await Ky(t.appConfig);for(;e.registrationStatus===1;)await jC(100),e=await Ky(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Vm(t);return i||n}return e}function Ky(t){return Yc(t,e=>{if(!e)throw br.create("installation-not-found");return ZC(e)})}function ZC(t){return UN(t)?{fid:t.fid,registrationStatus:0}:t}function UN(t){return t.registrationStatus===1&&t.registrationTime+OC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN({appConfig:t,heartbeatServiceProvider:e},n){const i=zN(t,n),r=EN(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:NC,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await zC(()=>fetch(i,u));if(h.ok){const f=await h.json();return FC(f)}else throw await UC("Generate Auth Token",h)}function zN(t,{fid:e}){return`${DC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t,e=!1){let n;const i=await Yc(t.appConfig,o=>{if(!qC(o))throw br.create("not-registered");const l=o.authToken;if(!e&&HN(l))return o;if(l.requestStatus===1)return n=jN(t,e),o;{if(!navigator.onLine)throw br.create("app-offline");const u=VN(o);return n=WN(t,u),u}});return n?await n:i.authToken}async function jN(t,e){let n=await Yy(t.appConfig);for(;n.authToken.requestStatus===1;)await jC(100),n=await Yy(t.appConfig);const i=n.authToken;return i.requestStatus===0?Zm(t,e):i}function Yy(t){return Yc(t,e=>{if(!qC(e))throw br.create("not-registered");const n=e.authToken;return ZN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WN(t,e){try{const n=await BN(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Zu(t.appConfig,i),n}catch(n){if(MC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await VC(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zu(t.appConfig,i)}throw n}}function qC(t){return t!==void 0&&t.registrationStatus===2}function HN(t){return t.requestStatus===2&&!$N(t)}function $N(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gN}function VN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZN(t){return t.requestStatus===1&&t.requestTime+OC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t){const e=t,{installationEntry:n,registrationPromise:i}=await Vm(e);return i?i.catch(console.error):Zm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e=!1){const n=t;return await KN(n),(await Zm(n,e)).token}async function KN(t){const{registrationPromise:e}=await Vm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){if(!t||!t.options)throw Md("App Configuration");if(!t.name)throw Md("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Md(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Md(t){return br.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="installations",QN="installations-internal",JN=t=>{const e=t.getProvider("app").getImmediate(),n=YN(e),i=Ji(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},XN=t=>{const e=t.getProvider("app").getImmediate(),n=Ji(e,GC).getImmediate();return{getId:()=>qN(n),getToken:r=>GN(n,r)}};function eA(){wn(new sn(GC,JN,"PUBLIC")),wn(new sn(QN,XN,"PRIVATE"))}eA();Ft(LC,Hm);Ft(LC,Hm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="analytics",tA="firebase_id",nA="origin",iA=60*1e3,rA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut=new qc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wt=new Hr("analytics","Analytics",sA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){if(!t.startsWith(qm)){const e=Wt.create("invalid-gtag-resource",{gtagURL:t});return Ut.warn(e.message),""}return t}function KC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function aA(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lA(t,e){const n=aA("firebase-js-sdk-policy",{createScriptURL:oA}),i=document.createElement("script"),r=`${qm}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function uA(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function cA(t,e,n,i,r,o){const l=i[r];try{if(l)await e[l];else{const h=(await KC(n)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){Ut.error(u)}t("config",r,o)}async function hA(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await KC(n);for(const h of l){const f=u.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Ut.error(o)}}function dA(t,e,n,i){async function r(o,...l){try{if(o==="event"){const[u,h]=l;await hA(t,e,n,u,h)}else if(o==="config"){const[u,h]=l;await cA(t,e,n,i,u,h)}else if(o==="consent"){const[u]=l;t("consent","update",u)}else if(o==="get"){const[u,h,f]=l;t("get",u,h,f)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){Ut.error(u)}}return r}function fA(t,e,n,i,r){let o=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=dA(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function pA(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=30,_A=1e3;class gA{constructor(e={},n=_A){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YC=new gA;function vA(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yA(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:vA(i)},o=rA.replace("{app-id}",n),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function wA(t,e=YC,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Wt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Wt.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new CA;return setTimeout(async()=>{u.abort()},n!==void 0?n:iA),QC({appId:i,apiKey:r,measurementId:o},l,u,e)}async function QC(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=YC){var o;const{appId:l,measurementId:u}=t;try{await EA(i,e)}catch(h){if(u)return Ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await yA(t);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!SA(f)){if(r.deleteThrottleMetadata(l),u)return Ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Uy(n,r.intervalMillis,mA):Uy(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(l,_),Ut.debug(`Calling attemptFetch again in ${m} millis`),QC(t,_,i,r)}}function EA(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(Wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SA(t){if(!(t instanceof Cn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class CA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TA(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,l=Object.assign(Object.assign({},i),{send_to:o});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(){if(EC())try{await SC()}catch(t){return Ut.warn(Wt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ut.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function PA(t,e,n,i,r,o,l){var u;const h=wA(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Ut.error(E)),e.push(h);const f=IA().then(E=>{if(E)return i.getId()}),[m,_]=await Promise.all([h,f]);pA(o)||lA(o,m.measurementId),r("js",new Date);const v=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return v[nA]="firebase",v.update=!0,_!=null&&(v[tA]=_),r("config",m.measurementId,v),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.app=e}_delete(){return delete Jo[this.app.options.appId],Promise.resolve()}}let Jo={},Qy=[];const Jy={};let Dd="dataLayer",kA="gtag",Xy,JC,ew=!1;function bA(){const t=[];if(vC()&&t.push("This is a browser extension environment."),FL()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Wt.create("invalid-analytics-context",{errorInfo:e});Ut.warn(n.message)}}function RA(t,e,n){bA();const i=t.options.appId;if(!i)throw Wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wt.create("no-api-key");if(Jo[i]!=null)throw Wt.create("already-exists",{id:i});if(!ew){uA(Dd);const{wrappedGtag:o,gtagCore:l}=fA(Jo,Qy,Jy,Dd,kA);JC=o,Xy=l,ew=!0}return Jo[i]=PA(t,Qy,Jy,e,Xy,Dd,n),new xA(t)}function LA(t=Gc()){t=je(t);const e=Ji(t,qu);return e.isInitialized()?e.getImmediate():OA(t)}function OA(t,e={}){const n=Ji(t,qu);if(n.isInitialized()){const r=n.getImmediate();if(xa(e,n.getOptions()))return r;throw Wt.create("already-initialized")}return n.initialize({options:e})}function NA(t,e,n,i){t=je(t),TA(JC,Jo[t.app.options.appId],e,n,i).catch(r=>Ut.error(r))}const tw="@firebase/analytics",nw="0.10.0";function AA(){wn(new sn(qu,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return RA(i,r,n)},"PUBLIC")),wn(new sn("analytics-internal",t,"PRIVATE")),Ft(tw,nw),Ft(tw,nw,"esm2017");function t(e){try{const n=e.getProvider(qu).getImmediate();return{logEvent:(i,r,o)=>NA(n,i,r,o)}}catch(n){throw Wt.create("interop-component-reg-failed",{reason:n})}}}AA();const iw="@firebase/database",rw="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XC="";function MA(t){XC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new DA(e)}}catch{}return new FA},fr=eT("localStorage"),sp=eT("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new qc("@firebase/database"),UA=function(){let t=1;return function(){return t++}}(),tT=function(t){const e=qL(t),n=new HL;n.update(e);const i=n.digest();return Bm.encodeByteArray(i)},Ka=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ka.apply(null,i):typeof i=="object"?e+=rt(i):e+=i,e+=" "}return e};let yr=null,sw=!0;const BA=function(t,e){z(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xs.logLevel=Ce.VERBOSE,yr=xs.log.bind(xs),e&&sp.set("logging_enabled",!0)):typeof t=="function"?yr=t:(yr=null,sp.remove("logging_enabled"))},ut=function(...t){if(sw===!0&&(sw=!1,yr===null&&sp.get("logging_enabled")===!0&&BA(!0)),yr){const e=Ka.apply(null,t);yr(e)}},Ya=function(t){return function(...e){ut(t,...e)}},op=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ka(...t);xs.error(e)},ai=function(...t){const e=`FIREBASE FATAL ERROR: ${Ka(...t)}`;throw xs.error(e),new Error(e)},Pt=function(...t){const e="FIREBASE WARNING: "+Ka(...t);xs.warn(e)},zA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ws="[MIN_NAME]",Lr="[MAX_NAME]",Vr=function(t,e){if(t===e)return 0;if(t===Ws||e===Lr)return-1;if(e===Ws||t===Lr)return 1;{const n=ow(t),i=ow(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},WA=function(t,e){return t===e?0:t<e?-1:1},Lo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Km=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=rt(e[i]),n+=":",n+=Km(t[e[i]]);return n+="}",n},nT=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const iT=function(t){z(!Gm(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,l,u,h;t===0?(o=0,l=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=u+i,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const m=f.join("");let _="";for(h=0;h<64;h+=8){let v=parseInt(m.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},HA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$A=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const ZA=new RegExp("^-?(0*)\\d{1,10}$"),qA=-2147483648,GA=2147483647,ow=function(t){if(ZA.test(t)){const e=Number(t);if(e>=qA&&e<=GA)return e}return null},to=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},KA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class ks{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ks.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="5",rT="v",sT="s",oT="r",aT="f",lT=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uT="ls",cT="p",ap="ac",hT="websocket",dT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,i,r,o=!1,l="",u=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function JA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pT(t,e,n){z(typeof e=="string","typeof type must == string"),z(typeof n=="object","typeof params must == object");let i;if(e===hT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===dT)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);JA(t)&&(n.ns=t.namespace);const r=[];return dt(n,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.counters_={}}incrementCounter(e,n=1){jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd={},Ud={};function Qm(t){const e=t.toString();return Fd[e]||(Fd[e]=new XA),Fd[e]}function eM(t,e){const n=t.toString();return Ud[n]||(Ud[n]=e()),Ud[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&to(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="start",nM="close",iM="pLPCommand",rM="pRTLPCB",mT="id",_T="pw",gT="ser",sM="cb",oM="seg",aM="ts",lM="d",uM="dframe",vT=1870,yT=30,cM=vT-yT,hM=25e3,dM=3e4;class vs{constructor(e,n,i,r,o,l,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ya(e),this.stats_=Qm(n),this.urlFn=h=>(this.appCheckToken&&(h[ap]=this.appCheckToken),pT(n,dT,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dM)),jA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jm((...o)=>{const[l,u,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===aw)this.id=u,this.password=h;else if(l===nM)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[aw]="t",i[gT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[sM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[rT]=Ym,this.transportSessionId&&(i[sT]=this.transportSessionId),this.lastSessionId&&(i[uT]=this.lastSessionId),this.applicationId&&(i[cT]=this.applicationId),this.appCheckToken&&(i[ap]=this.appCheckToken),typeof location<"u"&&location.hostname&&lT.test(location.hostname)&&(i[oT]=aT);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vs.forceAllow_=!0}static forceDisallow(){vs.forceDisallow_=!0}static isAvailable(){return vs.forceAllow_?!0:!vs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!HA()&&!$A()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=hC(n),r=nT(i,cM);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[uM]="t",i[mT]=e,i[_T]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Jm{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UA(),window[iM+this.uniqueCallbackIdentifier]=e,window[rM+this.uniqueCallbackIdentifier]=n,this.myIFrame=Jm.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){ut("frame writing exception"),u.stack&&ut(u.stack),ut(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mT]=this.myID,e[_T]=this.myPW,e[gT]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yT+i.length<=vT;){const l=this.pendingSegs.shift();i=i+"&"+oM+r+"="+l.seg+"&"+aM+r+"="+l.ts+"&"+lM+r+"="+l.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(hM)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=16384,pM=45e3;let Gu=null;typeof MozWebSocket<"u"?Gu=MozWebSocket:typeof WebSocket<"u"&&(Gu=WebSocket);class fn{constructor(e,n,i,r,o,l,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ya(this.connId),this.stats_=Qm(n),this.connURL=fn.connectionURL_(n,l,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const l={};return l[rT]=Ym,typeof location<"u"&&location.hostname&&lT.test(location.hostname)&&(l[oT]=aT),n&&(l[sT]=n),i&&(l[uT]=i),r&&(l[ap]=r),o&&(l[cT]=o),pT(e,hT,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fr.set("previous_websocket_failure",!0);try{let i;wC(),this.mySock=new Gu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){fn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Gu!==null&&!fn.forceDisallow_}static previouslyFailed(){return fr.isInMemoryStorage||fr.get("previous_websocket_failure")===!0}markConnectionHealthy(){fr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Pa(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(z(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=nT(n,fM);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fn.responsesRequiredToBeHealthy=2;fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[vs,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=fn&&fn.isAvailable();let i=n&&!fn.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[fn];else{const r=this.transports_=[];for(const o of ba.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);ba.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ba.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=6e4,_M=5e3,gM=10*1024,vM=100*1024,Bd="t",lw="d",yM="s",uw="r",wM="e",cw="o",hw="a",dw="n",fw="p",EM="h";class SM{constructor(e,n,i,r,o,l,u,h,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ya("c:"+this.id+":"),this.transportManager_=new ba(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Xo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>vM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bd in e){const n=e[Bd];n===hw?this.upgradeIfSecondaryHealthy_():n===uw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Lo("t",e),i=Lo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:fw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:hw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Lo("t",e),i=Lo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Lo(Bd,e);if(lw in e){const i=e[lw];if(n===EM){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===dw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===yM?this.onConnectionShutdown_(i):n===uw?this.onReset_(i):n===wM?op("Server Error: "+i):n===cw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):op("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ym!==i&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Xo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_M))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:fw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.allowedEvents_=e,this.listeners_={},z(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){z(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends ET{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ku}getInitialEvent(e){return z(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=32,mw=768;class Te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ee(){return new Te("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qi(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Te(t.pieces_,e)}function Xm(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function CM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ra(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ST(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Te(e,0)}function Ue(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Te(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){const n=ue(t),i=ue(e);if(n===null)return e;if(n===i)return Ot(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function TM(t,e){const n=Ra(t,0),i=Ra(e,0);for(let r=0;r<n.length&&r<i.length;r++){const o=Vr(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function e_(t,e){if(qi(t)!==qi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Xt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(qi(t)>qi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class IM{constructor(e,n){this.errorPrefix_=n,this.parts_=Ra(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Zc(this.parts_[i]);CT(this)}}function PM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zc(e),CT(t)}function xM(t){const e=t.parts_.pop();t.byteLength_-=Zc(e),t.parts_.length>0&&(t.byteLength_-=1)}function CT(t){if(t.byteLength_>mw)throw new Error(t.errorPrefix_+"has a key path longer than "+mw+" bytes ("+t.byteLength_+").");if(t.parts_.length>pw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pw+") or object contains a cycle "+ar(t))}function ar(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends ET{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t_}getInitialEvent(e){return z(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=1e3,kM=60*5*1e3,_w=30*1e3,bM=1.3,RM=3e4,LM="server_kill",gw=3;class ti extends wT{constructor(e,n,i,r,o,l,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=ti.nextPersistentConnectionId_++,this.log_=Ya("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oo,this.maxReconnectDelay_=kM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!wC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");t_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ku.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(rt(o)),z(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Ga,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),z(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(l).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,u=>{const h=u.d,f=u.s;ti.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jn(e,"w")){const i=js(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_w)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jL(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,l=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),z(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";r&&(o.q=i,o.t=r),this.sendRequest(l,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const l={p:n,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):op("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){z(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RM&&(this.reconnectDelay_=Oo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ti.nextConnectionId_++,o=this.lastSessionId;let l=!1,u=null;const h=function(){u?u.close():(l=!0,i())},f=function(_){z(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,u=new SM(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{Pt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(LM)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Pt(_),h())}}}interrupt(e){ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Yf(this.interruptReasons_)&&(this.reconnectDelay_=Oo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>Km(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Te(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){ut("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gw&&(this.reconnectDelay_=_w,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ut("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+XC.replace(/\./g,"-")]=1,zm()?e["framework.cordova"]=1:yC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ku.getInstance().currentlyOnline();return Yf(this.interruptReasons_)&&e}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ce(Ws,e),r=new ce(Ws,n);return this.compare(i,r)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl;class TT extends Qc{static get __EMPTY_NODE(){return jl}static set __EMPTY_NODE(e){jl=e}compare(e,n){return Vr(e.name,n.name)}isDefinedOn(e){throw Xs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Lr,jl)}makePost(e,n){return z(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,jl)}toString(){return".key"}}const bs=new TT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??tt.RED,this.left=r??Nt.EMPTY_NODE,this.right=o??Nt.EMPTY_NODE}copy(e,n,i,r,o){return new tt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tt.RED=!0;tt.BLACK=!1;class OM{copy(e,n,i,r,o){return this}insert(e,n,i){return new tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(e,n=Nt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Nt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,tt.BLACK,null,null))}remove(e){return new Nt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wl(this.root_,null,this.comparator_,!0,e)}}Nt.EMPTY_NODE=new OM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e){return Vr(t.name,e.name)}function n_(t,e){return Vr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp;function AM(t){lp=t}const IT=function(t){return typeof t=="number"?"number:"+iT(t):"string:"+t},PT=function(t){if(t.isLeafNode()){const e=t.val();z(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jn(e,".sv"),"Priority must be a string or number.")}else z(t===lp||t.isEmpty(),"priority of unexpected type.");z(t===lp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vw;class Xe{constructor(e,n=Xe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,z(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PT(this.priorityNode_)}static set __childrenNodeConstructor(e){vw=e}static get __childrenNodeConstructor(){return vw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Xe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:ue(e)===".priority"?this.priorityNode_:Xe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Xe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ue(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(z(i!==".priority"||qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Xe.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+IT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=iT(this.value_):e+=this.value_,this.lazyHash_=tT(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Xe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Xe.__childrenNodeConstructor?-1:(z(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Xe.VALUE_TYPE_ORDER.indexOf(n),o=Xe.VALUE_TYPE_ORDER.indexOf(i);return z(r>=0,"Unknown leaf type: "+n),z(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Xe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xT,kT;function MM(t){xT=t}function DM(t){kT=t}class FM extends Qc{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Vr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Lr,new Xe("[PRIORITY-POST]",kT))}makePost(e,n){const i=xT(e);return new ce(n,new Xe("[PRIORITY-POST]",i))}toString(){return".priority"}}const Be=new FM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=Math.log(2);class BM{constructor(e){const n=o=>parseInt(Math.log(o)/UM,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Yu=function(t,e,n,i){t.sort(e);const r=function(h,f){const m=f-h;let _,v;if(m===0)return null;if(m===1)return _=t[h],v=n?n(_):_,new tt(v,_.node,tt.BLACK,null,null);{const E=parseInt(m/2,10)+h,y=r(h,E),T=r(E+1,f);return _=t[E],v=n?n(_):_,new tt(v,_.node,tt.BLACK,y,T)}},o=function(h){let f=null,m=null,_=t.length;const v=function(y,T){const N=_-y,S=_;_-=y;const w=r(N+1,S),I=t[N],O=n?n(I):I;E(new tt(O,I.node,T,null,w))},E=function(y){f?(f.left=y,f=y):(m=y,f=y)};for(let y=0;y<h.count;++y){const T=h.nextBitIsOne(),N=Math.pow(2,h.count-(y+1));T?v(N,tt.BLACK):(v(N,tt.BLACK),v(N,tt.RED))}return m},l=new BM(t.length),u=o(l);return new Nt(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;const rs={};class Yn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return z(rs&&Be,"ChildrenNode.ts has not been loaded"),zd=zd||new Yn({".priority":rs},{".priority":Be}),zd}get(e){const n=js(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return jn(this.indexSet_,e.toString())}addIndex(e,n){z(e!==bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(ce.Wrap);let l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let u;r?u=Yu(i,e.getCompare()):u=rs;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const m=Object.assign({},this.indexes_);return m[h]=u,new Yn(m,f)}addToIndexes(e,n){const i=$u(this.indexes_,(r,o)=>{const l=js(this.indexSet_,o);if(z(l,"Missing index implementation for "+o),r===rs)if(l.isDefinedOn(e.node)){const u=[],h=n.getIterator(ce.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&u.push(f),f=h.getNext();return u.push(e),Yu(u,l.getCompare())}else return rs;else{const u=n.get(e.name);let h=r;return u&&(h=h.remove(new ce(e.name,u))),h.insert(e,e.node)}});return new Yn(i,this.indexSet_)}removeFromIndexes(e,n){const i=$u(this.indexes_,r=>{if(r===rs)return r;{const o=n.get(e.name);return o?r.remove(new ce(e.name,o)):r}});return new Yn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No;class ee{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&PT(this.priorityNode_),this.children_.isEmpty()&&z(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return No||(No=new ee(new Nt(n_),null,Yn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||No}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?No:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(z(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ce(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?No:this.priorityNode_;return new ee(r,l,o)}}updateChild(e,n){const i=ue(e);if(i===null)return n;{z(ue(e)!==".priority"||qi(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ke(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Be,(l,u)=>{n[l]=u.val(e),i++,o&&ee.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*i){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+IT(this.getPriority().val())+":"),this.forEachChild(Be,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":tT(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new ce(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ce.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qa?-1:0}withIndex(e){if(e===bs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===bs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Be),r=n.getIterator(Be);let o=i.getNext(),l=r.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=r.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===bs?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class zM extends ee{constructor(){super(new Nt(n_),ee.EMPTY_NODE,Yn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const Qa=new zM;Object.defineProperties(ce,{MIN:{value:new ce(Ws,ee.EMPTY_NODE)},MAX:{value:new ce(Lr,Qa)}});TT.__EMPTY_NODE=ee.EMPTY_NODE;Xe.__childrenNodeConstructor=ee;AM(Qa);DM(Qa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=!0;function it(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),z(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Xe(n,it(e))}if(!(t instanceof Array)&&jM){const n=[];let i=!1;if(dt(t,(l,u)=>{if(l.substring(0,1)!=="."){const h=it(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ce(l,h)))}}),n.length===0)return ee.EMPTY_NODE;const o=Yu(n,NM,l=>l.name,n_);if(i){const l=Yu(n,Be.getCompare());return new ee(o,it(e),new Yn({".priority":l},{".priority":Be}))}else return new ee(o,it(e),Yn.Default)}else{let n=ee.EMPTY_NODE;return dt(t,(i,r)=>{if(jn(t,i)&&i.substring(0,1)!=="."){const o=it(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(it(e))}}MM(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM extends Qc{constructor(e){super(),this.indexPath_=e,z(!he(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Vr(e.name,n.name):o}makePost(e,n){const i=it(e),r=ee.EMPTY_NODE.updateChild(this.indexPath_,i);return new ce(n,r)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,Qa);return new ce(Lr,e)}toString(){return Ra(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM extends Qc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Vr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const i=it(e);return new ce(n,i)}toString(){return".value"}}const $M=new HM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){return{type:"value",snapshotNode:t}}function Hs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function La(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Oa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function VM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e){this.index_=e}updateChild(e,n,i,r,o,l){z(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange(La(n,u)):z(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(Hs(n,i)):l.trackChildChange(Oa(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Be,(r,o)=>{n.hasChild(r)||i.trackChildChange(La(r,o))}),n.isLeafNode()||n.forEachChild(Be,(r,o)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(o)||i.trackChildChange(Oa(r,o,l))}else i.trackChildChange(Hs(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.indexedFilter_=new i_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Na.getStartPost_(e),this.endPost_=Na.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,l){return this.matches(new ce(n,i))||(i=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ee.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ee.EMPTY_NODE);const o=this;return n.forEachChild(Be,(l,u)=>{o.matches(new ce(l,u))||(r=r.updateImmediateChild(l,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Na(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,l){return this.rangedFilter_.matches(new ce(n,i))||(i=ee.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,l):this.fullLimitUpdateChild_(e,n,i,o,l)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ee.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ee.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let l=0;for(;o.hasNext();){const u=o.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let l;if(this.reverse_){const _=this.index_.getCompare();l=(v,E)=>_(E,v)}else l=this.index_.getCompare();const u=e;z(u.numChildren()===this.limit_,"");const h=new ce(n,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(u.hasChild(n)){const _=u.getImmediateChild(n);let v=r.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||u.hasChild(v.name));)v=r.getChildAfterChild(this.index_,v,this.reverse_);const E=v==null?1:l(v,h);if(m&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(Oa(n,i,_)),u.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(La(n,_));const T=u.updateImmediateChild(n,ee.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(Hs(v.name,v.node)),T.updateImmediateChild(v.name,v.node)):T}}else return i.isEmpty()?e:m&&l(f,h)>=0?(o!=null&&(o.trackChildChange(La(f.name,f.node)),o.trackChildChange(Hs(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(f.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return z(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return z(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ws}hasEnd(){return this.endSet_}getIndexEndValue(){return z(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return z(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Lr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return z(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Be}copy(){const e=new r_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function qM(t){return t.loadsAllData()?new i_(t.getIndex()):t.hasLimit()?new ZM(t):new Na(t)}function yw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Be?n="$priority":t.index_===$M?n="$value":t.index_===bs?n="$key":(z(t.index_ instanceof WM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=rt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+rt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=rt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ww(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Be&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends wT{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ya("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(z(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=Qu.getListenId_(e,i),u={};this.listens_[l]=u;const h=yw(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let _=m;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(o,_,!1,i),js(this.listens_,l)===u){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",r(v,null)}})}unlisten(e,n){const i=Qu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=yw(e._queryParams),i=e._path.toString(),r=new Ga;return this.restRequest_(i+".json",n,(o,l)=>{let u=l;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+eo(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=Pa(u.responseText)}catch{Pt("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,h)}else u.status!==401&&u.status!==404&&Pt("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){return{value:null,children:new Map}}function RT(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ue(e);t.children.has(i)||t.children.set(i,Ju());const r=t.children.get(i);e=ke(e),RT(r,e,n)}}function up(t,e,n){t.value!==null?n(e,t.value):KM(t,(i,r)=>{const o=new Te(e.toString()+"/"+i);up(r,o,n)})}function KM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=10*1e3,QM=30*1e3,JM=5*60*1e3;class XM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YM(e);const i=Ew+(QM-Ew)*Math.random();Xo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;dt(e,(r,o)=>{o>0&&jn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Xo(this.reportStats_.bind(this),Math.floor(Math.random()*2*JM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function s_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function o_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function a_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=pn.ACK_USER_WRITE,this.source=s_()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return z(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Te(e));return new Xu(Ee(),n,this.revert)}}else return z(ue(this.path)===e,"operationForChild called for unrelated child."),new Xu(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.source=e,this.path=n,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Aa(this.source,Ee()):new Aa(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=pn.OVERWRITE}operationForChild(e){return he(this.path)?new Or(this.source,Ee(),this.snap.getImmediateChild(e)):new Or(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=pn.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Te(e));return n.isEmpty()?null:n.value?new Or(this.source,Ee(),n.value):new $s(this.source,Ee(),n)}else return z(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $s(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tD(t,e,n,i){const r=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(VM(l.childName,l.snapshotNode))}),Ao(t,r,"child_removed",e,i,n),Ao(t,r,"child_added",e,i,n),Ao(t,r,"child_moved",o,i,n),Ao(t,r,"child_changed",e,i,n),Ao(t,r,"value",e,i,n),r}function Ao(t,e,n,i,r,o){const l=i.filter(u=>u.type===n);l.sort((u,h)=>iD(t,u,h)),l.forEach(u=>{const h=nD(t,u,o);r.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(h,t.query_))})})}function nD(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function iD(t,e,n){if(e.childName==null||n.childName==null)throw Xs("Should only compare child_ events.");const i=new ce(e.childName,e.snapshotNode),r=new ce(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e){return{eventCache:t,serverCache:e}}function ea(t,e,n,i){return Jc(new Nr(e,n,i),t.serverCache)}function LT(t,e,n,i){return Jc(t.eventCache,new Nr(e,n,i))}function cp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ar(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd;const rD=()=>(jd||(jd=new Nt(WA)),jd);class xe{constructor(e,n=rD()){this.value=e,this.children=n}static fromObject(e){let n=new xe(null);return dt(e,(i,r)=>{n=n.set(new Te(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ee(),value:this.value};if(he(e))return null;{const i=ue(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(ke(e),n);return o!=null?{path:Ue(new Te(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=ue(e),i=this.children.get(n);return i!==null?i.subtree(ke(e)):new xe(null)}}set(e,n){if(he(e))return new xe(n,this.children);{const i=ue(e),o=(this.children.get(i)||new xe(null)).set(ke(e),n),l=this.children.insert(i,o);return new xe(this.value,l)}}remove(e){if(he(e))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const n=ue(e),i=this.children.get(n);if(i){const r=i.remove(ke(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new xe(null):new xe(this.value,o)}else return this}}get(e){if(he(e))return this.value;{const n=ue(e),i=this.children.get(n);return i?i.get(ke(e)):null}}setTree(e,n){if(he(e))return n;{const i=ue(e),o=(this.children.get(i)||new xe(null)).setTree(ke(e),n);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new xe(this.value,l)}}fold(e){return this.fold_(Ee(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ue(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ee(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(he(e))return null;{const o=ue(e),l=this.children.get(o);return l?l.findOnPath_(ke(e),Ue(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ee(),n)}foreachOnPath_(e,n,i){if(he(e))return this;{this.value&&i(n,this.value);const r=ue(e),o=this.children.get(r);return o?o.foreachOnPath_(ke(e),Ue(n,r),i):new xe(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ue(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.writeTree_=e}static empty(){return new gn(new xe(null))}}function ta(t,e,n){if(he(e))return new gn(new xe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const l=Ot(r,e);return o=o.updateChild(l,n),new gn(t.writeTree_.set(r,o))}else{const r=new xe(n),o=t.writeTree_.setTree(e,r);return new gn(o)}}}function hp(t,e,n){let i=t;return dt(n,(r,o)=>{i=ta(i,Ue(e,r),o)}),i}function Sw(t,e){if(he(e))return gn.empty();{const n=t.writeTree_.setTree(e,new xe(null));return new gn(n)}}function dp(t,e){return Zr(t,e)!=null}function Zr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function Cw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Be,(i,r)=>{e.push(new ce(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ce(i,r.value))}),e}function $i(t,e){if(he(e))return t;{const n=Zr(t,e);return n!=null?new gn(new xe(n)):new gn(t.writeTree_.subtree(e))}}function fp(t){return t.writeTree_.isEmpty()}function Vs(t,e){return OT(Ee(),t.writeTree_,e)}function OT(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(z(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=OT(Ue(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ue(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e){return DT(e,t)}function sD(t,e,n,i,r){z(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=ta(t.visibleWrites,e,n)),t.lastWriteId=i}function oD(t,e,n,i){z(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=hp(t.visibleWrites,e,n),t.lastWriteId=i}function aD(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function lD(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);z(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&uD(u,i.path)?r=!1:Xt(i.path,u.path)&&(o=!0)),l--}if(r){if(o)return cD(t),!0;if(i.snap)t.visibleWrites=Sw(t.visibleWrites,i.path);else{const u=i.children;dt(u,h=>{t.visibleWrites=Sw(t.visibleWrites,Ue(i.path,h))})}return!0}else return!1}function uD(t,e){if(t.snap)return Xt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xt(Ue(t.path,n),e))return!0;return!1}function cD(t){t.visibleWrites=NT(t.allWrites,hD,Ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hD(t){return t.visible}function NT(t,e,n){let i=gn.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const l=o.path;let u;if(o.snap)Xt(n,l)?(u=Ot(n,l),i=ta(i,u,o.snap)):Xt(l,n)&&(u=Ot(l,n),i=ta(i,Ee(),o.snap.getChild(u)));else if(o.children){if(Xt(n,l))u=Ot(n,l),i=hp(i,u,o.children);else if(Xt(l,n))if(u=Ot(l,n),he(u))i=hp(i,Ee(),o.children);else{const h=js(o.children,ue(u));if(h){const f=h.getChild(ke(u));i=ta(i,Ee(),f)}}}else throw Xs("WriteRecord should have .snap or .children")}}return i}function AT(t,e,n,i,r){if(!i&&!r){const o=Zr(t.visibleWrites,e);if(o!=null)return o;{const l=$i(t.visibleWrites,e);if(fp(l))return n;if(n==null&&!dp(l,Ee()))return null;{const u=n||ee.EMPTY_NODE;return Vs(l,u)}}}else{const o=$i(t.visibleWrites,e);if(!r&&fp(o))return n;if(!r&&n==null&&!dp(o,Ee()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(Xt(f.path,e)||Xt(e,f.path))},u=NT(t.allWrites,l,e),h=n||ee.EMPTY_NODE;return Vs(u,h)}}}function dD(t,e,n){let i=ee.EMPTY_NODE;const r=Zr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Be,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(n){const o=$i(t.visibleWrites,e);return n.forEachChild(Be,(l,u)=>{const h=Vs($i(o,new Te(l)),u);i=i.updateImmediateChild(l,h)}),Cw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=$i(t.visibleWrites,e);return Cw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function fD(t,e,n,i,r){z(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ue(e,n);if(dp(t.visibleWrites,o))return null;{const l=$i(t.visibleWrites,o);return fp(l)?r.getChild(n):Vs(l,r.getChild(n))}}function pD(t,e,n,i){const r=Ue(e,n),o=Zr(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const l=$i(t.visibleWrites,r);return Vs(l,i.getNode().getImmediateChild(n))}else return null}function mD(t,e){return Zr(t.visibleWrites,e)}function _D(t,e,n,i,r,o,l){let u;const h=$i(t.visibleWrites,e),f=Zr(h,Ee());if(f!=null)u=f;else if(n!=null)u=Vs(h,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],_=l.getCompare(),v=o?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let E=v.getNext();for(;E&&m.length<r;)_(E,i)!==0&&m.push(E),E=v.getNext();return m}else return[]}function gD(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function ec(t,e,n,i){return AT(t.writeTree,t.treePath,e,n,i)}function u_(t,e){return dD(t.writeTree,t.treePath,e)}function Tw(t,e,n,i){return fD(t.writeTree,t.treePath,e,n,i)}function tc(t,e){return mD(t.writeTree,Ue(t.treePath,e))}function vD(t,e,n,i,r,o){return _D(t.writeTree,t.treePath,e,n,i,r,o)}function c_(t,e,n){return pD(t.writeTree,t.treePath,e,n)}function MT(t,e){return DT(Ue(t.treePath,e),t.writeTree)}function DT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;z(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),z(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Oa(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,La(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Hs(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Oa(i,e.snapshotNode,r.oldSnap));else throw Xs("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const FT=new wD;class h_{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Nr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return c_(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ar(this.viewCache_),o=vD(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){return{filter:t}}function SD(t,e){z(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),z(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function CD(t,e,n,i,r){const o=new yD;let l,u;if(n.type===pn.OVERWRITE){const f=n;f.source.fromUser?l=pp(t,e,f.path,f.snap,i,r,o):(z(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!he(f.path),l=nc(t,e,f.path,f.snap,i,r,u,o))}else if(n.type===pn.MERGE){const f=n;f.source.fromUser?l=ID(t,e,f.path,f.children,i,r,o):(z(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),l=mp(t,e,f.path,f.children,i,r,u,o))}else if(n.type===pn.ACK_USER_WRITE){const f=n;f.revert?l=kD(t,e,f.path,i,r,o):l=PD(t,e,f.path,f.affectedTree,i,r,o)}else if(n.type===pn.LISTEN_COMPLETE)l=xD(t,e,n.path,i,o);else throw Xs("Unknown operation type: "+n.type);const h=o.getChanges();return TD(e,l,h),{viewCache:l,changes:h}}function TD(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=cp(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(bT(cp(e)))}}function UT(t,e,n,i,r,o){const l=e.eventCache;if(tc(i,n)!=null)return e;{let u,h;if(he(n))if(z(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Ar(e),m=f instanceof ee?f:ee.EMPTY_NODE,_=u_(i,m);u=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const f=ec(i,Ar(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=ue(n);if(f===".priority"){z(qi(n)===1,"Can't have a priority with additional path components");const m=l.getNode();h=e.serverCache.getNode();const _=Tw(i,n,m,h);_!=null?u=t.filter.updatePriority(m,_):u=l.getNode()}else{const m=ke(n);let _;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const v=Tw(i,n,l.getNode(),h);v!=null?_=l.getNode().getImmediateChild(f).updateChild(m,v):_=l.getNode().getImmediateChild(f)}else _=c_(i,f,e.serverCache);_!=null?u=t.filter.updateChild(l.getNode(),f,_,m,r,o):u=l.getNode()}}return ea(e,u,l.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function nc(t,e,n,i,r,o,l,u){const h=e.serverCache;let f;const m=l?t.filter:t.filter.getIndexedFilter();if(he(n))f=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);f=m.updateFullNode(h.getNode(),E,null)}else{const E=ue(n);if(!h.isCompleteForPath(n)&&qi(n)>1)return e;const y=ke(n),N=h.getNode().getImmediateChild(E).updateChild(y,i);E===".priority"?f=m.updatePriority(h.getNode(),N):f=m.updateChild(h.getNode(),E,N,y,FT,null)}const _=LT(e,f,h.isFullyInitialized()||he(n),m.filtersNodes()),v=new h_(r,_,o);return UT(t,_,n,r,v,u)}function pp(t,e,n,i,r,o,l){const u=e.eventCache;let h,f;const m=new h_(r,e,o);if(he(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,l),h=ea(e,f,!0,t.filter.filtersNodes());else{const _=ue(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=ea(e,f,u.isFullyInitialized(),u.isFiltered());else{const v=ke(n),E=u.getNode().getImmediateChild(_);let y;if(he(v))y=i;else{const T=m.getCompleteChild(_);T!=null?Xm(v)===".priority"&&T.getChild(ST(v)).isEmpty()?y=T:y=T.updateChild(v,i):y=ee.EMPTY_NODE}if(E.equals(y))h=e;else{const T=t.filter.updateChild(u.getNode(),_,y,v,m,l);h=ea(e,T,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function Iw(t,e){return t.eventCache.isCompleteForChild(e)}function ID(t,e,n,i,r,o,l){let u=e;return i.foreach((h,f)=>{const m=Ue(n,h);Iw(e,ue(m))&&(u=pp(t,u,m,f,r,o,l))}),i.foreach((h,f)=>{const m=Ue(n,h);Iw(e,ue(m))||(u=pp(t,u,m,f,r,o,l))}),u}function Pw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function mp(t,e,n,i,r,o,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;he(n)?f=i:f=new xe(null).setTree(n,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((_,v)=>{if(m.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),y=Pw(t,E,v);h=nc(t,h,new Te(_),y,r,o,l,u)}}),f.children.inorderTraversal((_,v)=>{const E=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!m.hasChild(_)&&!E){const y=e.serverCache.getNode().getImmediateChild(_),T=Pw(t,y,v);h=nc(t,h,new Te(_),T,r,o,l,u)}}),h}function PD(t,e,n,i,r,o,l){if(tc(r,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(he(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return nc(t,e,n,h.getNode().getChild(n),r,o,u,l);if(he(n)){let f=new xe(null);return h.getNode().forEachChild(bs,(m,_)=>{f=f.set(new Te(m),_)}),mp(t,e,n,f,r,o,u,l)}else return e}else{let f=new xe(null);return i.foreach((m,_)=>{const v=Ue(n,m);h.isCompleteForPath(v)&&(f=f.set(m,h.getNode().getChild(v)))}),mp(t,e,n,f,r,o,u,l)}}function xD(t,e,n,i,r){const o=e.serverCache,l=LT(e,o.getNode(),o.isFullyInitialized()||he(n),o.isFiltered());return UT(t,l,n,i,FT,r)}function kD(t,e,n,i,r,o){let l;if(tc(i,n)!=null)return e;{const u=new h_(i,e,r),h=e.eventCache.getNode();let f;if(he(n)||ue(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=ec(i,Ar(e));else{const _=e.serverCache.getNode();z(_ instanceof ee,"serverChildren would be complete if leaf node"),m=u_(i,_)}m=m,f=t.filter.updateFullNode(h,m,o)}else{const m=ue(n);let _=c_(i,m,e.serverCache);_==null&&e.serverCache.isCompleteForChild(m)&&(_=h.getImmediateChild(m)),_!=null?f=t.filter.updateChild(h,m,_,ke(n),u,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(h,m,ee.EMPTY_NODE,ke(n),u,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=ec(i,Ar(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||tc(i,Ee())!=null,ea(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new i_(i.getIndex()),o=qM(i);this.processor_=ED(o);const l=n.serverCache,u=n.eventCache,h=r.updateFullNode(ee.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(ee.EMPTY_NODE,u.getNode(),null),m=new Nr(h,l.isFullyInitialized(),r.filtersNodes()),_=new Nr(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jc(_,m),this.eventGenerator_=new eD(this.query_)}get query(){return this.query_}}function RD(t){return t.viewCache_.serverCache.getNode()}function LD(t,e){const n=Ar(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function xw(t){return t.eventRegistrations_.length===0}function OD(t,e){t.eventRegistrations_.push(e)}function kw(t,e,n){const i=[];if(n){z(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,r);l&&i.push(l)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function bw(t,e,n,i){e.type===pn.MERGE&&e.source.queryId!==null&&(z(Ar(t.viewCache_),"We should always have a full cache before handling merges"),z(cp(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=CD(t.processor_,r,e,n,i);return SD(t.processor_,o.viewCache),z(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,BT(t,o.changes,o.viewCache.eventCache.getNode(),null)}function ND(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Be,(o,l)=>{i.push(Hs(o,l))}),n.isFullyInitialized()&&i.push(bT(n.getNode())),BT(t,i,n.getNode(),e)}function BT(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return tD(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic;class AD{constructor(){this.views=new Map}}function MD(t){z(!ic,"__referenceConstructor has already been defined"),ic=t}function DD(){return z(ic,"Reference.ts has not been loaded"),ic}function FD(t){return t.views.size===0}function d_(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return z(o!=null,"SyncTree gave us an op for an invalid query."),bw(o,e,n,i)}else{let o=[];for(const l of t.views.values())o=o.concat(bw(l,e,n,i));return o}}function UD(t,e,n,i,r){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let u=ec(n,r?i:null),h=!1;u?h=!0:i instanceof ee?(u=u_(n,i),h=!1):(u=ee.EMPTY_NODE,h=!1);const f=Jc(new Nr(u,h,!1),new Nr(i,r,!1));return new bD(e,f)}return l}function BD(t,e,n,i,r,o){const l=UD(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),OD(l,n),ND(l,n)}function zD(t,e,n,i){const r=e._queryIdentifier,o=[];let l=[];const u=Gi(t);if(r==="default")for(const[h,f]of t.views.entries())l=l.concat(kw(f,n,i)),xw(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(r);h&&(l=l.concat(kw(h,n,i)),xw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!Gi(t)&&o.push(new(DD())(e._repo,e._path)),{removed:o,events:l}}function zT(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Rs(t,e){let n=null;for(const i of t.views.values())n=n||LD(i,e);return n}function jT(t,e){if(e._queryParams.loadsAllData())return Xc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function WT(t,e){return jT(t,e)!=null}function Gi(t){return Xc(t)!=null}function Xc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;function jD(t){z(!rc,"__referenceConstructor has already been defined"),rc=t}function WD(){return z(rc,"Reference.ts has not been loaded"),rc}let HD=1;class Rw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=gD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function HT(t,e,n,i,r){return sD(t.pendingWriteTree_,e,n,i,r),r?no(t,new Or(s_(),e,n)):[]}function $D(t,e,n,i){oD(t.pendingWriteTree_,e,n,i);const r=xe.fromObject(n);return no(t,new $s(s_(),e,r))}function Li(t,e,n=!1){const i=aD(t.pendingWriteTree_,e);if(lD(t.pendingWriteTree_,e)){let o=new xe(null);return i.snap!=null?o=o.set(Ee(),!0):dt(i.children,l=>{o=o.set(new Te(l),!0)}),no(t,new Xu(i.path,o,n))}else return[]}function eh(t,e,n){return no(t,new Or(o_(),e,n))}function VD(t,e,n){const i=xe.fromObject(n);return no(t,new $s(o_(),e,i))}function ZD(t,e){return no(t,new Aa(o_(),e))}function qD(t,e,n){const i=p_(t,n);if(i){const r=m_(i),o=r.path,l=r.queryId,u=Ot(o,e),h=new Aa(a_(l),u);return __(t,o,h)}else return[]}function _p(t,e,n,i,r=!1){const o=e._path,l=t.syncPointTree_.get(o);let u=[];if(l&&(e._queryIdentifier==="default"||WT(l,e))){const h=zD(l,e,n,i);FD(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const m=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(v,E)=>Gi(E));if(m&&!_){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const E=YD(v);for(let y=0;y<E.length;++y){const T=E[y],N=T.query,S=ZT(t,T);t.listenProvider_.startListening(na(N),sc(t,N),S.hashFn,S.onComplete)}}}!_&&f.length>0&&!i&&(m?t.listenProvider_.stopListening(na(e),null):f.forEach(v=>{const E=t.queryToTagMap.get(th(v));t.listenProvider_.stopListening(na(v),E)}))}QD(t,f)}return u}function GD(t,e,n,i){const r=p_(t,i);if(r!=null){const o=m_(r),l=o.path,u=o.queryId,h=Ot(l,e),f=new Or(a_(u),h,n);return __(t,l,f)}else return[]}function KD(t,e,n,i){const r=p_(t,i);if(r){const o=m_(r),l=o.path,u=o.queryId,h=Ot(l,e),f=xe.fromObject(n),m=new $s(a_(u),h,f);return __(t,l,m)}else return[]}function Lw(t,e,n,i=!1){const r=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(r,(v,E)=>{const y=Ot(v,r);o=o||Rs(E,y),l=l||Gi(E)});let u=t.syncPointTree_.get(r);u?(l=l||Gi(u),o=o||Rs(u,Ee())):(u=new AD,t.syncPointTree_=t.syncPointTree_.set(r,u));let h;o!=null?h=!0:(h=!1,o=ee.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((E,y)=>{const T=Rs(y,Ee());T&&(o=o.updateImmediateChild(E,T))}));const f=WT(u,e);if(!f&&!e._queryParams.loadsAllData()){const v=th(e);z(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const E=JD();t.queryToTagMap.set(v,E),t.tagToQueryMap.set(E,v)}const m=l_(t.pendingWriteTree_,r);let _=BD(u,e,n,m,o,h);if(!f&&!l&&!i){const v=jT(u,e);_=_.concat(XD(t,e,v))}return _}function f_(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,u)=>{const h=Ot(l,e),f=Rs(u,h);if(f)return f});return AT(r,e,o,n,!0)}function no(t,e){return $T(e,t.syncPointTree_,null,l_(t.pendingWriteTree_,Ee()))}function $T(t,e,n,i){if(he(t.path))return VT(t,e,n,i);{const r=e.get(Ee());n==null&&r!=null&&(n=Rs(r,Ee()));let o=[];const l=ue(t.path),u=t.operationForChild(l),h=e.children.get(l);if(h&&u){const f=n?n.getImmediateChild(l):null,m=MT(i,l);o=o.concat($T(u,h,f,m))}return r&&(o=o.concat(d_(r,t,i,n))),o}}function VT(t,e,n,i){const r=e.get(Ee());n==null&&r!=null&&(n=Rs(r,Ee()));let o=[];return e.children.inorderTraversal((l,u)=>{const h=n?n.getImmediateChild(l):null,f=MT(i,l),m=t.operationForChild(l);m&&(o=o.concat(VT(m,u,h,f)))}),r&&(o=o.concat(d_(r,t,i,n))),o}function ZT(t,e){const n=e.query,i=sc(t,n);return{hashFn:()=>(RD(e)||ee.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?qD(t,n._path,i):ZD(t,n._path);{const o=VA(r,n);return _p(t,n,null,o)}}}}function sc(t,e){const n=th(e);return t.queryToTagMap.get(n)}function th(t){return t._path.toString()+"$"+t._queryIdentifier}function p_(t,e){return t.tagToQueryMap.get(e)}function m_(t){const e=t.indexOf("$");return z(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Te(t.substr(0,e))}}function __(t,e,n){const i=t.syncPointTree_.get(e);z(i,"Missing sync point for query tag that we're tracking");const r=l_(t.pendingWriteTree_,e);return d_(i,n,r,null)}function YD(t){return t.fold((e,n,i)=>{if(n&&Gi(n))return[Xc(n)];{let r=[];return n&&(r=zT(n)),dt(i,(o,l)=>{r=r.concat(l)}),r}})}function na(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(WD())(t._repo,t._path):t}function QD(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=th(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function JD(){return HD++}function XD(t,e,n){const i=e._path,r=sc(t,e),o=ZT(t,n),l=t.listenProvider_.startListening(na(e),r,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(i);if(r)z(!Gi(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,m,_)=>{if(!he(f)&&m&&Gi(m))return[Xc(m).query];{let v=[];return m&&(v=v.concat(zT(m).map(E=>E.query))),dt(_,(E,y)=>{v=v.concat(y)}),v}});for(let f=0;f<h.length;++f){const m=h[f];t.listenProvider_.stopListening(na(m),sc(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new g_(n)}node(){return this.node_}}class v_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ue(this.path_,e);return new v_(this.syncTree_,n)}node(){return f_(this.syncTree_,this.path_)}}const eF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ow=function(t,e,n){if(!t||typeof t!="object")return t;if(z(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nF(t[".sv"],e);z(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:z(!1,"Unexpected server value: "+t)}},nF=function(t,e,n){t.hasOwnProperty("increment")||z(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&z(!1,"Unexpected increment value: "+i);const r=e.node();if(z(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},qT=function(t,e,n,i){return y_(e,new v_(n,t),i)},GT=function(t,e,n){return y_(t,new g_(e),n)};function y_(t,e,n){const i=t.getPriority().val(),r=Ow(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,u=Ow(l.getValue(),e,n);return u!==l.getValue()||r!==l.getPriority().val()?new Xe(u,it(r)):t}else{const l=t;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new Xe(r))),l.forEachChild(Be,(u,h)=>{const f=y_(h,e.getImmediateChild(u),n);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function E_(t,e){let n=e instanceof Te?e:new Te(e),i=t,r=ue(n);for(;r!==null;){const o=js(i.node.children,r)||{children:{},childCount:0};i=new w_(r,i,o),n=ke(n),r=ue(n)}return i}function io(t){return t.node.value}function KT(t,e){t.node.value=e,gp(t)}function YT(t){return t.node.childCount>0}function iF(t){return io(t)===void 0&&!YT(t)}function nh(t,e){dt(t.node.children,(n,i)=>{e(new w_(n,t,i))})}function QT(t,e,n,i){n&&!i&&e(t),nh(t,r=>{QT(r,e,!0,i)}),n&&i&&e(t)}function rF(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ja(t){return new Te(t.parent===null?t.name:Ja(t.parent)+"/"+t.name)}function gp(t){t.parent!==null&&sF(t.parent,t.name,t)}function sF(t,e,n){const i=iF(n),r=jn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,gp(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,gp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=/[\[\].#$\/\u0000-\u001F\u007F]/,aF=/[\[\].#$\u0000-\u001F\u007F]/,Wd=10*1024*1024,S_=function(t){return typeof t=="string"&&t.length!==0&&!oF.test(t)},JT=function(t){return typeof t=="string"&&t.length!==0&&!aF.test(t)},lF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),JT(t)},uF=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Gm(t)||t&&typeof t=="object"&&jn(t,".sv")},cF=function(t,e,n,i){i&&e===void 0||ih(Vc(t,"value"),e,n)},ih=function(t,e,n){const i=n instanceof Te?new IM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ar(i));if(typeof e=="function")throw new Error(t+"contains a function "+ar(i)+" with contents = "+e.toString());if(Gm(e))throw new Error(t+"contains "+e.toString()+" "+ar(i));if(typeof e=="string"&&e.length>Wd/3&&Zc(e)>Wd)throw new Error(t+"contains a string greater than "+Wd+" utf8 bytes "+ar(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(dt(e,(l,u)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!S_(l)))throw new Error(t+" contains an invalid key ("+l+") "+ar(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PM(i,l),ih(t,u,i),xM(i)}),r&&o)throw new Error(t+' contains ".value" child '+ar(i)+" in addition to actual children.")}},hF=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=Ra(i);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!S_(o[l]))throw new Error(t+"contains an invalid key ("+o[l]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TM);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&Xt(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},dF=function(t,e,n,i){if(i&&e===void 0)return;const r=Vc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];dt(e,(l,u)=>{const h=new Te(l);if(ih(r,u,Ue(n,h)),Xm(h)===".priority"&&!uF(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),hF(r,o)},XT=function(t,e,n,i){if(!(i&&n===void 0)&&!JT(n))throw new Error(Vc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fF=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),XT(t,e,n,i)},pF=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},mF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!S_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lF(n))throw new Error(Vc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rh(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!e_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function eI(t,e,n){rh(t,n),tI(t,i=>e_(i,e))}function En(t,e,n){rh(t,n),tI(t,i=>Xt(i,e)||Xt(e,i))}function tI(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(gF(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();yr&&ut("event: "+n.toString()),to(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="repo_interrupt",yF=25;class wF{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _F,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ju(),this.transactionQueueTree_=new w_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function EF(t,e,n){if(t.stats_=Qm(t.repoInfo_),t.forceRestClient_||KA())t.server_=new Qu(t.repoInfo_,(i,r,o,l)=>{Nw(t,i,r,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Aw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ti(t.repoInfo_,e,(i,r,o,l)=>{Nw(t,i,r,o,l)},i=>{Aw(t,i)},i=>{CF(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=eM(t.repoInfo_,()=>new XM(t.stats_,t.server_)),t.infoData_=new GM,t.infoSyncTree_=new Rw({startListening:(i,r,o,l)=>{let u=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(u=eh(t.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),C_(t,"connected",!1),t.serverSyncTree_=new Rw({startListening:(i,r,o,l)=>(t.server_.listen(i,o,r,(u,h)=>{const f=l(u,h);En(t.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function SF(t){const n=t.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sh(t){return eF({timestamp:SF(t)})}function Nw(t,e,n,i,r){t.dataUpdateCount++;const o=new Te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(i){const h=$u(n,f=>it(f));l=KD(t.serverSyncTree_,o,h,r)}else{const h=it(n);l=GD(t.serverSyncTree_,o,h,r)}else if(i){const h=$u(n,f=>it(f));l=VD(t.serverSyncTree_,o,h)}else{const h=it(n);l=eh(t.serverSyncTree_,o,h)}let u=o;l.length>0&&(u=Zs(t,o)),En(t.eventQueue_,u,l)}function Aw(t,e){C_(t,"connected",e),e===!1&&PF(t)}function CF(t,e){dt(e,(n,i)=>{C_(t,n,i)})}function C_(t,e,n){const i=new Te("/.info/"+e),r=it(n);t.infoData_.updateSnapshot(i,r);const o=eh(t.infoSyncTree_,i,r);En(t.eventQueue_,i,o)}function T_(t){return t.nextWriteId_++}function TF(t,e,n,i,r){oh(t,"set",{path:e.toString(),value:n,priority:i});const o=sh(t),l=it(n,i),u=f_(t.serverSyncTree_,e),h=GT(l,u,o),f=T_(t),m=HT(t.serverSyncTree_,e,h,f,!0);rh(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(v,E)=>{const y=v==="ok";y||Pt("set at "+e+" failed: "+v);const T=Li(t.serverSyncTree_,f,!y);En(t.eventQueue_,e,T),vp(t,r,v,E)});const _=P_(t,e);Zs(t,_),En(t.eventQueue_,_,[])}function IF(t,e,n,i){oh(t,"update",{path:e.toString(),value:n});let r=!0;const o=sh(t),l={};if(dt(n,(u,h)=>{r=!1,l[u]=qT(Ue(e,u),it(h),t.serverSyncTree_,o)}),r)ut("update() called with empty data.  Don't do anything."),vp(t,i,"ok",void 0);else{const u=T_(t),h=$D(t.serverSyncTree_,e,l,u);rh(t.eventQueue_,h),t.server_.merge(e.toString(),n,(f,m)=>{const _=f==="ok";_||Pt("update at "+e+" failed: "+f);const v=Li(t.serverSyncTree_,u,!_),E=v.length>0?Zs(t,e):e;En(t.eventQueue_,E,v),vp(t,i,f,m)}),dt(n,f=>{const m=P_(t,Ue(e,f));Zs(t,m)}),En(t.eventQueue_,e,[])}}function PF(t){oh(t,"onDisconnectEvents");const e=sh(t),n=Ju();up(t.onDisconnect_,Ee(),(r,o)=>{const l=qT(r,o,t.serverSyncTree_,e);RT(n,r,l)});let i=[];up(n,Ee(),(r,o)=>{i=i.concat(eh(t.serverSyncTree_,r,o));const l=P_(t,r);Zs(t,l)}),t.onDisconnect_=Ju(),En(t.eventQueue_,Ee(),i)}function xF(t,e,n){let i;ue(e._path)===".info"?i=Lw(t.infoSyncTree_,e,n):i=Lw(t.serverSyncTree_,e,n),eI(t.eventQueue_,e._path,i)}function Mw(t,e,n){let i;ue(e._path)===".info"?i=_p(t.infoSyncTree_,e,n):i=_p(t.serverSyncTree_,e,n),eI(t.eventQueue_,e._path,i)}function kF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(vF)}function oh(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ut(n,...e)}function vp(t,e,n,i){e&&to(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,e(l)}})}function nI(t,e,n){return f_(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function I_(t,e=t.transactionQueueTree_){if(e||ah(t,e),io(e)){const n=rI(t,e);z(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&bF(t,Ja(e),n)}else YT(e)&&nh(e,n=>{I_(t,n)})}function bF(t,e,n){const i=n.map(f=>f.currentWriteId),r=nI(t,e,i);let o=r;const l=r.hash();for(let f=0;f<n.length;f++){const m=n[f];z(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Ot(e,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,f=>{oh(t,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,m=m.concat(Li(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ah(t,E_(t.transactionQueueTree_,e)),I_(t,t.transactionQueueTree_),En(t.eventQueue_,e,m);for(let v=0;v<_.length;v++)to(_[v])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Pt("transaction at "+h.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}Zs(t,e)}},l)}function Zs(t,e){const n=iI(t,e),i=Ja(n),r=rI(t,n);return RF(t,r,i),i}function RF(t,e,n){if(e.length===0)return;const i=[];let r=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],f=Ot(n,h.path);let m=!1,_;if(z(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,_=h.abortReason,r=r.concat(Li(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=yF)m=!0,_="maxretry",r=r.concat(Li(t.serverSyncTree_,h.currentWriteId,!0));else{const v=nI(t,h.path,l);h.currentInputSnapshot=v;const E=e[u].update(v.val());if(E!==void 0){ih("transaction failed: Data returned ",E,h.path);let y=it(E);typeof E=="object"&&E!=null&&jn(E,".priority")||(y=y.updatePriority(v.getPriority()));const N=h.currentWriteId,S=sh(t),w=GT(y,v,S);h.currentOutputSnapshotRaw=y,h.currentOutputSnapshotResolved=w,h.currentWriteId=T_(t),l.splice(l.indexOf(N),1),r=r.concat(HT(t.serverSyncTree_,h.path,w,h.currentWriteId,h.applyLocally)),r=r.concat(Li(t.serverSyncTree_,N,!0))}else m=!0,_="nodata",r=r.concat(Li(t.serverSyncTree_,h.currentWriteId,!0))}En(t.eventQueue_,n,r),r=[],m&&(e[u].status=2,function(v){setTimeout(v,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(_==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(_),!1,null))))}ah(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)to(i[u]);I_(t,t.transactionQueueTree_)}function iI(t,e){let n,i=t.transactionQueueTree_;for(n=ue(e);n!==null&&io(i)===void 0;)i=E_(i,n),e=ke(e),n=ue(e);return i}function rI(t,e){const n=[];return sI(t,e,n),n.sort((i,r)=>i.order-r.order),n}function sI(t,e,n){const i=io(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);nh(e,r=>{sI(t,r,n)})}function ah(t,e){const n=io(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,KT(e,n.length>0?n:void 0)}nh(e,i=>{ah(t,i)})}function P_(t,e){const n=Ja(iI(t,e)),i=E_(t.transactionQueueTree_,e);return rF(i,r=>{Hd(t,r)}),Hd(t,i),QT(i,r=>{Hd(t,r)}),n}function Hd(t,e){const n=io(e);if(n){const i=[];let r=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(z(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(z(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(Li(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?KT(e,void 0):n.length=o+1,En(t.eventQueue_,Ja(e),r);for(let l=0;l<i.length;l++)to(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function OF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Dw=function(t,e){const n=NF(t),i=n.namespace;n.domain==="firebase.com"&&ai(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zA();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fT(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Te(n.pathString)}},NF=function(t){let e="",n="",i="",r="",o="",l=!0,u="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(m,_)),m<_&&(r=LF(t.substring(m,_)));const v=OF(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(l=u==="https"||u==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:l,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class aI{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return z(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return he(this._path)?null:Xm(this._path)}get ref(){return new ci(this._repo,this._path)}get _queryIdentifier(){const e=ww(this._queryParams),n=Km(e);return n==="{}"?"default":n}get _queryObject(){return ww(this._queryParams)}isEqual(e){if(e=je(e),!(e instanceof x_))return!1;const n=this._repo===e._repo,i=e_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+CM(this._path)}}class ci extends x_{constructor(e,n){super(e,n,new r_,!1)}get parent(){const e=ST(this._path);return e===null?null:new ci(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ma{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Te(e),i=oc(this.ref,e);return new Ma(this._node.getChild(n),i,Be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Ma(r,oc(this.ref,i),Be)))}hasChild(e){const n=new Te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lI(t,e){return t=je(t),t._checkNotDeleted("ref"),e!==void 0?oc(t._root,e):t._root}function oc(t,e){return t=je(t),ue(t._path)===null?fF("child","path",e,!1):XT("child","path",e,!1),new ci(t._repo,Ue(t._path,e))}function MF(t,e){t=je(t),pF("set",t._path),cF("set",e,t._path,!1);const n=new Ga;return TF(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function DF(t,e){dF("update",e,t._path,!1);const n=new Ga;return IF(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class k_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new oI("value",this,new Ma(e.snapshotNode,new ci(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new aI(this,e,n):null}matches(e){return e instanceof k_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class b_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new aI(this,e,n):null}createEvent(e,n){z(e.childName!=null,"Child events should have a childName.");const i=oc(new ci(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new oI(e.type,this,new Ma(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof b_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function FF(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,f=(m,_)=>{Mw(t._repo,t,u),h(m,_)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new AF(n,o||void 0),u=e==="value"?new k_(l):new b_(e,l);return xF(t._repo,t,u),()=>Mw(t._repo,t,u)}function UF(t,e,n,i){return FF(t,"value",e,n,i)}MD(ci);jD(ci);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="FIREBASE_DATABASE_EMULATOR_HOST",yp={};let zF=!1;function jF(t,e,n,i){t.repoInfo_=new fT(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function WF(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=Dw(o,r),u=l.repoInfo,h,f;typeof process<"u"&&process.env&&(f=process.env[BF]),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,l=Dw(o,r),u=l.repoInfo):h=!l.repoInfo.secure;const m=r&&h?new ks(ks.OWNER):new QA(t.name,t.options,e);mF("Invalid Firebase Database URL",l),he(l.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");const _=$F(u,t,m,new YA(t.name,n));return new VF(_,t)}function HF(t,e){const n=yp[e];(!n||n[t.key]!==t)&&ai(`Database ${e}(${t.repoInfo_}) has already been deleted.`),kF(t),delete n[t.key]}function $F(t,e,n,i){let r=yp[e.name];r||(r={},yp[e.name]=r);let o=r[t.toURLString()];return o&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new wF(t,zF,n,i),r[t.toURLString()]=o,o}class VF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(EF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ci(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(HF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ai("Cannot call "+e+" on a deleted database.")}}function ZF(t=Gc(),e){const n=Ji(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=pC("database");i&&qF(n,...i)}return n}function qF(t,e,n,i={}){t=je(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ai("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ks(ks.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:gC(i.mockUserToken,t.app.options.projectId);o=new ks(l)}jF(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){MA($r),wn(new sn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return WF(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Ft(iw,rw,t),Ft(iw,rw,"esm2017")}ti.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ti.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};GF();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebasestorage.googleapis.com",cI="storageBucket",KF=2*60*1e3,YF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Cn{constructor(e,n,i=0){super($d(e),`Firebase Storage: ${n} (${$d(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function $d(t){return"storage/"+t}function R_(){const t="An unknown error occurred, please check the error payload for server response.";return new We(ze.UNKNOWN,t)}function QF(t){return new We(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JF(t){return new We(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XF(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(ze.UNAUTHENTICATED,t)}function eU(){return new We(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tU(t){return new We(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nU(){return new We(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iU(){return new We(ze.CANCELED,"User canceled the upload/download.")}function rU(t){return new We(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function sU(t){return new We(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oU(){return new We(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cI+"' property when initializing the app?")}function aU(){return new We(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lU(){return new We(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uU(t){return new We(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function wp(t){return new We(ze.INVALID_ARGUMENT,t)}function hI(){return new We(ze.APP_DELETED,"The Firebase app was deleted.")}function cU(t){return new We(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ia(t,e){return new We(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Mo(t){throw new We(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Tt.makeFromUrl(e,n)}catch{return new Tt(e,"")}if(i.path==="")return i;throw sU(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${m}/b/${r}/o${v}`,"i"),y={bucket:1,path:3},T=n===uI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",S=new RegExp(`^https?://${T}/${r}/${N}`,"i"),I=[{regex:u,indices:h,postModify:o},{regex:E,indices:y,postModify:f},{regex:S,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<I.length;O++){const D=I[O],j=D.regex.exec(e);if(j){const W=j[D.indices.bucket];let V=j[D.indices.path];V||(V=""),i=new Tt(W,V),D.postModify(i);break}}if(i==null)throw rU(e);return i}}class hU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...N){f||(f=!0,e.apply(null,N))}function _(N){r=setTimeout(()=>{r=null,t(E,h())},N)}function v(){o&&clearTimeout(o)}function E(N,...S){if(f){v();return}if(N){v(),m.call(null,N,...S);return}if(h()||l){v(),m.call(null,N,...S);return}i<64&&(i*=2);let I;u===1?(u=2,I=0):I=(i+Math.random())*1e3,_(I)}let y=!1;function T(N){y||(y=!0,v(),!f&&(r!==null?(N||(u=2),clearTimeout(r),_(0)):N||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,T(!0)},n),T}function fU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){return t!==void 0}function mU(t){return typeof t=="object"&&!Array.isArray(t)}function L_(t){return typeof t=="string"||t instanceof String}function Fw(t){return O_()&&t instanceof Blob}function O_(){return typeof Blob<"u"&&!ML()}function Ep(t,e,n,i){if(i<e)throw wp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw wp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function dI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wr||(wr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,i,r,o,l,u,h,f,m,_,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,y)=>{this.resolve_=E,this.reject_=y,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Hl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===wr.NO_ERROR,h=o.getStatus();if(!u||_U(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===wr.ABORT;i(!1,new Hl(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Hl(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());pU(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=R_();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?hI():iU();l(h)}else{const h=nU();l(h)}};this.canceled_?n(!1,new Hl(!1,null,!0)):this.backoffId_=dU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hl{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function vU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function EU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SU(t,e,n,i,r,o,l=!0){const u=dI(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return wU(f,e),vU(f,n),yU(f,o),EU(f,i),new gU(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TU(...t){const e=CU();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(O_())return new Blob(t);throw new We(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){if(typeof atob>"u")throw uU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vd{constructor(e,n){this.data=e,this.contentType=n||null}}function xU(t,e){switch(t){case Mn.RAW:return new Vd(fI(e));case Mn.BASE64:case Mn.BASE64URL:return new Vd(pI(t,e));case Mn.DATA_URL:return new Vd(bU(e),RU(e))}throw R_()}function fI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function kU(t){let e;try{e=decodeURIComponent(t)}catch{throw ia(Mn.DATA_URL,"Malformed data URL.")}return fI(e)}function pI(t,e){switch(t){case Mn.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ia(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Mn.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ia(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=PU(e)}catch(r){throw r.message.includes("polyfill")?r:ia(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class mI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ia(Mn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=LU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function bU(t){const e=new mI(t);return e.base64?pI(Mn.BASE64,e.rest):kU(e.rest)}function RU(t){return new mI(t).contentType}function LU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){let i=0,r="";Fw(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(Fw(this.data_)){const i=this.data_,r=IU(i,e,n);return r===null?null:new Ci(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ci(i,!0)}}static getBlob(...e){if(O_()){const n=e.map(i=>i instanceof Ci?i.data_:i);return new Ci(TU.apply(null,n))}else{const n=e.map(l=>L_(l)?xU(Mn.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new Ci(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){let e;try{e=JSON.parse(t)}catch{return null}return mU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function NU(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function _I(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t,e){return e}class St{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||AU}}let $l=null;function MU(t){return!L_(t)||t.length<2?t:_I(t)}function gI(){if($l)return $l;const t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(o,l){return MU(l)}const n=new St("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new St("size");return r.xform=i,t.push(r),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),$l=t,$l}function DU(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Tt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function FU(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return DU(i,t),i}function vI(t,e,n){const i=N_(e);return i===null?null:FU(t,i,n)}function UU(t,e,n,i){const r=N_(e);if(r===null||!L_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,_=t.fullPath,v="/b/"+l(m)+"/o/"+l(_),E=lh(v,n,i),y=dI({alt:"media",token:f});return E+y})[0]}function BU(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="prefixes",Bw="items";function zU(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Uw])for(const r of n[Uw]){const o=r.replace(/\/$/,""),l=t._makeStorageReference(new Tt(e,o));i.prefixes.push(l)}if(n[Bw])for(const r of n[Bw]){const o=t._makeStorageReference(new Tt(e,r.name));i.items.push(o)}return i}function jU(t,e,n){const i=N_(n);return i===null?null:zU(t,e,i)}class A_{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){if(!t)throw R_()}function WU(t,e){function n(i,r){const o=vI(t,r,e);return M_(o!==null),o}return n}function HU(t,e){function n(i,r){const o=jU(t,e,r);return M_(o!==null),o}return n}function $U(t,e){function n(i,r){const o=vI(t,r,e);return M_(o!==null),UU(o,r,t.host,t._protocol)}return n}function D_(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=eU():r=XF():n.getStatus()===402?r=JF(t.bucket):n.getStatus()===403?r=tU(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function VU(t){const e=D_(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=QF(t.path)),o.serverResponse=r.serverResponse,o}return n}function ZU(t,e,n,i,r){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);const l=e.bucketOnlyServerUrl(),u=lh(l,t.host,t._protocol),h="GET",f=t.maxOperationRetryTime,m=new A_(u,h,HU(t,e.bucket),f);return m.urlParams=o,m.errorHandler=D_(e),m}function qU(t,e,n){const i=e.fullServerUrl(),r=lh(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new A_(r,o,$U(t,n),l);return u.errorHandler=VU(e),u}function GU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function KU(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=GU(null,e)),i}function YU(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let O=0;O<2;O++)I=I+Math.random().toString().slice(2);return I}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=KU(e,i,r),m=BU(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+h+"--",E=Ci.getBlob(_,i,v);if(E===null)throw aU();const y={name:f.fullPath},T=lh(o,t.host,t._protocol),N="POST",S=t.maxUploadRetryTime,w=new A_(T,N,WU(t,n),S);return w.urlParams=y,w.headers=l,w.body=E.uploadData(),w.errorHandler=D_(e),w}class QU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw Mo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Mo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Mo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Mo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Mo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class JU extends QU{initXhr(){this.xhr_.responseType="text"}}function F_(){return new JU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this._service=e,n instanceof Tt?this._location=n:this._location=Tt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mr(e,n)}get root(){const e=new Tt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _I(this._location.path)}get storage(){return this._service}get parent(){const e=OU(this._location.path);if(e===null)return null;const n=new Tt(this._location.bucket,e);return new Mr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw cU(e)}}function XU(t,e,n){t._throwIfRoot("uploadBytes");const i=YU(t.storage,t._location,gI(),new Ci(e,!0),n);return t.storage.makeRequestWithTokens(i,F_).then(r=>({metadata:r,ref:t}))}function e2(t){const e={prefixes:[],items:[]};return yI(t,e).then(()=>e)}async function yI(t,e,n){const r=await t2(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&await yI(t,e,r.nextPageToken)}function t2(t,e){e!=null&&typeof e.maxResults=="number"&&Ep("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=ZU(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,F_)}function n2(t){t._throwIfRoot("getDownloadURL");const e=qU(t.storage,t._location,gI());return t.storage.makeRequestWithTokens(e,F_).then(n=>{if(n===null)throw lU();return n})}function i2(t,e){const n=NU(t._location.path,e),i=new Tt(t._location.bucket,n);return new Mr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){return/^[A-Za-z]+:\/\//.test(t)}function s2(t,e){return new Mr(t,e)}function wI(t,e){if(t instanceof U_){const n=t;if(n._bucket==null)throw oU();const i=new Mr(n,n._bucket);return e!=null?wI(i,e):i}else return e!==void 0?i2(t,e):t}function o2(t,e){if(e&&r2(e)){if(t instanceof U_)return s2(t,e);throw wp("To use ref(service, url), the first argument must be a Storage instance.")}else return wI(t,e)}function zw(t,e){const n=e==null?void 0:e[cI];return n==null?null:Tt.makeFromBucketSpec(n,t)}function a2(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:gC(r,t.app.options.projectId))}class U_{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=uI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KF,this._maxUploadRetryTime=YF,this._requests=new Set,r!=null?this._bucket=Tt.makeFromBucketSpec(r,this._host):this._bucket=zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tt.makeFromBucketSpec(this._url,e):this._bucket=zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ep("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ep("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mr(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new hU(hI());{const l=SU(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const jw="@firebase/storage",Ww="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="storage";function l2(t,e,n){return t=je(t),XU(t,e,n)}function u2(t){return t=je(t),e2(t)}function SI(t){return t=je(t),n2(t)}function Sp(t,e){return t=je(t),o2(t,e)}function c2(t=Gc(),e){t=je(t);const i=Ji(t,EI).getImmediate({identifier:e}),r=pC("storage");return r&&h2(i,...r),i}function h2(t,e,n,i={}){a2(t,e,n,i)}function d2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new U_(n,i,r,e,$r)}function f2(){wn(new sn(EI,d2,"PUBLIC").setMultipleInstances(!0)),Ft(jw,Ww,""),Ft(jw,Ww,"esm2017")}f2();function B_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function CI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p2=CI,TI=new Hr("auth","Firebase",CI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new qc("@firebase/auth");function m2(t,...e){ac.logLevel<=Ce.WARN&&ac.warn(`Auth (${$r}): ${t}`,...e)}function uu(t,...e){ac.logLevel<=Ce.ERROR&&ac.error(`Auth (${$r}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw z_(t,...e)}function Un(t,...e){return z_(t,...e)}function _2(t,e,n){const i=Object.assign(Object.assign({},p2()),{[e]:n});return new Hr("auth","Firebase",i).create(e,{appName:t.name})}function z_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return TI.create(t,...e)}function J(t,e,...n){if(!t)throw z_(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uu(e),new Error(e)}function li(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g2(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||vC()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=zm()||yC()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Xa(3e4,6e4);function hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,i,r={}){return PI(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=eo(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),II.fetch()(xI(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function PI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},w2),e);try{const r=new C2(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Vl(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vl(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Vl(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Vl(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw _2(t,m,f);Sn(t,m)}}catch(r){if(r instanceof Cn)throw r;Sn(t,"network-request-failed",{message:String(r)})}}async function el(t,e,n,i,r={}){const o=await di(t,e,n,i,r);return"mfaPendingCredential"in o&&Sn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function xI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?j_(t.config,r):`${t.config.apiScheme}://${r}`}function S2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class C2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"network-request-failed")),E2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Un(t,e,i);return r.customData._tokenResponse=n,r}function $w(t){return t!==void 0&&t.enterprise!==void 0}class T2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function I2(t,e){return di(t,"GET","/v2/recaptchaConfig",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function x2(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k2(t,e=!1){const n=je(t),i=await n.getIdToken(e),r=W_(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ra(Zd(r.auth_time)),issuedAtTime:ra(Zd(r.iat)),expirationTime:ra(Zd(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zd(t){return Number(t)*1e3}function W_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return uu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Hu(n);return r?JSON.parse(r):(uu("Failed to decode base64 JWT payload"),null)}catch(r){return uu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function b2(t){const e=W_(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Cn&&R2(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function R2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ra(this.lastLoginAt),this.creationTime=ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Da(t,x2(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?A2(o.providerUserInfo):[],u=N2(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new kI(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function O2(t){const e=je(t);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N2(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function A2(t){return t.map(e=>{var{providerId:n}=e,i=B_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){const n=await PI(t,{},async()=>{const i=eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=xI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",II.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D2(t,e){return di(t,"POST","/v2/accounts:revokeToken",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await M2(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Fa;return i&&(J(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=B_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kI(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Da(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k2(this,e)}reload(){return O2(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await lc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Da(this,P2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,u,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(l=n.photoURL)!==null&&l!==void 0?l:void 0,T=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,S=(f=n.createdAt)!==null&&f!==void 0?f:void 0,w=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:I,emailVerified:O,isAnonymous:D,providerData:j,stsTokenManager:W}=n;J(I&&W,e,"internal-error");const V=Fa.fromJSON(this.name,W);J(typeof I=="string",e,"internal-error"),vi(_,e.name),vi(v,e.name),J(typeof O=="boolean",e,"internal-error"),J(typeof D=="boolean",e,"internal-error"),vi(E,e.name),vi(y,e.name),vi(T,e.name),vi(N,e.name),vi(S,e.name),vi(w,e.name);const fe=new Er({uid:I,auth:e,email:v,emailVerified:O,displayName:_,isAnonymous:D,photoURL:y,phoneNumber:E,tenantId:T,stsTokenManager:V,createdAt:S,lastLoginAt:w});return j&&Array.isArray(j)&&(fe.providerData=j.map(Z=>Object.assign({},Z))),N&&(fe._redirectEventId=N),fe}static async _fromIdTokenResponse(e,n,i=!1){const r=new Fa;r.updateFromServerResponse(n);const o=new Er({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await lc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;function Jn(t){li(t instanceof Function,"Expected a class definition");let e=Vw.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bI.type="NONE";const Zw=bI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ls{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=cu(this.userKey,r.apiKey,o),this.fullPersistenceKey=cu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ls(Jn(Zw),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Jn(Zw);const l=cu(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){const _=Er._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ls(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ls(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(MI(e))return"Webos";if(H_(e))return"Safari";if((e.includes("chrome/")||LI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function RI(t=wt()){return/firefox\//i.test(t)}function H_(t=wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LI(t=wt()){return/crios\//i.test(t)}function OI(t=wt()){return/iemobile/i.test(t)}function NI(t=wt()){return/android/i.test(t)}function AI(t=wt()){return/blackberry/i.test(t)}function MI(t=wt()){return/webos/i.test(t)}function uh(t=wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F2(t=wt()){var e;return uh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U2(){return DL()&&document.documentMode===10}function DI(t=wt()){return uh(t)||NI(t)||MI(t)||AI(t)||/windows phone/i.test(t)||OI(t)}function B2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t,e=[]){let n;switch(t){case"Browser":n=qw(wt());break;case"Worker":n=`${qw(wt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e={}){return di(t,"GET","/v2/passwordPolicy",hi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=6;class H2{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:W2,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Ls.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?je(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j2(this),n=new H2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await D2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Ls.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qr(t){return je(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=$L(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function UI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Un("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",V2().appendChild(i)})}function Z2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const q2="https://www.google.com/recaptcha/enterprise.js?render=",G2="recaptcha-enterprise",K2="NO_RECAPTCHA";class Y2{constructor(e){this.type=G2,this.auth=qr(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{I2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new T2(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;$w(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(K2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&$w(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}UI(q2+u).then(()=>{r(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function Kw(t,e,n,i=!1){const r=new Y2(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Tp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Kw(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){const n=Ji(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(xa(o,e??{}))return r;Sn(r,"already-initialized")}return n.initialize({options:e})}function J2(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function X2(t,e,n){const i=qr(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=BI(e),{host:l,port:u}=eB(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||tB()}function BI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eB(t){const e=BI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Yw(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:Yw(l)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function nB(t,e){return di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iB(t,e){return el(t,"POST","/v1/accounts:signInWithPassword",hi(t,e))}async function rB(t,e){return di(t,"POST","/v1/accounts:sendOobCode",hi(t,e))}async function sB(t,e){return rB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oB(t,e){return el(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}async function aB(t,e){return el(t,"POST","/v1/accounts:signInWithEmailLink",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends $_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ua(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ua(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,n,"signInWithPassword",iB);case"emailLink":return oB(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,i,"signUpPassword",nB);case"emailLink":return aB(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(t,e){return el(t,"POST","/v1/accounts:signInWithIdp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="http://localhost";class Dr extends $_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=B_(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new Dr(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Os(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Os(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Os(e,n)}buildRequest(){const e={requestUri:lB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cB(t){const e=jo(Wo(t)).link,n=e?jo(Wo(e)).deep_link_id:null,i=jo(Wo(t)).deep_link_id;return(i?jo(Wo(i)).link:null)||i||n||e||t}class V_{constructor(e){var n,i,r,o,l,u;const h=jo(Wo(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=uB((r=h.mode)!==null&&r!==void 0?r:null);J(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=cB(e);try{return new V_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Ua._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=V_.parseLink(n);return J(i,"argument-error"),Ua._fromEmailAndCode(e,i.code,i.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends zI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends tl{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ti.credential(e.oauthAccessToken)}catch{return null}}}Ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ii.credential(n,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends tl{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends tl{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return xi.credential(n,i)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e){return el(t,"POST","/v1/accounts:signUp",hi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Er._fromIdTokenResponse(e,i,r),l=Qw(i);return new Fr({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Qw(i);return new Fr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Cn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new uc(e,n,i,r)}}function jI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(t,o,e,i):o})}async function dB(t,e,n=!1){const i=await Da(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fB(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Da(t,jI(i,r,e,t),n);J(o.idToken,i,"internal-error");const l=W_(o.idToken);J(l,i,"internal-error");const{sub:u}=l;return J(t.uid===u,i,"user-mismatch"),Fr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(t,e,n=!1){const i="signIn",r=await jI(t,i,e),o=await Fr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function pB(t,e){return WI(qr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t){const e=qr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _B(t,e,n){const i=qr(t),l=await Tp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hB).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&HI(t),h}),u=await Fr._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function gB(t,e,n){return pB(je(t),ro.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HI(t),i})}async function vB(t,e){const n=je(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&mB(n.auth,r,e);const{email:o}=await sB(n.auth,r);o!==t.email&&await t.reload()}function yB(t,e,n,i){return je(t).onIdTokenChanged(e,n,i)}function wB(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function $I(t,e,n,i){return je(t).onAuthStateChanged(e,n,i)}function EB(t){return je(t).signOut()}const cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(){const t=wt();return H_(t)||uh(t)}const CB=1e3,TB=10;class ZI extends VI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=SB()&&B2(),this.fallbackToPolling=DI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);U2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,TB):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},CB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZI.type="LOCAL";const IB=ZI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI extends VI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qI.type="SESSION";const GI=qI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new ch(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await PB(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=Z_("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function kB(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function bB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LB(){return KI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",OB=1,hc="firebaseLocalStorage",QI="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function NB(){const t=indexedDB.deleteDatabase(YI);return new nl(t).toPromise()}function Ip(){const t=indexedDB.open(YI,OB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(hc,{keyPath:QI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(hc)?e(i):(i.close(),await NB(),e(await Ip()))})})}async function Jw(t,e,n){const i=hh(t,!0).put({[QI]:e,value:n});return new nl(i).toPromise()}async function AB(t,e){const n=hh(t,!1).get(e),i=await new nl(n).toPromise();return i===void 0?null:i.value}function Xw(t,e){const n=hh(t,!0).delete(e);return new nl(n).toPromise()}const MB=800,DB=3;class JI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>DB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(LB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bB(),!this.activeServiceWorker)return;this.sender=new xB(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ip();return await Jw(e,cc,"1"),await Xw(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Jw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>AB(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=hh(r,!1).getAll();return new nl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JI.type="LOCAL";const FB=JI;new Xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t,e){return e?Jn(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends $_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BB(t){return WI(t.auth,new q_(t),t.bypassAuthState)}function zB(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),fB(n,new q_(t),t.bypassAuthState)}async function jB(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),dB(n,new q_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BB;case"linkViaPopup":case"linkViaRedirect":return jB;case"reauthViaPopup":case"reauthViaRedirect":return zB;default:Sn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new Xa(2e3,1e4);class ys extends XI{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WB.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="pendingRedirect",hu=new Map;class $B extends XI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=hu.get(this.auth._key());if(!e){try{const i=await VB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}hu.set(this.auth._key(),e)}return this.bypassAuthState||hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VB(t,e){const n=GB(e),i=qB(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ZB(t,e){hu.set(t._key(),e)}function qB(t){return Jn(t._redirectPersistence)}function GB(t){return cu(HB,t.config.apiKey,t.name)}async function KB(t,e,n=!1){const i=qr(t),r=UB(i,e),l=await new $B(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=10*60*1e3;class QB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!eP(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YB&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}}function e0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tz=/^https?/;async function nz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XB(t);for(const n of e)try{if(iz(n))return}catch{}Sn(t,"unauthorized-domain")}function iz(t){const e=Cp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!tz.test(n))return!1;if(ez.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new Xa(3e4,6e4);function t0(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sz(t){return new Promise((e,n)=>{var i,r,o;function l(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(Un(t,"network-request-failed"))},timeout:rz.get()})}if(!((r=(i=Bn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Bn().gapi)===null||o===void 0)&&o.load)l();else{const u=Z2("iframefcb");return Bn()[u]=()=>{gapi.load?l():n(Un(t,"network-request-failed"))},UI(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw du=null,e})}let du=null;function oz(t){return du=du||sz(t),du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=new Xa(5e3,15e3),lz="__/auth/iframe",uz="emulator/auth/iframe",cz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dz(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j_(e,uz):`https://${t.config.authDomain}/${lz}`,i={apiKey:e.apiKey,appName:t.name,v:$r},r=hz.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${eo(i).slice(1)}`}async function fz(t){const e=await oz(t),n=Bn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:dz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cz,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Un(t,"network-request-failed"),u=Bn().setTimeout(()=>{o(l)},az.get());function h(){Bn().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mz=500,_z=600,gz="_blank",vz="http://localhost";class n0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yz(t,e,n,i=mz,r=_z){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},pz),{width:i.toString(),height:r.toString(),top:o,left:l}),f=wt().toLowerCase();n&&(u=LI(f)?gz:n),RI(f)&&(e=e||vz,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,y])=>`${v}${E}=${y},`,"");if(F2(f)&&u!=="_self")return wz(e||"",u),new n0(null);const _=window.open(e||"",u,m);J(_,t,"popup-blocked");try{_.focus()}catch{}return new n0(_)}function wz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="__/auth/handler",Sz="emulator/auth/handler",Cz=encodeURIComponent("fac");async function i0(t,e,n,i,r,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:$r,eventId:r};if(e instanceof zI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Yf(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))l[m]=_}if(e instanceof tl){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${Cz}=${encodeURIComponent(h)}`:"";return`${Tz(t)}?${eo(u).slice(1)}${f}`}function Tz({config:t}){return t.emulator?j_(t,Sz):`https://${t.authDomain}/${Ez}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class Iz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GI,this._completeRedirectFn=KB,this._overrideRedirectResult=ZB}async _openPopup(e,n,i,r){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await i0(e,n,i,Cp(),r);return yz(e,l,Z_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await i0(e,n,i,Cp(),r);return kB(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(li(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await fz(e),i=new QB(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qd,{type:qd},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[qd];l!==void 0&&n(!!l),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DI()||H_()||uh()}}const Pz=Iz;var r0="@firebase/auth",s0="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function bz(t){wn(new sn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;J(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FI(t)},f=new $2(i,r,o,h);return J2(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),wn(new sn("auth-internal",e=>{const n=qr(e.getProvider("auth").getImmediate());return(i=>new xz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ft(r0,s0,kz(t)),Ft(r0,s0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=5*60,Lz=_C("authIdTokenMaxAge")||Rz;let o0=null;const Oz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Lz)return;const r=n==null?void 0:n.token;o0!==r&&(o0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Nz(t=Gc()){const e=Ji(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q2(t,{popupRedirectResolver:Pz,persistence:[FB,IB,GI]}),i=_C("authTokenSyncURL");if(i){const o=Oz(i);wB(n,o,()=>o(n.currentUser)),yB(n,l=>o(l))}const r=fC("auth");return r&&X2(n,`http://${r}`),n}bz("Browser");const Az={apiKey:"AIzaSyBEfQt_JsW2jTY83A3EwRAVSn56--ESJ0M",authDomain:"skatespots-56bd6.firebaseapp.com",databaseURL:"https://skatespots-56bd6-default-rtdb.firebaseio.com",projectId:"skatespots-56bd6",storageBucket:"skatespots-56bd6.appspot.com",messagingSenderId:"439071919444",appId:"1:439071919444:web:211c9df6c6f6291bddccc1",measurementId:"G-GKPZW9GDTQ"},dh=PC(Az);LA(dh);const tP=ZF(dh),Pp=c2(dh),Ur=Nz(dh);function fh(){Uc();const[t,e]=A.useState(null);A.useEffect(()=>{const i=$I(Ur,r=>{e(r||null)});return()=>{i()}},[]);const n=()=>{EB(Ur).then(()=>{console.log("Sign out successful."),e(null)}).catch(i=>console.log(i))};return P.jsxs("nav",{className:"nav",children:[P.jsx("a",{href:"/skateSpots/",className:"titleSite",children:"jonathan gooning"}),P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"/skateSpots/#submit",children:P.jsx("button",{className:"submitButton",children:"Submit a Spot"})})}),P.jsx("li",{children:t!==null?P.jsx("div",{children:P.jsx("button",{onClick:n,className:"submitButton",children:"Logout"})}):P.jsxs("ul",{children:[P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{className:"loginButton",children:"Login"})}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"regButton",children:"Register"})})]})})]})]})}function Mz(){const[t,e]=A.useState(),[n,i]=A.useState(),r=Uc(),o={url:"https://johnson4500.github.io/skateSpots/",handleCodeInApp:!0},l=u=>{u.preventDefault(),_B(Ur,t,n).then(h=>{console.log(h),vB(Ur.currentUser,o).then(()=>{console.log("Email verification link sent!")}),r("/")}).catch(h=>{console.log(h)})};return P.jsxs(A.Fragment,{children:[P.jsx(fh,{}),P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsx("br",{}),P.jsx("h2",{id:"topText",children:"Register"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:l,children:[P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:u=>e(u.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:u=>i(u.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Register"})]}),P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{id:"regButt",className:"buttons",children:"Already Have an Account"})})]})})]})}function Dz(){const[t,e]=A.useState(),[n,i]=A.useState(),r=Uc(),o=l=>{l.preventDefault(),gB(Ur,t,n).then(u=>{u.user,r("/")}).catch(u=>{console.log(u)})};return P.jsxs(A.Fragment,{children:[P.jsx(fh,{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("div",{className:"Login",children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{id:"logintext",children:"Login"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:o,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:l=>e(l.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:l=>i(l.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",className:"buttons",type:"submit",children:"Login"})]}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"buttons",id:"regButt",children:"Register"})})]})})]})}function nP(t,e){const n=A.useRef(e);A.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const Fz=1;function Uz(t){return Object.freeze({__version:Fz,map:t})}function Bz(t,e){return Object.freeze({...t,...e})}const iP=A.createContext(null),rP=iP.Provider;function sP(){const t=A.useContext(iP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function zz(t){function e(n,i){const{instance:r,context:o}=t(n).current;return A.useImperativeHandle(i,()=>r),n.children==null?null:pu.createElement(rP,{value:o},n.children)}return A.forwardRef(e)}function jz(t){function e(n,i){const[r,o]=A.useState(!1),{instance:l}=t(n,o).current;A.useImperativeHandle(i,()=>l),A.useEffect(function(){r&&l.update()},[l,r,n.children]);const u=l._contentNode;return u?Lm.createPortal(n.children,u):null}return A.forwardRef(e)}function Wz(t){function e(n,i){const{instance:r}=t(n).current;return A.useImperativeHandle(i,()=>r),null}return A.forwardRef(e)}function oP(t,e){const n=A.useRef();A.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function G_(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Hz(t,e){return function(i,r){const o=sP(),l=t(G_(i,o),o);return nP(o.map,i.attribution),oP(l.current,i.eventHandlers),e(l.current,o,i,r),l}}var xp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Zx,function(n){var i="1.9.4";function r(s){var a,c,d,p;for(c=1,d=arguments.length;c<d;c++){p=arguments[c];for(a in p)s[a]=p[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var d=c.call(arguments,2);return function(){return s.apply(a,d.length?d.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,a,c){var d,p,g,C;return C=function(){d=!1,p&&(g.apply(c,p),p=!1)},g=function(){d?p=arguments:(s.apply(c,arguments),setTimeout(C,a),d=!0)},g}function m(s,a,c){var d=a[1],p=a[0],g=d-p;return s===d&&c?s:((s-p)%g+g)%g+p}function _(){return!1}function v(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function y(s){return E(s).split(/\s+/)}function T(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function N(s,a,c){var d=[];for(var p in s)d.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function w(s,a){return s.replace(S,function(c,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(a)),p})}var I=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function O(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var W=0;function V(s){var a=+new Date,c=Math.max(0,16-(a-W));return W=a+c,window.setTimeout(s,c)}var fe=window.requestAnimationFrame||j("RequestAnimationFrame")||V,Z=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function oe(s,a,c){if(c&&fe===V)s.call(a);else return fe.call(window,l(s,a))}function ye(s){s&&Z.call(window,s)}var ft={__proto__:null,extend:r,create:o,bind:l,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:v,trim:E,splitWords:y,setOptions:T,getParamString:N,template:w,isArray:I,indexOf:O,emptyImageUrl:D,requestFn:fe,cancelFn:Z,requestAnimFrame:oe,cancelAnimFrame:ye};function G(){}G.extend=function(s){var a=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,d=o(c);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return s.statics&&r(a,s.statics),s.includes&&(Q(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=c.options?o(c.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,C=d._initHooks.length;g<C;g++)d._initHooks[g].call(this)}},a},G.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},G.mergeOptions=function(s){return r(this.prototype.options,s),this},G.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Q(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=I(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a);else{s=y(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],a);else{s=y(s);for(var p=arguments.length===1,g=0,C=s.length;g<C;g++)p?this._off(s[g]):this._off(s[g],a,c)}return this},_on:function(s,a,c,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var p={fn:a,ctx:c};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,a,c){var d,p,g;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,g=d.length;p<g;p++)d[p].fn=_;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var C=this._listens(s,a,c);if(C!==!1){var k=d[C];this._firingCount&&(k.fn=_,this._events[s]=d=d.slice()),d.splice(C,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var d=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,C=p.length;g<C;g++){var k=p[g],b=k.fn;k.once&&this.off(s,b,k.ctx),b.call(k.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(s,a,c,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,c=void 0);var g=this._events&&this._events[s];if(g&&g.length&&this._listens(s,p,c)!==!1)return!0;if(d){for(var C in this._eventParents)if(this._eventParents[C].listens(s,a,c,d))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var d=this._events[s]||[];if(!a)return!!d.length;c===this&&(c=void 0);for(var p=0,g=d.length;p<g;p++)if(d[p].fn===a&&d[p].ctx===c)return p;return!1},once:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a,!0);else{s=y(s);for(var p=0,g=s.length;p<g;p++)this._on(s[p],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var R=G.extend(te);function x(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var H=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(s){return this.clone()._add(U(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(U(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new x(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new x(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(s){s=U(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=U(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=U(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function U(s,a,c){return s instanceof x?s:I(s)?new x(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new x(s.x,s.y):new x(s,a,c)}function K(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}K.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof x||typeof s[0]=="number"||"x"in s)a=c=U(s);else if(s=se(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof x?s=U(s):s=se(s),s instanceof K?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=se(s);var a=this.min,c=this.max,d=s.min,p=s.max,g=p.x>=a.x&&d.x<=c.x,C=p.y>=a.y&&d.y<=c.y;return g&&C},overlaps:function(s){s=se(s);var a=this.min,c=this.max,d=s.min,p=s.max,g=p.x>a.x&&d.x<c.x,C=p.y>a.y&&d.y<c.y;return g&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,d=Math.abs(a.x-c.x)*s,p=Math.abs(a.y-c.y)*s;return se(U(a.x-d,a.y-p),U(c.x+d,c.y+p))},equals:function(s){return s?(s=se(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function se(s,a){return!s||s instanceof K?s:new K(s,a)}function Ie(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}Ie.prototype={extend:function(s){var a=this._southWest,c=this._northEast,d,p;if(s instanceof pe)d=s,p=s;else if(s instanceof Ie){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(ne(s)||ge(s)):this;return!a&&!c?(this._southWest=new pe(d.lat,d.lng),this._northEast=new pe(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,d=Math.abs(a.lat-c.lat)*s,p=Math.abs(a.lng-c.lng)*s;return new Ie(new pe(a.lat-d,a.lng-p),new pe(c.lat+d,c.lng+p))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof pe||"lat"in s?s=ne(s):s=ge(s);var a=this._southWest,c=this._northEast,d,p;return s instanceof Ie?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=a.lat&&p.lat<=c.lat&&d.lng>=a.lng&&p.lng<=c.lng},intersects:function(s){s=ge(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>=a.lat&&d.lat<=c.lat,C=p.lng>=a.lng&&d.lng<=c.lng;return g&&C},overlaps:function(s){s=ge(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),g=p.lat>a.lat&&d.lat<c.lat,C=p.lng>a.lng&&d.lng<c.lng;return g&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=ge(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(s,a){return s instanceof Ie?s:new Ie(s,a)}function pe(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}pe.prototype={equals:function(s,a){if(!s)return!1;s=ne(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+v(this.lat,s)+", "+v(this.lng,s)+")"},distanceTo:function(s){return fi.distance(this,ne(s))},wrap:function(){return fi.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return ge([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ne(s,a,c){return s instanceof pe?s:I(s)&&typeof s[0]!="object"?s.length===3?new pe(s[0],s[1],s[2]):s.length===2?new pe(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new pe(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new pe(s,a,c)}var pt={latLngToPoint:function(s,a){var c=this.projection.project(s),d=this.scale(a);return this.transformation._transform(c,d)},pointToLatLng:function(s,a){var c=this.scale(a),d=this.transformation.untransform(s,c);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),d=this.transformation.transform(a.min,c),p=this.transformation.transform(a.max,c);return new K(d,p)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new pe(c,a,d)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),d=a.lat-c.lat,p=a.lng-c.lng;if(d===0&&p===0)return s;var g=s.getSouthWest(),C=s.getNorthEast(),k=new pe(g.lat-d,g.lng-p),b=new pe(C.lat-d,C.lng-p);return new Ie(k,b)}},fi=r({},pt,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,d=s.lat*c,p=a.lat*c,g=Math.sin((a.lat-s.lat)*c/2),C=Math.sin((a.lng-s.lng)*c/2),k=g*g+Math.cos(d)*Math.cos(p)*C*C,b=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*b}}),eg=6378137,mh={R:eg,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,s.lat),-c),p=Math.sin(d*a);return new x(this.R*s.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var a=180/Math.PI;return new pe((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=eg*Math.PI;return new K([-s,-s],[s,s])}()};function _h(s,a,c,d){if(I(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=d}_h.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new x((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function ao(s,a,c,d){return new _h(s,a,c,d)}var gh=r({},fi,{code:"EPSG:3857",projection:mh,transformation:function(){var s=.5/(Math.PI*mh.R);return ao(s,.5,-s,.5)}()}),SP=r({},gh,{code:"EPSG:900913"});function tg(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ng(s,a){var c="",d,p,g,C,k,b;for(d=0,g=s.length;d<g;d++){for(k=s[d],p=0,C=k.length;p<C;p++)b=k[p],c+=(p?"L":"M")+b.x+" "+b.y;c+=a?Y.svg?"z":"x":""}return c||"M0 0"}var vh=document.documentElement.style,sl="ActiveXObject"in window,CP=sl&&!document.addEventListener,ig="msLaunchUri"in navigator&&!("documentMode"in document),yh=Pn("webkit"),rg=Pn("android"),sg=Pn("android 2")||Pn("android 3"),TP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),IP=rg&&Pn("Google")&&TP<537&&!("AudioNode"in window),wh=!!window.opera,og=!ig&&Pn("chrome"),ag=Pn("gecko")&&!yh&&!wh&&!sl,PP=!og&&Pn("safari"),lg=Pn("phantom"),ug="OTransition"in vh,xP=navigator.platform.indexOf("Win")===0,cg=sl&&"transition"in vh,Eh="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!sg,hg="MozPerspective"in vh,kP=!window.L_DISABLE_3D&&(cg||Eh||hg)&&!ug&&!lg,lo=typeof orientation<"u"||Pn("mobile"),bP=lo&&yh,RP=lo&&Eh,dg=!window.PointerEvent&&window.MSPointerEvent,fg=!!(window.PointerEvent||dg),pg="ontouchstart"in window||!!window.TouchEvent,LP=!window.L_NO_TOUCH&&(pg||fg),OP=lo&&wh,NP=lo&&ag,AP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,MP=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return s}(),DP=function(){return!!document.createElement("canvas").getContext}(),Sh=!!(document.createElementNS&&tg("svg").createSVGRect),FP=!!Sh&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),UP=!Sh&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),BP=navigator.platform.indexOf("Mac")===0,zP=navigator.platform.indexOf("Linux")===0;function Pn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Y={ie:sl,ielt9:CP,edge:ig,webkit:yh,android:rg,android23:sg,androidStock:IP,opera:wh,chrome:og,gecko:ag,safari:PP,phantom:lg,opera12:ug,win:xP,ie3d:cg,webkit3d:Eh,gecko3d:hg,any3d:kP,mobile:lo,mobileWebkit:bP,mobileWebkit3d:RP,msPointer:dg,pointer:fg,touch:LP,touchNative:pg,mobileOpera:OP,mobileGecko:NP,retina:AP,passiveEvents:MP,canvas:DP,svg:Sh,vml:UP,inlineSvg:FP,mac:BP,linux:zP},mg=Y.msPointer?"MSPointerDown":"pointerdown",_g=Y.msPointer?"MSPointerMove":"pointermove",gg=Y.msPointer?"MSPointerUp":"pointerup",vg=Y.msPointer?"MSPointerCancel":"pointercancel",Ch={touchstart:mg,touchmove:_g,touchend:gg,touchcancel:vg},yg={touchstart:ZP,touchmove:ol,touchend:ol,touchcancel:ol},Gr={},wg=!1;function jP(s,a,c){return a==="touchstart"&&VP(),yg[a]?(c=yg[a].bind(this,c),s.addEventListener(Ch[a],c,!1),c):(console.warn("wrong event specified:",a),_)}function WP(s,a,c){if(!Ch[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Ch[a],c,!1)}function HP(s){Gr[s.pointerId]=s}function $P(s){Gr[s.pointerId]&&(Gr[s.pointerId]=s)}function Eg(s){delete Gr[s.pointerId]}function VP(){wg||(document.addEventListener(mg,HP,!0),document.addEventListener(_g,$P,!0),document.addEventListener(gg,Eg,!0),document.addEventListener(vg,Eg,!0),wg=!0)}function ol(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in Gr)a.touches.push(Gr[c]);a.changedTouches=[a],s(a)}}function ZP(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ot(a),ol(s,a)}function qP(s){var a={},c,d;for(d in s)c=s[d],a[d]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var GP=200;function KP(s,a){s.addEventListener("dblclick",a);var c=0,d;function p(g){if(g.detail!==1){d=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var C=Pg(g);if(!(C.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!C.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var k=Date.now();k-c<=GP?(d++,d===2&&a(qP(g))):d=1,c=k}}}return s.addEventListener("click",p),{dblclick:a,simDblclick:p}}function YP(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Th=ul(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uo=ul(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sg=uo==="webkitTransition"||uo==="OTransition"?uo+"End":"transitionend";function Cg(s){return typeof s=="string"?document.getElementById(s):s}function co(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);c=d?d[a]:null}return c==="auto"?null:c}function we(s,a,c){var d=document.createElement(s);return d.className=a||"",c&&c.appendChild(d),d}function Ne(s){var a=s.parentNode;a&&a.removeChild(s)}function al(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Kr(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function Yr(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function Ih(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=ll(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function ae(s,a){if(s.classList!==void 0)for(var c=y(a),d=0,p=c.length;d<p;d++)s.classList.add(c[d]);else if(!Ih(s,a)){var g=ll(s);Ph(s,(g?g+" ":"")+a)}}function He(s,a){s.classList!==void 0?s.classList.remove(a):Ph(s,E((" "+ll(s)+" ").replace(" "+a+" "," ")))}function Ph(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function ll(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Zt(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&QP(s,a)}function QP(s,a){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+d+"(opacity="+a+")"}function ul(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function Xi(s,a,c){var d=a||new x(0,0);s.style[Th]=(Y.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function Ve(s,a){s._leaflet_pos=a,Y.any3d?Xi(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function er(s){return s._leaflet_pos||new x(0,0)}var ho,fo,xh;if("onselectstart"in document)ho=function(){re(window,"selectstart",ot)},fo=function(){Pe(window,"selectstart",ot)};else{var po=ul(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ho=function(){if(po){var s=document.documentElement.style;xh=s[po],s[po]="none"}},fo=function(){po&&(document.documentElement.style[po]=xh,xh=void 0)}}function kh(){re(window,"dragstart",ot)}function bh(){Pe(window,"dragstart",ot)}var cl,Rh;function Lh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(hl(),cl=s,Rh=s.style.outlineStyle,s.style.outlineStyle="none",re(window,"keydown",hl))}function hl(){cl&&(cl.style.outlineStyle=Rh,cl=void 0,Rh=void 0,Pe(window,"keydown",hl))}function Tg(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Oh(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var JP={__proto__:null,TRANSFORM:Th,TRANSITION:uo,TRANSITION_END:Sg,get:Cg,getStyle:co,create:we,remove:Ne,empty:al,toFront:Kr,toBack:Yr,hasClass:Ih,addClass:ae,removeClass:He,setClass:Ph,getClass:ll,setOpacity:Zt,testProp:ul,setTransform:Xi,setPosition:Ve,getPosition:er,get disableTextSelection(){return ho},get enableTextSelection(){return fo},disableImageDrag:kh,enableImageDrag:bh,preventOutline:Lh,restoreOutline:hl,getSizedParentNode:Tg,getScale:Oh};function re(s,a,c,d){if(a&&typeof a=="object")for(var p in a)Ah(s,p,a[p],c);else{a=y(a);for(var g=0,C=a.length;g<C;g++)Ah(s,a[g],c,d)}return this}var xn="_leaflet_events";function Pe(s,a,c,d){if(arguments.length===1)Ig(s),delete s[xn];else if(a&&typeof a=="object")for(var p in a)Mh(s,p,a[p],c);else if(a=y(a),arguments.length===2)Ig(s,function(k){return O(a,k)!==-1});else for(var g=0,C=a.length;g<C;g++)Mh(s,a[g],c,d);return this}function Ig(s,a){for(var c in s[xn]){var d=c.split(/\d/)[0];(!a||a(d))&&Mh(s,d,null,null,c)}}var Nh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ah(s,a,c,d){var p=a+h(c)+(d?"_"+h(d):"");if(s[xn]&&s[xn][p])return this;var g=function(k){return c.call(d||s,k||window.event)},C=g;!Y.touchNative&&Y.pointer&&a.indexOf("touch")===0?g=jP(s,a,g):Y.touch&&a==="dblclick"?g=KP(s,g):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(Nh[a]||a,g,Y.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(g=function(k){k=k||window.event,Fh(s,k)&&C(k)},s.addEventListener(Nh[a],g,!1)):s.addEventListener(a,C,!1):s.attachEvent("on"+a,g),s[xn]=s[xn]||{},s[xn][p]=g}function Mh(s,a,c,d,p){p=p||a+h(c)+(d?"_"+h(d):"");var g=s[xn]&&s[xn][p];if(!g)return this;!Y.touchNative&&Y.pointer&&a.indexOf("touch")===0?WP(s,a,g):Y.touch&&a==="dblclick"?YP(s,g):"removeEventListener"in s?s.removeEventListener(Nh[a]||a,g,!1):s.detachEvent("on"+a,g),s[xn][p]=null}function tr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Dh(s){return Ah(s,"wheel",tr),this}function mo(s){return re(s,"mousedown touchstart dblclick contextmenu",tr),s._leaflet_disable_click=!0,this}function ot(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function nr(s){return ot(s),tr(s),this}function Pg(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function xg(s,a){if(!a)return new x(s.clientX,s.clientY);var c=Oh(a),d=c.boundingClientRect;return new x((s.clientX-d.left)/c.x-a.clientLeft,(s.clientY-d.top)/c.y-a.clientTop)}var XP=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kg(s){return Y.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/XP:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Fh(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var ex={__proto__:null,on:re,off:Pe,stopPropagation:tr,disableScrollPropagation:Dh,disableClickPropagation:mo,preventDefault:ot,stop:nr,getPropagationPath:Pg,getMousePosition:xg,getWheelDelta:kg,isExternalTarget:Fh,addListener:re,removeListener:Pe},bg=R.extend({run:function(s,a,c,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=er(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=oe(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),Ve(this._el,c),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),me=R.extend({options:{crs:gh,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=T(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ne(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=uo&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),re(this._proxy,Sg,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(ne(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),g=s instanceof x?s:this.latLngToContainerPoint(s),C=g.subtract(p).multiplyBy(1-1/d),k=this.containerPointToLatLng(p.add(C));return this.setView(k,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():ge(s);var c=U(a.paddingTopLeft||a.padding||[0,0]),d=U(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(s,!1,c.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var g=d.subtract(c).divideBy(2),C=this.project(s.getSouthWest(),p),k=this.project(s.getNorthEast(),p),b=this.unproject(C.add(k).divideBy(2).add(g),p);return{center:b,zoom:p}},fitBounds:function(s,a){if(s=ge(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=U(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new bg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ae(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!Y.any3d)return this.setView(s,a,c);this._stop();var d=this.project(this.getCenter()),p=this.project(s),g=this.getSize(),C=this._zoom;s=ne(s),a=a===void 0?C:a;var k=Math.max(g.x,g.y),b=k*this.getZoomScale(C,a),F=p.distanceTo(d)||1,$=1.42,X=$*$;function le(Ze){var Cl=Ze?-1:1,Wx=Ze?b:k,Hx=b*b-k*k+Cl*X*X*F*F,$x=2*Wx*X*F,Gh=Hx/$x,uv=Math.sqrt(Gh*Gh+1)-Gh,Vx=uv<1e-9?-18:Math.log(uv);return Vx}function Et(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function Je(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function Gt(Ze){return Et(Ze)/Je(Ze)}var bt=le(0);function ns(Ze){return k*(Je(bt)/Je(bt+$*Ze))}function Ux(Ze){return k*(Je(bt)*Gt(bt+$*Ze)-Et(bt))/X}function Bx(Ze){return 1-Math.pow(1-Ze,1.5)}var zx=Date.now(),av=(le(1)-bt)/$,jx=c.duration?1e3*c.duration:1e3*av*.8;function lv(){var Ze=(Date.now()-zx)/jx,Cl=Bx(Ze)*av;Ze<=1?(this._flyToFrame=oe(lv,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(Ux(Cl)/F)),C),this.getScaleZoom(k/ns(Cl),C),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),lv.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=ge(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,ge(s));return c.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=U(a.paddingTopLeft||a.padding||[0,0]),d=U(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(s),C=this.getPixelBounds(),k=se([C.min.add(c),C.max.subtract(d)]),b=k.getSize();if(!k.contains(g)){this._enforcingBounds=!0;var F=g.subtract(k.getCenter()),$=k.extend(g).getSize().subtract(b);p.x+=F.x<0?-$.x:$.x,p.y+=F.y<0?-$.y:$.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=a.divideBy(2).round(),p=c.divideBy(2).round(),g=d.subtract(p);return!g.x&&!g.y?this:(s.animate&&s.pan?this.panBy(g):(s.pan&&this._rawPanBy(g),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,d=new pe(a,c),p=d.toBounds(s.coords.accuracy*2),g=this._locateOptions;if(g.setView){var C=this.getBoundsZoom(p);this.setView(d,g.maxZoom?Math.min(C,g.maxZoom):C)}var k={latlng:d,bounds:p,timestamp:s.timestamp};for(var b in s.coords)typeof s.coords[b]=="number"&&(k[b]=s.coords[b]);this.fire("locationfound",k)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)Ne(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=we("div",c,a||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new Ie(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=ge(s),c=U(c||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),C=s.getNorthWest(),k=s.getSouthEast(),b=this.getSize().subtract(c),F=se(this.project(k,d),this.project(C,d)).getSize(),$=Y.any3d?this.options.zoomSnap:1,X=b.x/F.x,le=b.y/F.y,Et=a?Math.max(X,le):Math.min(X,le);return d=this.getScaleZoom(Et,d),$&&(d=Math.round(d/($/100))*($/100),d=a?Math.ceil(d/$)*$:Math.floor(d/$)*$),Math.max(p,Math.min(g,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new K(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var d=c.zoom(s*c.scale(a));return isNaN(d)?1/0:d},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ne(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(U(s),a)},layerPointToLatLng:function(s){var a=U(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(ne(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ne(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ge(s))},distance:function(s,a){return this.options.crs.distance(ne(s),ne(a))},containerPointToLayerPoint:function(s){return U(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return U(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(U(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(s)))},mouseEventToContainerPoint:function(s){return xg(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=Cg(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");re(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,ae(s,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=co(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ve(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ae(s.markerPane,"leaflet-zoom-hide"),ae(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){Ve(this._mapPane,new x(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,c)._move(s,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ve(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var a=s?Pe:re;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],d,p=a==="mouseout"||a==="mouseover",g=s.target||s.srcElement,C=!1;g;){if(d=this._targets[h(g)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){C=!0;break}if(d&&d.listens(a,!0)&&(p&&!Fh(g,s)||(c.push(d),p))||g===this._container)break;g=g.parentNode}return!c.length&&!C&&!p&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&Lh(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var p=this._findEventTargets(s,a);if(c){for(var g=[],C=0;C<c.length;C++)c[C].listens(a,!0)&&g.push(c[C]);p=g.concat(p)}if(p.length){a==="contextmenu"&&ot(s);var k=p[0],b={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var F=k.getLatLng&&(!k._radius||k._radius<=10);b.containerPoint=F?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(s),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=F?k.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(C=0;C<p.length;C++)if(p[C].fire(a,b,!0),b.originalEvent._stopped||p[C].options.bubblingMouseEvents===!1&&O(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return er(this._mapPane)||new x(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return se([this.project(s.getSouthWest(),a)._subtract(d),this.project(s.getNorthWest(),a)._subtract(d),this.project(s.getSouthEast(),a)._subtract(d),this.project(s.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var d=this.project(s,a),p=this.getSize().divideBy(2),g=new K(d.subtract(p),d.add(p)),C=this._getBoundsOffset(g,c,a);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?s:this.unproject(d.add(C),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),d=new K(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(s,a,c){var d=se(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),p=d.min.subtract(s.min),g=d.max.subtract(s.max),C=this._rebound(p.x,-g.x),k=this._rebound(p.y,-g.y);return new x(C,k)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),d=Y.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){He(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=we("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=Th,d=this._proxy.style[c];Xi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();Xi(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(s)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(p)?!1:(oe(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&He(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tx(s,a){return new me(s,a)}var on=G.extend({options:{position:"topright"},initialize:function(s){T(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),d=s._controlCorners[c];return ae(a,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),_o=function(s){return new on(s)};me.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=we("div",a+"control-container",this._container);function d(p,g){var C=a+p+" "+a+g;s[p+g]=we("div",C,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Ne(this._controlCorners[s]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Rg=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,d){return c<d?-1:d<c?1:0}},initialize:function(s,a,c){T(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return on.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):He(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return He(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=we("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),mo(a),Dh(a);var d=this._section=we("section",s+"-list");c&&(this._map.on("click",this.collapse,this),re(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=we("a",s+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),re(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){ot(g),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=we("div",s+"-base",d),this._separator=we("div",s+"-separator",d),this._overlaysList=we("div",s+"-overlays",d),a.appendChild(d)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;al(this._baseLayersList),al(this._overlaysList),this._layerControlInputs=[];var s,a,c,d,p=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),a=a||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(h(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(d),d.layerId=h(s.layer),re(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var g=document.createElement("span");a.appendChild(g),g.appendChild(d),g.appendChild(p);var C=s.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,c,d=[],p=[];this._handlingClick=!0;for(var g=s.length-1;g>=0;g--)a=s[g],c=this._getLayer(a.layerId).layer,a.checked?d.push(c):a.checked||p.push(c);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<d.length;g++)this._map.hasLayer(d[g])||this._map.addLayer(d[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,d=this._map.getZoom(),p=s.length-1;p>=0;p--)a=s[p],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,re(s,"click",ot),this.expand();var a=this;setTimeout(function(){Pe(s,"click",ot),a._preventClick=!1})}}),nx=function(s,a,c){return new Rg(s,a,c)},Uh=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=we("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,d,p){var g=we("a",c,d);return g.innerHTML=s,g.href="#",g.title=a,g.setAttribute("role","button"),g.setAttribute("aria-label",a),mo(g),re(g,"click",nr),re(g,"click",p,this),re(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";He(this._zoomInButton,a),He(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ae(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ae(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});me.mergeOptions({zoomControl:!0}),me.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Uh,this.addControl(this.zoomControl))});var ix=function(s){return new Uh(s)},Lg=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=we("div",a),d=this.options;return this._addScales(d,a+"-line",c),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=we("div",a,c)),s.imperial&&(this._iScale=we("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,d,p;a>5280?(c=a/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),rx=function(s){return new Lg(s)},sx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bh=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?sx+" ":"")+"Leaflet</a>"},initialize:function(s){T(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=we("div","leaflet-control-attribution"),mo(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});me.mergeOptions({attributionControl:!0}),me.addInitHook(function(){this.options.attributionControl&&new Bh().addTo(this)});var ox=function(s){return new Bh(s)};on.Layers=Rg,on.Zoom=Uh,on.Scale=Lg,on.Attribution=Bh,_o.layers=nx,_o.zoom=ix,_o.scale=rx,_o.attribution=ox;var kn=G.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(s,a){return s.addHandler(a,this),this};var ax={Events:te},Og=Y.touch?"touchstart mousedown":"mousedown",pi=R.extend({options:{clickTolerance:3},initialize:function(s,a,c,d){T(this,d),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(re(this._dragStartTarget,Og,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pi._dragging===this&&this.finishDrag(!0),Pe(this._dragStartTarget,Og,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Ih(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){pi._dragging===this&&this.finishDrag();return}if(!(pi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(pi._dragging=this,this._preventOutline&&Lh(this._element),kh(),ho(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=Tg(this._element);this._startPoint=new x(a.clientX,a.clientY),this._startPos=er(this._element),this._parentScale=Oh(c);var d=s.type==="mousedown";re(document,d?"mousemove":"touchmove",this._onMove,this),re(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new x(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ot(s),this._moved||(this.fire("dragstart"),this._moved=!0,ae(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ve(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){He(document.body,"leaflet-dragging"),this._lastTarget&&(He(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pe(document,"mousemove touchmove",this._onMove,this),Pe(document,"mouseup touchend touchcancel",this._onUp,this),bh(),fo();var a=this._moved&&this._moving;this._moving=!1,pi._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Ng(s,a,c){var d,p=[1,4,2,8],g,C,k,b,F,$,X,le;for(g=0,$=s.length;g<$;g++)s[g]._code=ir(s[g],a);for(k=0;k<4;k++){for(X=p[k],d=[],g=0,$=s.length,C=$-1;g<$;C=g++)b=s[g],F=s[C],b._code&X?F._code&X||(le=dl(F,b,X,a,c),le._code=ir(le,a),d.push(le)):(F._code&X&&(le=dl(F,b,X,a,c),le._code=ir(le,a),d.push(le)),d.push(b));s=d}return s}function Ag(s,a){var c,d,p,g,C,k,b,F,$;if(!s||s.length===0)throw new Error("latlngs not passed");qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var X=ne([0,0]),le=ge(s),Et=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());Et<1700&&(X=zh(s));var Je=s.length,Gt=[];for(c=0;c<Je;c++){var bt=ne(s[c]);Gt.push(a.project(ne([bt.lat-X.lat,bt.lng-X.lng])))}for(k=b=F=0,c=0,d=Je-1;c<Je;d=c++)p=Gt[c],g=Gt[d],C=p.y*g.x-g.y*p.x,b+=(p.x+g.x)*C,F+=(p.y+g.y)*C,k+=C*3;k===0?$=Gt[0]:$=[b/k,F/k];var ns=a.unproject(U($));return ne([ns.lat+X.lat,ns.lng+X.lng])}function zh(s){for(var a=0,c=0,d=0,p=0;p<s.length;p++){var g=ne(s[p]);a+=g.lat,c+=g.lng,d++}return ne([a/d,c/d])}var lx={__proto__:null,clipPolygon:Ng,polygonCenter:Ag,centroid:zh};function Mg(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=hx(s,c),s=cx(s,c),s}function Dg(s,a,c){return Math.sqrt(go(s,a,c,!0))}function ux(s,a,c){return go(s,a,c)}function cx(s,a){var c=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(c);p[0]=p[c-1]=1,jh(s,p,a,0,c-1);var g,C=[];for(g=0;g<c;g++)p[g]&&C.push(s[g]);return C}function jh(s,a,c,d,p){var g=0,C,k,b;for(k=d+1;k<=p-1;k++)b=go(s[k],s[d],s[p],!0),b>g&&(C=k,g=b);g>c&&(a[C]=1,jh(s,a,c,d,C),jh(s,a,c,C,p))}function hx(s,a){for(var c=[s[0]],d=1,p=0,g=s.length;d<g;d++)dx(s[d],s[p])>a&&(c.push(s[d]),p=d);return p<g-1&&c.push(s[g-1]),c}var Fg;function Ug(s,a,c,d,p){var g=d?Fg:ir(s,c),C=ir(a,c),k,b,F;for(Fg=C;;){if(!(g|C))return[s,a];if(g&C)return!1;k=g||C,b=dl(s,a,k,c,p),F=ir(b,c),k===g?(s=b,g=F):(a=b,C=F)}}function dl(s,a,c,d,p){var g=a.x-s.x,C=a.y-s.y,k=d.min,b=d.max,F,$;return c&8?(F=s.x+g*(b.y-s.y)/C,$=b.y):c&4?(F=s.x+g*(k.y-s.y)/C,$=k.y):c&2?(F=b.x,$=s.y+C*(b.x-s.x)/g):c&1&&(F=k.x,$=s.y+C*(k.x-s.x)/g),new x(F,$,p)}function ir(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function dx(s,a){var c=a.x-s.x,d=a.y-s.y;return c*c+d*d}function go(s,a,c,d){var p=a.x,g=a.y,C=c.x-p,k=c.y-g,b=C*C+k*k,F;return b>0&&(F=((s.x-p)*C+(s.y-g)*k)/b,F>1?(p=c.x,g=c.y):F>0&&(p+=C*F,g+=k*F)),C=s.x-p,k=s.y-g,d?C*C+k*k:new x(p,g)}function qt(s){return!I(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Bg(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qt(s)}function zg(s,a){var c,d,p,g,C,k,b,F;if(!s||s.length===0)throw new Error("latlngs not passed");qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var $=ne([0,0]),X=ge(s),le=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());le<1700&&($=zh(s));var Et=s.length,Je=[];for(c=0;c<Et;c++){var Gt=ne(s[c]);Je.push(a.project(ne([Gt.lat-$.lat,Gt.lng-$.lng])))}for(c=0,d=0;c<Et-1;c++)d+=Je[c].distanceTo(Je[c+1])/2;if(d===0)F=Je[0];else for(c=0,g=0;c<Et-1;c++)if(C=Je[c],k=Je[c+1],p=C.distanceTo(k),g+=p,g>d){b=(g-d)/p,F=[k.x-b*(k.x-C.x),k.y-b*(k.y-C.y)];break}var bt=a.unproject(U(F));return ne([bt.lat+$.lat,bt.lng+$.lng])}var fx={__proto__:null,simplify:Mg,pointToSegmentDistance:Dg,closestPointOnSegment:ux,clipSegment:Ug,_getEdgeIntersection:dl,_getBitCode:ir,_sqClosestPointOnSegment:go,isFlat:qt,_flat:Bg,polylineCenter:zg},Wh={project:function(s){return new x(s.lng,s.lat)},unproject:function(s){return new pe(s.y,s.x)},bounds:new K([-180,-90],[180,90])},Hh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,d=s.lat*a,p=this.R_MINOR/c,g=Math.sqrt(1-p*p),C=g*Math.sin(d),k=Math.tan(Math.PI/4-d/2)/Math.pow((1-C)/(1+C),g/2);return d=-c*Math.log(Math.max(k,1e-10)),new x(s.lng*a*c,d)},unproject:function(s){for(var a=180/Math.PI,c=this.R,d=this.R_MINOR/c,p=Math.sqrt(1-d*d),g=Math.exp(-s.y/c),C=Math.PI/2-2*Math.atan(g),k=0,b=.1,F;k<15&&Math.abs(b)>1e-7;k++)F=p*Math.sin(C),F=Math.pow((1-F)/(1+F),p/2),b=Math.PI/2-2*Math.atan(g*F)-C,C+=b;return new pe(C*a,s.x*a/c)}},px={__proto__:null,LonLat:Wh,Mercator:Hh,SphericalMercator:mh},mx=r({},fi,{code:"EPSG:3395",projection:Hh,transformation:function(){var s=.5/(Math.PI*Hh.R);return ao(s,.5,-s,.5)}()}),jg=r({},fi,{code:"EPSG:4326",projection:Wh,transformation:ao(1/180,1,-1/180,.5)}),_x=r({},pt,{projection:Wh,transformation:ao(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,d=a.lat-s.lat;return Math.sqrt(c*c+d*d)},infinite:!0});pt.Earth=fi,pt.EPSG3395=mx,pt.EPSG3857=gh,pt.EPSG900913=SP,pt.EPSG4326=jg,pt.Simple=_x;var an=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});me.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=h(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?I(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=h(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qr=an.extend({initialize:function(s,a){T(this,a),this._layers={};var c,d;if(s)for(c=0,d=s.length;c<d;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[s]&&d[s].apply(d,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),gx=function(s,a){return new Qr(s,a)},Wn=Qr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Qr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Qr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ie;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),vx=function(s,a){return new Wn(s,a)},Jr=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){T(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,a){var c=this.options,d=c[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=U(d),g=U(a==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),g&&(s.style.marginLeft=-g.x+"px",s.style.marginTop=-g.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return Y.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function yx(s){return new Jr(s)}var vo=Jr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof vo.imagePath!="string"&&(vo.imagePath=this._detectIconPath()),(this.options.imagePath||vo.imagePath)+Jr.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,d,p){var g=d.exec(c);return g&&g[p]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=we("div","leaflet-default-icon-path",document.body),a=co(s,"background-image")||co(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Wg=kn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new pi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ae(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&He(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=er(a._icon),C=c.getPixelBounds(),k=c.getPixelOrigin(),b=se(C.min._subtract(k).add(p),C.max._subtract(k).subtract(p));if(!b.contains(g)){var F=U((Math.max(b.max.x,g.x)-b.max.x)/(C.max.x-b.max.x)-(Math.min(b.min.x,g.x)-b.min.x)/(C.min.x-b.min.x),(Math.max(b.max.y,g.y)-b.max.y)/(C.max.y-b.max.y)-(Math.min(b.min.y,g.y)-b.min.y)/(C.min.y-b.min.y)).multiplyBy(d);c.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),Ve(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=oe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=oe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,d=er(a._icon),p=a._map.layerPointToLatLng(d);c&&Ve(c,d),a._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),fl=an.extend({options:{icon:new vo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){T(this,a),this._latlng=ne(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=ne(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),ae(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(c,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(ae(p,a),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pe(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ve(this._icon,s),this._shadow&&Ve(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wg)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wg(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Zt(this._icon,s),this._shadow&&Zt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?U(a.iconSize):U(0,0),d=a.iconAnchor?U(a.iconAnchor):U(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wx(s,a){return new fl(s,a)}var mi=an.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return T(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),pl=mi.extend({options:{fill:!0,radius:10},initialize:function(s,a){T(this,a),this._latlng=ne(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=ne(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return mi.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),d=[s+c,a+c];this._pxBounds=new K(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ex(s,a){return new pl(s,a)}var $h=pl.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),T(this,a),this._latlng=ne(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:mi.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===fi.distance){var p=Math.PI/180,g=this._mRadius/fi.R/p,C=c.project([a+g,s]),k=c.project([a-g,s]),b=C.add(k).divideBy(2),F=c.unproject(b).lat,$=Math.acos((Math.cos(g*p)-Math.sin(a*p)*Math.sin(F*p))/(Math.cos(a*p)*Math.cos(F*p)))/p;(isNaN($)||$===0)&&($=g/Math.cos(Math.PI/180*a)),this._point=b.subtract(c.getPixelOrigin()),this._radius=isNaN($)?0:b.x-c.project([F,s-$]).x,this._radiusY=b.y-C.y}else{var X=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(X).x}this._updateBounds()}});function Sx(s,a,c){return new $h(s,a,c)}var Hn=mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){T(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,d=go,p,g,C=0,k=this._parts.length;C<k;C++)for(var b=this._parts[C],F=1,$=b.length;F<$;F++){p=b[F-1],g=b[F];var X=d(s,p,g,!0);X<a&&(a=X,c=d(s,p,g))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=ne(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ie,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=qt(s),d=0,p=s.length;d<p;d++)c?(a[d]=ne(s[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(s[d]);return a},_project:function(){var s=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new x(s,s);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var d=s[0]instanceof pe,p=s.length,g,C;if(d){for(C=[],g=0;g<p;g++)C[g]=this._map.latLngToLayerPoint(s[g]),c.extend(C[g]);a.push(C)}else for(g=0;g<p;g++)this._projectLatlngs(s[g],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,d,p,g,C,k,b;for(c=0,p=0,g=this._rings.length;c<g;c++)for(b=this._rings[c],d=0,C=b.length;d<C-1;d++)k=Ug(b[d],b[d+1],s,d,!0),k&&(a[p]=a[p]||[],a[p].push(k[0]),(k[1]!==b[d+1]||d===C-2)&&(a[p].push(k[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,d=s.length;c<d;c++)s[c]=Mg(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,d,p,g,C,k,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,g=this._parts.length;c<g;c++)for(k=this._parts[c],d=0,C=k.length,p=C-1;d<C;p=d++)if(!(!a&&d===0)&&Dg(s,k[p],k[d])<=b)return!0;return!1}});function Cx(s,a){return new Hn(s,a)}Hn._flat=Bg;var Xr=Hn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ag(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=Hn.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof pe&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){Hn.prototype._setLatLngs.call(this,s),qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new x(a,a);if(s=new K(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,g;d<p;d++)g=Ng(this._rings[d],s,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,d,p,g,C,k,b,F;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,b=this._parts.length;g<b;g++)for(c=this._parts[g],C=0,F=c.length,k=F-1;C<F;k=C++)d=c[C],p=c[k],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||Hn.prototype._containsPoint.call(this,s,!0)}});function Tx(s,a){return new Xr(s,a)}var $n=Wn.extend({initialize:function(s,a){T(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=I(s)?s:s.features,c,d,p;if(a){for(c=0,d=a.length;c<d;c++)p=a[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(s))return this;var C=ml(s,g);return C?(C.feature=vl(s),C.defaultOptions=C.options,this.resetStyle(C),g.onEachFeature&&g.onEachFeature(s,C),this.addLayer(C)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function ml(s,a){var c=s.type==="Feature"?s.geometry:s,d=c?c.coordinates:null,p=[],g=a&&a.pointToLayer,C=a&&a.coordsToLatLng||Vh,k,b,F,$;if(!d&&!c)return null;switch(c.type){case"Point":return k=C(d),Hg(g,s,k,a);case"MultiPoint":for(F=0,$=d.length;F<$;F++)k=C(d[F]),p.push(Hg(g,s,k,a));return new Wn(p);case"LineString":case"MultiLineString":return b=_l(d,c.type==="LineString"?0:1,C),new Hn(b,a);case"Polygon":case"MultiPolygon":return b=_l(d,c.type==="Polygon"?1:2,C),new Xr(b,a);case"GeometryCollection":for(F=0,$=c.geometries.length;F<$;F++){var X=ml({geometry:c.geometries[F],type:"Feature",properties:s.properties},a);X&&p.push(X)}return new Wn(p);case"FeatureCollection":for(F=0,$=c.features.length;F<$;F++){var le=ml(c.features[F],a);le&&p.push(le)}return new Wn(p);default:throw new Error("Invalid GeoJSON object.")}}function Hg(s,a,c,d){return s?s(a,c):new fl(c,d&&d.markersInheritOptions&&d)}function Vh(s){return new pe(s[1],s[0],s[2])}function _l(s,a,c){for(var d=[],p=0,g=s.length,C;p<g;p++)C=a?_l(s[p],a-1,c):(c||Vh)(s[p]),d.push(C);return d}function Zh(s,a){return s=ne(s),s.alt!==void 0?[v(s.lng,a),v(s.lat,a),v(s.alt,a)]:[v(s.lng,a),v(s.lat,a)]}function gl(s,a,c,d){for(var p=[],g=0,C=s.length;g<C;g++)p.push(a?gl(s[g],qt(s[g])?0:a-1,c,d):Zh(s[g],d));return!a&&c&&p.length>0&&p.push(p[0].slice()),p}function es(s,a){return s.feature?r({},s.feature,{geometry:a}):vl(a)}function vl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var qh={toGeoJSON:function(s){return es(this,{type:"Point",coordinates:Zh(this.getLatLng(),s)})}};fl.include(qh),$h.include(qh),pl.include(qh),Hn.include({toGeoJSON:function(s){var a=!qt(this._latlngs),c=gl(this._latlngs,a?1:0,!1,s);return es(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Xr.include({toGeoJSON:function(s){var a=!qt(this._latlngs),c=a&&!qt(this._latlngs[0]),d=gl(this._latlngs,c?2:a?1:0,!0,s);return a||(d=[d]),es(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),Qr.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),es(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(s);if(c)d.push(g.geometry);else{var C=vl(g);C.type==="FeatureCollection"?d.push.apply(d,C.features):d.push(C)}}}),c?es(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function $g(s,a){return new $n(s,a)}var Ix=$g,yl=an.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=ge(a),T(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Kr(this._image),this},bringToBack:function(){return this._map&&Yr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ge(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:we("img");if(ae(a,"leaflet-image-layer"),this._zoomAnimated&&ae(a,"leaflet-zoom-animated"),this.options.className&&ae(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Xi(this._image,c,a)},_reset:function(){var s=this._image,a=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Ve(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Zt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Px=function(s,a,c){return new yl(s,a,c)},Vg=yl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:we("video");if(ae(a,"leaflet-image-layer"),this._zoomAnimated&&ae(a,"leaflet-zoom-animated"),this.options.className&&ae(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),d=[],p=0;p<c.length;p++)d.push(c[p].src);this._url=c.length>0?d:[a.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var C=we("source");C.src=this._url[g],a.appendChild(C)}}});function xx(s,a,c){return new Vg(s,a,c)}var Zg=yl.extend({_initImage:function(){var s=this._image=this._url;ae(s,"leaflet-image-layer"),this._zoomAnimated&&ae(s,"leaflet-zoom-animated"),this.options.className&&ae(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function kx(s,a,c){return new Zg(s,a,c)}var bn=an.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof pe||I(s))?(this._latlng=ne(s),T(this,a)):(T(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Zt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Zt(this._container,1),this.bringToFront(),this.options.interactive&&(ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Zt(this._container,0),this._removeTimeout=setTimeout(l(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ne(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Kr(this._container),this},bringToBack:function(){return this._map&&Yr(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof Wn){a=null;var c=this._source._layers;for(var d in c)if(c[d]._map){a=c[d];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=U(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ve(this._container,s.add(c)):a=a.add(s).add(c);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});me.include({_initOverlay:function(s,a,c,d){var p=a;return p instanceof s||(p=new s(d).setContent(a)),c&&p.setLatLng(c),p}}),an.include({_initOverlay:function(s,a,c,d){var p=c;return p instanceof s?(T(p,d),p._source=this):(p=a&&!d?a:new s(d,this),p.setContent(c)),p}});var wl=bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,bn.prototype.openOn.call(this,s)},onAdd:function(s){bn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mi||this._source.on("preclick",tr))},onRemove:function(s){bn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mi||this._source.off("preclick",tr))},getEvents:function(){var s=bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=we("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=we("div",s+"-content-wrapper",a);if(this._contentNode=we("div",s+"-content",c),mo(a),Dh(this._contentNode),re(a,"contextmenu",tr),this._tipContainer=we("div",s+"-tip-container",a),this._tip=we("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=we("a",s+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',re(d,"click",function(p){ot(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var d=s.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",ae(s,g)):He(s,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Ve(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(co(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,d=this._containerWidth,p=new x(this._containerLeft,-c-this._containerBottom);p._add(er(this._container));var g=s.layerPointToContainerPoint(p),C=U(this.options.autoPanPadding),k=U(this.options.autoPanPaddingTopLeft||C),b=U(this.options.autoPanPaddingBottomRight||C),F=s.getSize(),$=0,X=0;g.x+d+b.x>F.x&&($=g.x+d-F.x+b.x),g.x-$-k.x<0&&($=g.x-k.x),g.y+c+b.y>F.y&&(X=g.y+c-F.y+b.y),g.y-X-k.y<0&&(X=g.y-k.y),($||X)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([$,X]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bx=function(s,a){return new wl(s,a)};me.mergeOptions({closePopupOnClick:!0}),me.include({openPopup:function(s,a,c){return this._initOverlay(wl,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),an.include({bindPopup:function(s,a){return this._popup=this._initOverlay(wl,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Wn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){nr(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof mi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var El=bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){bn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){bn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=bn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=we("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,d=this._map,p=this._container,g=d.latLngToContainerPoint(d.getCenter()),C=d.layerPointToContainerPoint(s),k=this.options.direction,b=p.offsetWidth,F=p.offsetHeight,$=U(this.options.offset),X=this._getAnchor();k==="top"?(a=b/2,c=F):k==="bottom"?(a=b/2,c=0):k==="center"?(a=b/2,c=F/2):k==="right"?(a=0,c=F/2):k==="left"?(a=b,c=F/2):C.x<g.x?(k="right",a=0,c=F/2):(k="left",a=b+($.x+X.x)*2,c=F/2),s=s.subtract(U(a,c,!0)).add($).add(X),He(p,"leaflet-tooltip-right"),He(p,"leaflet-tooltip-left"),He(p,"leaflet-tooltip-top"),He(p,"leaflet-tooltip-bottom"),ae(p,"leaflet-tooltip-"+k),Ve(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Zt(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rx=function(s,a){return new El(s,a)};me.include({openTooltip:function(s,a,c){return this._initOverlay(El,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),an.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(El,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Wn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(re(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),re(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,c,d;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var qg=Jr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(al(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=U(c.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Lx(s){return new qg(s)}Jr.Default=vo;var yo=an.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){T(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Ne(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Kr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof x?s:new x(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),d=0,p=a.length,g;d<p;d++)g=a[d].style.zIndex,a[d]!==this._container&&g&&(c=s(c,+g));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){Zt(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var g=Math.min(1,(s-p.loaded)/200);Zt(p.el,g),g<1?a=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(ye(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=we("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(Ne(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=we("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Ne(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,d){var p=Math.floor(s/2),g=Math.floor(a/2),C=c-1,k=new x(+p,+g);k.z=+C;var b=this._tileCoordsToKey(k),F=this._tiles[b];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),C>d?this._retainParent(p,g,C,d):!1)},_retainChildren:function(s,a,c,d){for(var p=2*s;p<2*s+2;p++)for(var g=2*a;g<2*a+2;g++){var C=new x(p,g);C.z=c+1;var k=this._tileCoordsToKey(C),b=this._tiles[k];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);c+1<d&&this._retainChildren(p,g,c+1,d)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var d=this._map.getZoomScale(c,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,c)).round();Y.any3d?Xi(s.el,p,d):Ve(s.el,p)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(c,this._tileZoom),p=a.project(s,this._tileZoom).floor(),g=a.getSize().divideBy(d*2);return new K(p.subtract(g),p.add(g))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),g=p.getCenter(),C=[],k=this.options.keepBuffer,b=new K(p.getBottomLeft().subtract([k,-k]),p.getTopRight().add([k,-k]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var $=this._tiles[F].coords;($.z!==this._tileZoom||!b.contains(new x($.x,$.y)))&&(this._tiles[F].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var X=p.min.y;X<=p.max.y;X++)for(var le=p.min.x;le<=p.max.x;le++){var Et=new x(le,X);if(Et.z=this._tileZoom,!!this._isValidTile(Et)){var Je=this._tiles[this._tileCoordsToKey(Et)];Je?Je.current=!0:C.push(Et)}}if(C.sort(function(bt,ns){return bt.distanceTo(g)-ns.distanceTo(g)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gt=document.createDocumentFragment();for(le=0;le<C.length;le++)this._addTile(C[le],Gt);this._level.el.appendChild(Gt)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return ge(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),d=s.scaleBy(c),p=d.add(c),g=a.unproject(d,s.z),C=a.unproject(p,s.z);return[g,C]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new Ie(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new x(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(Ne(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ae(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=_,s.onmousemove=_,Y.ielt9&&this.options.opacity<1&&Zt(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&oe(l(this._tileReady,this,s,null,p)),Ve(p,c),this._tiles[d]={el:p,coords:s,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var d=this._tileCoordsToKey(s);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Zt(c.el,0),ye(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(ae(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?oe(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new x(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new K(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ox(s){return new yo(s)}var ts=yo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=T(this,a),a.detectRetina&&Y.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return re(c,"load",l(this._tileOnLoad,this,a,c)),re(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:Y.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return w(this._url,r(a,this.options))},_tileOnLoad:function(s,a){Y.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(s=a-s),s+d},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=_,a.onerror=_,!a.complete)){a.src=D;var c=this._tiles[s].coords;Ne(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",D),yo.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===D))return yo.prototype._tileReady.call(this,s,a,c)}});function Gg(s,a){return new ts(s,a)}var Kg=ts.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var d in a)d in this.options||(c[d]=a[d]);a=T(this,a);var p=a.detectRetina&&Y.retina?2:1,g=this.getTileSize();c.width=g.x*p,c.height=g.y*p,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,ts.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,d=se(c.project(a[0]),c.project(a[1])),p=d.min,g=d.max,C=(this._wmsVersion>=1.3&&this._crs===jg?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),k=ts.prototype.getTileUrl.call(this,s);return k+N(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function Nx(s,a){return new Kg(s,a)}ts.WMS=Kg,Gg.wms=Nx;var Vn=an.extend({options:{padding:.1},initialize:function(s){T(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),g=d.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(s,a));Y.any3d?Xi(this._container,g,c):Ve(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new K(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yg=Vn.extend({options:{tolerance:0},getEvents:function(){var s=Vn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");re(s,"mousemove",this._onMouseMove,this),re(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),re(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,Ne(this._container),Pe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),d=Y.retina?2:1;Ve(a,s.min),a.width=d*c.x,a.height=d*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,d=a.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;c.push(d)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||oe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,d,p,g,C=s._parts,k=C.length,b=this._ctx;if(k){for(b.beginPath(),c=0;c<k;c++){for(d=0,p=C[c].length;d<p;d++)g=C[c][d],b[d?"lineTo":"moveTo"](g.x,g.y);a&&b.closePath()}this._fillStroke(b,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(He(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(ae(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function Qg(s){return Y.canvas?new Yg(s):null}var wo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ax={_initContainer:function(){this._container=we("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=wo("shape");ae(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=wo("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;Ne(a),s.removeInteractiveTarget(a),delete this._layers[h(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=s._stroke=wo("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=I(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),s._stroke=null),d.fill?(c||(c=s._fill=wo("fill")),p.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(p.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),d=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){Kr(s._container)},_bringToBack:function(s){Yr(s._container)}},Sl=Y.vml?wo:tg,Eo=Vn.extend({_initContainer:function(){this._container=Sl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),Pe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Ve(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=Sl("path");s.options.className&&ae(a,s.options.className),s.options.interactive&&ae(a,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Ne(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,ng(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||c,p="a"+c+","+d+" 0 1,0 ",g=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(s,g)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){Kr(s._path)},_bringToBack:function(s){Yr(s._path)}});Y.vml&&Eo.include(Ax);function Jg(s){return Y.svg||Y.vml?new Eo(s):null}me.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&Qg(s)||Jg(s)}});var Xg=Xr.extend({initialize:function(s,a){Xr.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ge(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Mx(s,a){return new Xg(s,a)}Eo.create=Sl,Eo.pointsToPath=ng,$n.geometryToLayer=ml,$n.coordsToLatLng=Vh,$n.coordsToLatLngs=_l,$n.latLngToCoords=Zh,$n.latLngsToCoords=gl,$n.getFeature=es,$n.asFeature=vl,me.mergeOptions({boxZoom:!0});var ev=kn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ho(),kh(),this._startPoint=this._map.mouseEventToContainerPoint(s),re(document,{contextmenu:nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=we("div","leaflet-zoom-box",this._container),ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new K(this._point,this._startPoint),c=a.getSize();Ve(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ne(this._box),He(this._container,"leaflet-crosshair")),fo(),bh(),Pe(document,{contextmenu:nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});me.addInitHook("addHandler","boxZoom",ev),me.mergeOptions({doubleClickZoom:!0});var tv=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),d=a.options.zoomDelta,p=s.originalEvent.shiftKey?c-d:c+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(s.containerPoint,p)}});me.addInitHook("addHandler","doubleClickZoom",tv),me.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nv=kn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new pi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){He(this._map._container,"leaflet-grab"),He(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ge(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+c)%s+a-c,g=(d+a+c)%s-a-c,C=Math.abs(p+c)<Math.abs(g+c)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(s){var a=this._map,c=a.options,d=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,C=c.easeLinearity,k=p.multiplyBy(C/g),b=k.distanceTo([0,0]),F=Math.min(c.inertiaMaxSpeed,b),$=k.multiplyBy(F/b),X=F/(c.inertiaDeceleration*C),le=$.multiplyBy(-X/2).round();!le.x&&!le.y?a.fire("moveend"):(le=a._limitOffset(le,a.options.maxBounds),oe(function(){a.panBy(le,{duration:X,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});me.addInitHook("addHandler","dragging",nv),me.mergeOptions({keyboard:!0,keyboardPanDelta:80});var iv=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),re(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,d,p;for(d=0,p=c.left.length;d<p;d++)a[c.left[d]]=[-1*s,0];for(d=0,p=c.right.length;d<p;d++)a[c.right[d]]=[s,0];for(d=0,p=c.down.length;d<p;d++)a[c.down[d]]=[0,s];for(d=0,p=c.up.length;d<p;d++)a[c.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,d,p;for(d=0,p=c.zoomIn.length;d<p;d++)a[c.zoomIn[d]]=s;for(d=0,p=c.zoomOut.length;d<p;d++)a[c.zoomOut[d]]=-s},_addHooks:function(){re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,d;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[a],s.shiftKey&&(d=U(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(U(d),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(p)}else c.panBy(d)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;nr(s)}}});me.addInitHook("addHandler","keyboard",iv),me.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rv=kn.extend({addHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=kg(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),nr(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,g=c?Math.ceil(p/c)*c:p,C=s._limitZoom(a+(this._delta>0?g:-g))-a;this._delta=0,this._startTime=null,C&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+C):s.setZoomAround(this._lastMousePos,a+C))}});me.addInitHook("addHandler","scrollWheelZoom",rv);var Dx=600;me.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var sv=kn.extend({addHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new x(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(re(document,"touchend",ot),re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Dx),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Pe(document,"touchend",ot),Pe(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Pe(document,"touchend touchcancel contextmenu",this._cancel,this),Pe(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new x(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});me.addInitHook("addHandler","tapHold",sv),me.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var ov=kn.extend({addHooks:function(){ae(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){He(this._map._container,"leaflet-touch-zoom"),Pe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),ot(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]),p=c.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var C=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=oe(C,this,!0),ot(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),Pe(document,"touchmove",this._onTouchMove,this),Pe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});me.addInitHook("addHandler","touchZoom",ov),me.BoxZoom=ev,me.DoubleClickZoom=tv,me.Drag=nv,me.Keyboard=iv,me.ScrollWheelZoom=rv,me.TapHold=sv,me.TouchZoom=ov,n.Bounds=K,n.Browser=Y,n.CRS=pt,n.Canvas=Yg,n.Circle=$h,n.CircleMarker=pl,n.Class=G,n.Control=on,n.DivIcon=qg,n.DivOverlay=bn,n.DomEvent=ex,n.DomUtil=JP,n.Draggable=pi,n.Evented=R,n.FeatureGroup=Wn,n.GeoJSON=$n,n.GridLayer=yo,n.Handler=kn,n.Icon=Jr,n.ImageOverlay=yl,n.LatLng=pe,n.LatLngBounds=Ie,n.Layer=an,n.LayerGroup=Qr,n.LineUtil=fx,n.Map=me,n.Marker=fl,n.Mixin=ax,n.Path=mi,n.Point=x,n.PolyUtil=lx,n.Polygon=Xr,n.Polyline=Hn,n.Popup=wl,n.PosAnimation=bg,n.Projection=px,n.Rectangle=Xg,n.Renderer=Vn,n.SVG=Eo,n.SVGOverlay=Zg,n.TileLayer=ts,n.Tooltip=El,n.Transformation=_h,n.Util=ft,n.VideoOverlay=Vg,n.bind=l,n.bounds=se,n.canvas=Qg,n.circle=Sx,n.circleMarker=Ex,n.control=_o,n.divIcon=Lx,n.extend=r,n.featureGroup=vx,n.geoJSON=$g,n.geoJson=Ix,n.gridLayer=Ox,n.icon=yx,n.imageOverlay=Px,n.latLng=ne,n.latLngBounds=ge,n.layerGroup=gx,n.map=tx,n.marker=wx,n.point=U,n.polygon=Tx,n.polyline=Cx,n.popup=bx,n.rectangle=Mx,n.setOptions=T,n.stamp=h,n.svg=Jg,n.svgOverlay=kx,n.tileLayer=Gg,n.tooltip=Rx,n.transformation=ao,n.version=i,n.videoOverlay=xx;var Fx=window.L;n.noConflict=function(){return window.L=Fx,this},window.L=n})})(xp,xp.exports);var nt=xp.exports;const $z=Dp(nt),K_=g0({__proto__:null,default:$z},[nt]);function Y_(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Q_(t,e){return e==null?function(i,r){const o=A.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=A.useRef();o.current||(o.current=t(i,r));const l=A.useRef(i),{instance:u}=o.current;return A.useEffect(function(){l.current!==i&&(e(u,i,l.current),l.current=i)},[u,i,r]),o}}function Vz(t,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function aP(t){return function(n){const i=sP(),r=t(G_(n,i),i);return nP(i.map,n.attribution),oP(r.current,n.eventHandlers),Vz(r.current,i),r}}function Zz(t,e){const n=Q_(t,e),i=aP(n);return zz(i)}function qz(t,e){const n=Q_(t),i=Hz(n,e);return jz(i)}function Gz(t,e){const n=Q_(t,e),i=aP(n);return Wz(i)}function Kz(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function kp(){return kp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kp.apply(this,arguments)}function Yz({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:u,whenReady:h,zoom:f,...m},_){const[v]=A.useState({className:r,id:o,style:u}),[E,y]=A.useState(null);A.useImperativeHandle(_,()=>(E==null?void 0:E.map)??null,[E]);const T=A.useCallback(S=>{if(S!==null&&E===null){const w=new nt.Map(S,m);n!=null&&f!=null?w.setView(n,f):t!=null&&w.fitBounds(t,e),h!=null&&w.whenReady(h),y(Uz(w))}},[]);A.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const N=E?pu.createElement(rP,{value:E},i):l??null;return pu.createElement("div",kp({},v,{ref:T}),N)}const Qz=A.forwardRef(Yz),Jz=Zz(function({position:e,...n},i){const r=new nt.Marker(e,n);return Y_(r,Bz(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Xz=qz(function(e,n){const i=new nt.Popup(e,n.overlayContainer);return Y_(i,n)},function(e,n,{position:i},r){A.useEffect(function(){const{instance:l}=e;function u(f){f.popup===l&&(l.update(),r(!0))}function h(f){f.popup===l&&r(!1)}return n.map.on({popupopen:u,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:u,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,i])}),ej=Gz(function({url:e,...n},i){const r=new nt.TileLayer(e,G_(n,i));return Y_(r,i)},function(e,n,i){Kz(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)});function tj(){const t=[],[e,n]=A.useState(0),[i,r]=A.useState(!1),[o,l]=A.useState(),[u,h]=A.useState([]),[f,m]=A.useState(null),_=Sp(Pp,"images/"),v=lI(tP,"spots/"),[E,y]=A.useState(0);function T(D){E<D-1?y(E+1):y(0)}function N(D){E>0?y(E-1):y(D-1)}A.useEffect(()=>{$I(Ur,D=>{m(D||null)}),UF(v,D=>{D.forEach(j=>{t.push(j.val())}),l(t)}),u2(_).then(D=>{D.items.forEach(j=>{SI(j).then(W=>{h(V=>[...V,W])})})})},[]);function S(D){r(!0),n(D.currentTarget.id)}function w(D){r(!0),n(D)}function I(){r(!1)}const O=new nt.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]});return P.jsxs(A.Fragment,{children:[P.jsx(fh,{}),P.jsxs("div",{className:"bigContainer",children:[P.jsxs(Qz,{center:[43.747474670410156,-79.49417877197266],zoom:12,scrollWheelZoom:!1,children:[P.jsx(ej,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o?P.jsx("div",{children:o.map((D,j)=>P.jsx(Jz,{id:j,position:[D.lat,D.long],icon:O,eventHandlers:{click:W=>{console.log("marker clicked",W),w(W.target.options.id)}},children:P.jsx(Xz,{children:D.spotDescription})}))}):P.jsx("div",{})]}),i?P.jsx("div",{className:"spotWindow",children:o?P.jsxs("div",{className:"spotInfoContainer",children:[P.jsx("br",{}),P.jsxs("div",{className:"imageContainer",children:[P.jsx("img",{className:"spotImage",src:o[e].uploadedImgURLs[E]}),P.jsx("br",{}),P.jsx("div",{className:"button-container left",children:P.jsx("button",{className:"button",onClick:()=>N(o[e].uploadedImgURLs.length),children:"<"})}),P.jsx("div",{className:"button-container right",children:P.jsx("button",{className:"button",onClick:()=>T(o[e].uploadedImgURLs.length),children:">"})})]}),P.jsx("br",{}),P.jsxs("strong",{id:"spotTitleText",children:["Spot Name: ",o[e].spotName]}),P.jsxs("p",{id:"spotAddress",children:["Address: ",o[e].spotAddress]}),P.jsx("div",{className:"spotDescription",children:P.jsx("p",{id:"spotDescriptionText",children:o[e].spotDescription})}),P.jsx("br",{}),P.jsx("button",{id:"backButton",onClick:I,children:" Back"})]}):P.jsx("div",{})}):P.jsx("div",{className:"spotContainer",children:o?P.jsxs("div",{className:"spotContainer",children:[P.jsx("h2",{id:"text1",children:"View Skate Spots!"}),o.map((D,j)=>P.jsxs("div",{id:j,className:"element-container",onClick:S,children:[P.jsx("img",{src:D.uploadedImgURLs[0],className:"image"}),P.jsxs("div",{className:"overlay",children:[P.jsx("div",{className:"element-text",children:o[j].spotName}),P.jsx("div",{className:"element-textAddress",children:o[j].spotAddress})]})]}))]}):P.jsx("p",{className:"errorText",children:"Loading spots...."})})]})]})}var bp={exports:{}},Br={},lP={exports:{}},nj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ij=nj,rj=ij;function uP(){}function cP(){}cP.resetWarningCache=uP;var sj=function(){function t(i,r,o,l,u,h){if(h!==rj){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cP,resetWarningCache:uP};return n.PropTypes=n,n};lP.exports=sj();var hP=lP.exports,Rp={exports:{}},Tn={},Lp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",r=/input|select|textarea|button|object|iframe/;function o(_,v){return v.getPropertyValue("overflow")!=="visible"||_.scrollWidth<=0&&_.scrollHeight<=0}function l(_){var v=_.offsetWidth<=0&&_.offsetHeight<=0;if(v&&!_.innerHTML)return!0;try{var E=window.getComputedStyle(_),y=E.getPropertyValue("display");return v?y!==i&&o(_,E):y===n}catch{return console.warn("Failed to inspect element style"),!1}}function u(_){for(var v=_,E=_.getRootNode&&_.getRootNode();v&&v!==document.body;){if(E&&v===E&&(v=E.host.parentNode),l(v))return!1;v=v.parentNode}return!0}function h(_,v){var E=_.nodeName.toLowerCase(),y=r.test(E)&&!_.disabled||E==="a"&&_.href||v;return y&&u(_)}function f(_){var v=_.getAttribute("tabindex");v===null&&(v=void 0);var E=isNaN(v);return(E||v>=0)&&h(_,!E)}function m(_){var v=[].slice.call(_.querySelectorAll("*"),0).reduce(function(E,y){return E.concat(y.shadowRoot?m(y.shadowRoot):[y])},[]);return v.filter(f)}t.exports=e.default})(Lp,Lp.exports);var dP=Lp.exports;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.resetState=uj;Tn.log=cj;Tn.handleBlur=Ba;Tn.handleFocus=za;Tn.markForFocusLater=hj;Tn.returnFocus=dj;Tn.popWithoutFocus=fj;Tn.setupScopedFocus=pj;Tn.teardownScopedFocus=mj;var oj=dP,aj=lj(oj);function lj(t){return t&&t.__esModule?t:{default:t}}var qs=[],ws=null,Op=!1;function uj(){qs=[]}function cj(){}function Ba(){Op=!0}function za(){if(Op){if(Op=!1,!ws)return;setTimeout(function(){if(!ws.contains(document.activeElement)){var t=(0,aj.default)(ws)[0]||ws;t.focus()}},0)}}function hj(){qs.push(document.activeElement)}function dj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{qs.length!==0&&(e=qs.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function fj(){qs.length>0&&qs.pop()}function pj(t){ws=t,window.addEventListener?(window.addEventListener("blur",Ba,!1),document.addEventListener("focus",za,!0)):(window.attachEvent("onBlur",Ba),document.attachEvent("onFocus",za))}function mj(){ws=null,window.addEventListener?(window.removeEventListener("blur",Ba),document.removeEventListener("focus",za)):(window.detachEvent("onBlur",Ba),document.detachEvent("onFocus",za))}var Np={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=dP,i=r(n);function r(u){return u&&u.__esModule?u:{default:u}}function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?o(u.activeElement.shadowRoot):u.activeElement}function l(u,h){var f=(0,i.default)(u);if(!f.length){h.preventDefault();return}var m=void 0,_=h.shiftKey,v=f[0],E=f[f.length-1],y=o();if(u===y){if(!_)return;m=E}if(E===y&&!_&&(m=v),v===y&&_&&(m=E),m){h.preventDefault(),m.focus();return}var T=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),N=T!=null&&T[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(N){var S=f.indexOf(y);if(S>-1&&(S+=_?-1:1),m=f[S],typeof m>"u"){h.preventDefault(),m=_?E:v,m.focus();return}h.preventDefault(),m.focus()}}t.exports=e.default})(Np,Np.exports);var _j=Np.exports,In={},gj=function(){},vj=gj,vn={},fP={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(fP);var yj=fP.exports;Object.defineProperty(vn,"__esModule",{value:!0});vn.canUseDOM=vn.SafeNodeList=vn.SafeHTMLCollection=void 0;var wj=yj,Ej=Sj(wj);function Sj(t){return t&&t.__esModule?t:{default:t}}var ph=Ej.default,Cj=ph.canUseDOM?window.HTMLElement:{};vn.SafeHTMLCollection=ph.canUseDOM?window.HTMLCollection:{};vn.SafeNodeList=ph.canUseDOM?window.NodeList:{};vn.canUseDOM=ph.canUseDOM;vn.default=Cj;Object.defineProperty(In,"__esModule",{value:!0});In.resetState=kj;In.log=bj;In.assertNodeList=pP;In.setElement=Rj;In.validateElement=J_;In.hide=Lj;In.show=Oj;In.documentNotReadyOrSSRTesting=Nj;var Tj=vj,Ij=xj(Tj),Pj=vn;function xj(t){return t&&t.__esModule?t:{default:t}}var Kt=null;function kj(){Kt&&(Kt.removeAttribute?Kt.removeAttribute("aria-hidden"):Kt.length!=null?Kt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Kt).forEach(function(t){return t.removeAttribute("aria-hidden")})),Kt=null}function bj(){}function pP(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Rj(t){var e=t;if(typeof e=="string"&&Pj.canUseDOM){var n=document.querySelectorAll(e);pP(n,e),e=n}return Kt=e||Kt,Kt}function J_(t){var e=t||Kt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Ij.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Lj(t){var e=!0,n=!1,i=void 0;try{for(var r=J_(t)[Symbol.iterator](),o;!(e=(o=r.next()).done);e=!0){var l=o.value;l.setAttribute("aria-hidden","true")}}catch(u){n=!0,i=u}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}function Oj(t){var e=!0,n=!1,i=void 0;try{for(var r=J_(t)[Symbol.iterator](),o;!(e=(o=r.next()).done);e=!0){var l=o.value;l.removeAttribute("aria-hidden")}}catch(u){n=!0,i=u}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}function Nj(){Kt=null}var so={};Object.defineProperty(so,"__esModule",{value:!0});so.resetState=Aj;so.log=Mj;var sa={},oa={};function a0(t,e){t.classList.remove(e)}function Aj(){var t=document.getElementsByTagName("html")[0];for(var e in sa)a0(t,sa[e]);var n=document.body;for(var i in oa)a0(n,oa[i]);sa={},oa={}}function Mj(){}var Dj=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Fj=function(e,n){return e[n]&&(e[n]-=1),n},Uj=function(e,n,i){i.forEach(function(r){Dj(n,r),e.add(r)})},Bj=function(e,n,i){i.forEach(function(r){Fj(n,r),n[r]===0&&e.remove(r)})};so.add=function(e,n){return Uj(e.classList,e.nodeName.toLowerCase()=="html"?sa:oa,n.split(" "))};so.remove=function(e,n){return Bj(e.classList,e.nodeName.toLowerCase()=="html"?sa:oa,n.split(" "))};var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.log=jj;oo.resetState=Wj;function zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mP=function t(){var e=this;zj(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var i=e.openInstances.indexOf(n);i!==-1&&(e.openInstances.splice(i,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(i){return i(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},dc=new mP;function jj(){console.log("portalOpenInstances ----------"),console.log(dc.openInstances.length),dc.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Wj(){dc=new mP}oo.default=dc;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});X_.resetState=Zj;X_.log=qj;var Hj=oo,$j=Vj(Hj);function Vj(t){return t&&t.__esModule?t:{default:t}}var gt=void 0,cn=void 0,Sr=[];function Zj(){for(var t=[gt,cn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}gt=cn=null,Sr=[]}function qj(){console.log("bodyTrap ----------"),console.log(Sr.length);for(var t=[gt,cn],e=0;e<t.length;e++){var n=t[e],i=n||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function l0(){Sr.length!==0&&Sr[Sr.length-1].focusContent()}function Gj(t,e){!gt&&!cn&&(gt=document.createElement("div"),gt.setAttribute("data-react-modal-body-trap",""),gt.style.position="absolute",gt.style.opacity="0",gt.setAttribute("tabindex","0"),gt.addEventListener("focus",l0),cn=gt.cloneNode(),cn.addEventListener("focus",l0)),Sr=e,Sr.length>0?(document.body.firstChild!==gt&&document.body.insertBefore(gt,document.body.firstChild),document.body.lastChild!==cn&&document.body.appendChild(cn)):(gt.parentElement&&gt.parentElement.removeChild(gt),cn.parentElement&&cn.parentElement.removeChild(cn))}$j.default.subscribe(Gj);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(G){for(var Q=1;Q<arguments.length;Q++){var te=arguments[Q];for(var R in te)Object.prototype.hasOwnProperty.call(te,R)&&(G[R]=te[R])}return G},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},r=function(){function G(Q,te){for(var R=0;R<te.length;R++){var x=te[R];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(Q,x.key,x)}}return function(Q,te,R){return te&&G(Q.prototype,te),R&&G(Q,R),Q}}(),o=A,l=hP,u=D(l),h=Tn,f=O(h),m=_j,_=D(m),v=In,E=O(v),y=so,T=O(y),N=vn,S=D(N),w=oo,I=D(w);function O(G){if(G&&G.__esModule)return G;var Q={};if(G!=null)for(var te in G)Object.prototype.hasOwnProperty.call(G,te)&&(Q[te]=G[te]);return Q.default=G,Q}function D(G){return G&&G.__esModule?G:{default:G}}function j(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function W(G,Q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:G}function V(G,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}var fe={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},Z=function(Q){return Q.code==="Tab"||Q.keyCode===9},oe=function(Q){return Q.code==="Escape"||Q.keyCode===27},ye=0,ft=function(G){V(Q,G);function Q(te){j(this,Q);var R=W(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,te));return R.setOverlayRef=function(x){R.overlay=x,R.props.overlayRef&&R.props.overlayRef(x)},R.setContentRef=function(x){R.content=x,R.props.contentRef&&R.props.contentRef(x)},R.afterClose=function(){var x=R.props,H=x.appElement,U=x.ariaHideApp,K=x.htmlOpenClassName,se=x.bodyOpenClassName,Ie=x.parentSelector,ge=Ie&&Ie().ownerDocument||document;se&&T.remove(ge.body,se),K&&T.remove(ge.getElementsByTagName("html")[0],K),U&&ye>0&&(ye-=1,ye===0&&E.show(H)),R.props.shouldFocusAfterRender&&(R.props.shouldReturnFocusAfterClose?(f.returnFocus(R.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),R.props.onAfterClose&&R.props.onAfterClose(),I.default.deregister(R)},R.open=function(){R.beforeOpen(),R.state.afterOpen&&R.state.beforeClose?(clearTimeout(R.closeTimer),R.setState({beforeClose:!1})):(R.props.shouldFocusAfterRender&&(f.setupScopedFocus(R.node),f.markForFocusLater()),R.setState({isOpen:!0},function(){R.openAnimationFrame=requestAnimationFrame(function(){R.setState({afterOpen:!0}),R.props.isOpen&&R.props.onAfterOpen&&R.props.onAfterOpen({overlayEl:R.overlay,contentEl:R.content})})}))},R.close=function(){R.props.closeTimeoutMS>0?R.closeWithTimeout():R.closeWithoutTimeout()},R.focusContent=function(){return R.content&&!R.contentHasFocus()&&R.content.focus({preventScroll:!0})},R.closeWithTimeout=function(){var x=Date.now()+R.props.closeTimeoutMS;R.setState({beforeClose:!0,closesAt:x},function(){R.closeTimer=setTimeout(R.closeWithoutTimeout,R.state.closesAt-Date.now())})},R.closeWithoutTimeout=function(){R.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},R.afterClose)},R.handleKeyDown=function(x){Z(x)&&(0,_.default)(R.content,x),R.props.shouldCloseOnEsc&&oe(x)&&(x.stopPropagation(),R.requestClose(x))},R.handleOverlayOnClick=function(x){R.shouldClose===null&&(R.shouldClose=!0),R.shouldClose&&R.props.shouldCloseOnOverlayClick&&(R.ownerHandlesClose()?R.requestClose(x):R.focusContent()),R.shouldClose=null},R.handleContentOnMouseUp=function(){R.shouldClose=!1},R.handleOverlayOnMouseDown=function(x){!R.props.shouldCloseOnOverlayClick&&x.target==R.overlay&&x.preventDefault()},R.handleContentOnClick=function(){R.shouldClose=!1},R.handleContentOnMouseDown=function(){R.shouldClose=!1},R.requestClose=function(x){return R.ownerHandlesClose()&&R.props.onRequestClose(x)},R.ownerHandlesClose=function(){return R.props.onRequestClose},R.shouldBeClosed=function(){return!R.state.isOpen&&!R.state.beforeClose},R.contentHasFocus=function(){return document.activeElement===R.content||R.content.contains(document.activeElement)},R.buildClassName=function(x,H){var U=(typeof H>"u"?"undefined":i(H))==="object"?H:{base:fe[x],afterOpen:fe[x]+"--after-open",beforeClose:fe[x]+"--before-close"},K=U.base;return R.state.afterOpen&&(K=K+" "+U.afterOpen),R.state.beforeClose&&(K=K+" "+U.beforeClose),typeof H=="string"&&H?K+" "+H:K},R.attributesFromObject=function(x,H){return Object.keys(H).reduce(function(U,K){return U[x+"-"+K]=H[K],U},{})},R.state={afterOpen:!1,beforeClose:!1},R.shouldClose=null,R.moveFromContentToOverlay=null,R}return r(Q,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(R,x){this.props.isOpen&&!R.isOpen?this.open():!this.props.isOpen&&R.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!x.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var R=this.props,x=R.appElement,H=R.ariaHideApp,U=R.htmlOpenClassName,K=R.bodyOpenClassName,se=R.parentSelector,Ie=se&&se().ownerDocument||document;K&&T.add(Ie.body,K),U&&T.add(Ie.getElementsByTagName("html")[0],U),H&&(ye+=1,E.hide(x)),I.default.register(this)}},{key:"render",value:function(){var R=this.props,x=R.id,H=R.className,U=R.overlayClassName,K=R.defaultStyles,se=R.children,Ie=H?{}:K.content,ge=U?{}:K.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",U),style:n({},ge,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ne=n({id:x,ref:this.setContentRef,style:n({},Ie,this.props.style.content),className:this.buildClassName("content",H),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),pt=this.props.contentElement(ne,se);return this.props.overlayElement(pe,pt)}}]),Q}(o.Component);ft.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},ft.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),parentSelector:u.default.func,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(S.default),u.default.instanceOf(N.SafeHTMLCollection),u.default.instanceOf(N.SafeNodeList),u.default.arrayOf(u.default.instanceOf(S.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},e.default=ft,t.exports=e.default})(Rp,Rp.exports);var Kj=Rp.exports;function _P(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function gP(t){function e(n){var i=this.constructor.getDerivedStateFromProps(t,n);return i??null}this.setState(e.bind(this))}function vP(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}_P.__suppressDeprecationWarning=!0;gP.__suppressDeprecationWarning=!0;vP.__suppressDeprecationWarning=!0;function Yj(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,i=null,r=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||i!==null||r!==null){var o=t.displayName||t.name,l=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=_P,e.componentWillReceiveProps=gP),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=vP;var u=e.componentDidUpdate;e.componentDidUpdate=function(f,m,_){var v=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;u.call(this,f,m,v)}}return t}const Qj=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Yj},Symbol.toStringTag,{value:"Module"})),Jj=qx(Qj);Object.defineProperty(Br,"__esModule",{value:!0});Br.bodyOpenClassName=Br.portalClassName=void 0;var u0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xj=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),yP=A,fc=il(yP),eW=Lm,pc=il(eW),tW=hP,ie=il(tW),nW=Kj,c0=il(nW),iW=In,rW=oW(iW),Oi=vn,h0=il(Oi),sW=Jj;function oW(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function il(t){return t&&t.__esModule?t:{default:t}}function aW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uW=Br.portalClassName="ReactModalPortal",cW=Br.bodyOpenClassName="ReactModal__Body--open",lr=Oi.canUseDOM&&pc.default.createPortal!==void 0,f0=function(e){return document.createElement(e)},p0=function(){return lr?pc.default.createPortal:pc.default.unstable_renderSubtreeIntoContainer};function Zl(t){return t()}var rl=function(t){lW(e,t);function e(){var n,i,r,o;aW(this,e);for(var l=arguments.length,u=Array(l),h=0;h<l;h++)u[h]=arguments[h];return o=(i=(r=d0(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(u))),r),r.removePortal=function(){!lr&&pc.default.unmountComponentAtNode(r.node);var f=Zl(r.props.parentSelector);f&&f.contains(r.node)?f.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(f){r.portal=f},r.renderPortal=function(f){var m=p0(),_=m(r,fc.default.createElement(c0.default,u0({defaultStyles:e.defaultStyles},f)),r.node);r.portalRef(_)},i),d0(r,o)}return Xj(e,[{key:"componentDidMount",value:function(){if(Oi.canUseDOM){lr||(this.node=f0("div")),this.node.className=this.props.portalClassName;var i=Zl(this.props.parentSelector);i.appendChild(this.node),!lr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var r=Zl(i.parentSelector),o=Zl(this.props.parentSelector);return{prevParent:r,nextParent:o}}},{key:"componentDidUpdate",value:function(i,r,o){if(Oi.canUseDOM){var l=this.props,u=l.isOpen,h=l.portalClassName;i.portalClassName!==h&&(this.node.className=h);var f=o.prevParent,m=o.nextParent;m!==f&&(f.removeChild(this.node),m.appendChild(this.node)),!(!i.isOpen&&!u)&&!lr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Oi.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,r=Date.now(),o=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||r+this.props.closeTimeoutMS);o?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-r)):this.removePortal()}}},{key:"render",value:function(){if(!Oi.canUseDOM||!lr)return null;!this.node&&lr&&(this.node=f0("div"));var i=p0();return i(fc.default.createElement(c0.default,u0({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){rW.setElement(i)}}]),e}(yP.Component);rl.propTypes={isOpen:ie.default.bool.isRequired,style:ie.default.shape({content:ie.default.object,overlay:ie.default.object}),portalClassName:ie.default.string,bodyOpenClassName:ie.default.string,htmlOpenClassName:ie.default.string,className:ie.default.oneOfType([ie.default.string,ie.default.shape({base:ie.default.string.isRequired,afterOpen:ie.default.string.isRequired,beforeClose:ie.default.string.isRequired})]),overlayClassName:ie.default.oneOfType([ie.default.string,ie.default.shape({base:ie.default.string.isRequired,afterOpen:ie.default.string.isRequired,beforeClose:ie.default.string.isRequired})]),appElement:ie.default.oneOfType([ie.default.instanceOf(h0.default),ie.default.instanceOf(Oi.SafeHTMLCollection),ie.default.instanceOf(Oi.SafeNodeList),ie.default.arrayOf(ie.default.instanceOf(h0.default))]),onAfterOpen:ie.default.func,onRequestClose:ie.default.func,closeTimeoutMS:ie.default.number,ariaHideApp:ie.default.bool,shouldFocusAfterRender:ie.default.bool,shouldCloseOnOverlayClick:ie.default.bool,shouldReturnFocusAfterClose:ie.default.bool,preventScroll:ie.default.bool,parentSelector:ie.default.func,aria:ie.default.object,data:ie.default.object,role:ie.default.string,contentLabel:ie.default.string,shouldCloseOnEsc:ie.default.bool,overlayRef:ie.default.func,contentRef:ie.default.func,id:ie.default.string,overlayElement:ie.default.func,contentElement:ie.default.func};rl.defaultProps={isOpen:!1,portalClassName:uW,bodyOpenClassName:cW,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return fc.default.createElement("div",e,n)},contentElement:function(e,n){return fc.default.createElement("div",e,n)}};rl.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,sW.polyfill)(rl);Br.default=rl;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Br,i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}e.default=i.default,t.exports=e.default})(bp,bp.exports);var hW=bp.exports;const dW=Dp(hW),fW=({isOpen:t,onRequestClose:e})=>{const[n,i]=A.useState(""),[r,o]=A.useState(""),l=u=>{u.preventDefault(),lC.get("http://localhost:3001/test",{email:n,password:r}).then(h=>{console.log(h),h.data==="Success"&&navigate("/home")}).catch(h=>console.log(h))};return P.jsxs(dW,{isOpen:t,onRequestClose:e,contentLabel:"Login Modal",children:[P.jsx("h2",{children:"Login"}),P.jsxs("form",{children:[P.jsxs("label",{children:["Email:",P.jsx("input",{type:"email",name:"email",onChange:u=>i(u.target.value)})]}),P.jsxs("label",{children:["Password:",P.jsx("input",{type:"password",name:"password",onChange:u=>o(u.target.value)})]}),P.jsx("button",{type:"button",onClick:l,children:"Login"})]})]})},pW=()=>{const[t,e]=A.useState(!1),n=()=>{e(!0)},i=()=>{e(!1)};return P.jsxs("div",{children:[P.jsx("h1",{children:"Welcome to the Homepage"}),P.jsx("button",{onClick:n,children:"Login"}),P.jsx(fW,{isOpen:t,onRequestClose:i})]})};function pr(){return pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pr.apply(this,arguments)}function mW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mc(t,e)}function mc(t,e){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mc(t,e)}function _W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ap(t,e,n){return Ap=_W()?Reflect.construct.bind():function(i,r,o){var l=[null];l.push.apply(l,r);var u=new(Function.bind.apply(i,l));return o&&mc(u,o.prototype),u},Ap.apply(null,arguments)}function ni(t,e,n,i){e===void 0&&(e=""),i===void 0&&(i={});var r=document.createElement(t);return e&&(r.className=e),Object.keys(i).forEach(function(o){if(typeof i[o]=="function"){var l=o.indexOf("on")===0?o.substr(2).toLowerCase():o;r.addEventListener(l,i[o])}else o==="html"?r.innerHTML=i[o]:o==="text"?r.innerText=i[o]:r.setAttribute(o,i[o])}),n&&n.appendChild(r),r}function Do(t){t.preventDefault(),t.stopPropagation()}var fu=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function mr(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)||t.classList.add(n)})}function Nn(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)&&t.classList.remove(n)})}var _c,gc=13,Mp=40,wP=38,gW=[gc,27,Mp,wP,37,39],vW=function(){function t(n){var i=this,r=n.handleSubmit,o=n.searchLabel,l=n.classNames,u=l===void 0?{}:l;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=ni("div",fu("geosearch",u.container)),this.form=ni("form",["",u.form].join(" "),this.container,{autocomplete:"none",onClick:Do,onDblClick:Do,touchStart:Do,touchEnd:Do}),this.input=ni("input",["glass",u.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(h){return i.onKeyUp(h)},onKeyPress:function(h){return i.onKeyPress(h)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){i.input.focus(),i.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=r}var e=t.prototype;return e.onFocus=function(){mr(this.form,"active")},e.onBlur=function(){Nn(this.form,"active")},e.onSubmit=function(n){try{var i=this;return Do(n),Nn(r=i.container,"error"),mr(r,"pending"),Promise.resolve(i.handleSubmit({query:i.input.value})).then(function(){Nn(i.container,"pending")})}catch(o){return Promise.reject(o)}var r},e.onInput=function(){this.hasError&&(Nn(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(n){n.keyCode===27&&(Nn(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(n){n.keyCode===gc&&this.onSubmit(n)},e.setQuery=function(n){this.input.value=n},t}(),yW=function(){function t(n){var i=this,r=n.handleClick,o=n.classNames,l=o===void 0?{}:o,u=n.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(h){if(typeof i.handleClick=="function"){var f=h.target;if(f&&i.container.contains(f)&&f.hasAttribute("data-key")){var m=Number(f.getAttribute("data-key"));i.handleClick({result:i.results[m]})}}},this.handleClick=r,this.notFoundMessage=u?ni("div",fu(l.notfound),void 0,{html:u}):void 0,this.container=ni("div",fu("results",l.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=ni("div",fu(l.item))}var e=t.prototype;return e.render=function(n,i){var r=this;n===void 0&&(n=[]),this.clear(),n.forEach(function(o,l){var u=r.resultItem.cloneNode(!0);u.setAttribute("data-key",""+l),u.innerHTML=i({result:o}),r.container.appendChild(u)}),n.length>0?(mr(this.container.parentElement,"open"),mr(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),mr(this.container.parentElement,"open")),this.results=n},e.select=function(n){return Array.from(this.container.children).forEach(function(i,r){return r===n?mr(i,"active"):Nn(i,"active")}),this.selected=n,this.results[n]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);Nn(this.container.parentElement,"open"),Nn(this.container,"active")},t}(),Gd={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:K_&&nt.Icon?new nt.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},EP="Leaflet must be loaded before instantiating the GeoSearch control",wW={options:pr({},Gd),classNames:pr({},Gd.classNames),initialize:function(t){var e,n,i,r,o=this;if(!K_)throw new Error(EP);if(!t.provider)throw new Error("Provider is missing from options");this.options=pr({},Gd,t),this.classNames=pr({},this.classNames,t.classNames),this.markers=new nt.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new vW({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(l){return o.onSubmit(l)}}),this.button=ni("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(l){return o.onClick(l)}}),nt.DomEvent.disableClickPropagation(this.button),this.resetButton=ni("button",this.classNames.resetButton,this.searchElement.form,{text:"","aria-label":this.options.clearSearchLabel,onClick:function(){o.searchElement.input.value===""?o.close():o.clearResults(null,!0)}}),nt.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new yW({handleClick:function(l){var u=l.result;o.searchElement.input.value=u.label,o.onSubmit({query:u.label,data:u})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(l){return o.autoSearch(l)},(n=this.options.autoCompleteDelay)===void 0&&(n=250),i===void 0&&(i=!1),function(){var l=[].slice.call(arguments);r&&clearTimeout(r),r=setTimeout(function(){r=null,i||e.apply(void 0,l)},n),i&&!r&&e.apply(void 0,l)}),!0),this.searchElement.input.addEventListener("keydown",function(l){return o.selectResult(l)},!0),this.searchElement.input.addEventListener("keydown",function(l){return o.clearResults(l,!0)},!0)),this.searchElement.form.addEventListener("click",function(l){l.preventDefault()},!1)},onAdd:function(t){var e=this.options,n=e.showMarker,i=e.style;if(this.map=t,n&&this.markers.addTo(t),i==="bar"){var r=t.getContainer().querySelector(".leaflet-control-container");this.container=ni("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),r.appendChild(this.container)}return nt.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;mr(t.container,"active"),e.focus()},close:function(){Nn(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([gc,Mp,wP].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==gc){var e=this.resultList.count()-1;if(!(e<0)){var n=this.resultList.selected,i=t.keyCode===Mp?n+1:n-1,r=this.resultList.select(i<0?e:i>e?0:i);this.searchElement.input.value=r.label}}else{var o=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:o})}},clearResults:function(t,e){if(e===void 0&&(e=!1),!t||t.keyCode===27){var n=this.options,i=n.autoComplete;!e&&n.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),i&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(gW.indexOf(t.keyCode)>-1)return Promise.resolve();var n=t.target.value,i=e.options.provider,r=function(){if(n.length)return Promise.resolve(i.search({query:n})).then(function(o){o=o.slice(0,e.options.maxSuggestions),e.resultList.render(o,e.options.resultFormat)});e.resultList.clear()}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},onSubmit:function(t){try{var e=this;return e.resultList.clear(),Promise.resolve(e.options.provider.search(t)).then(function(n){n&&n.length>0&&e.showResult(n[0],t)})}catch(n){return Promise.reject(n)}},showResult:function(t,e){var n=this.options,i=n.autoClose,r=n.updateMap,o=this.markers.getLayers();o.length>=this.options.maxMarkers&&this.markers.removeLayer(o[0]);var l=this.addMarker(t,e);r&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:l}),i&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&Nn(t,"active"),this.clearResults()},addMarker:function(t,e){var n=this,i=this.options,r=i.marker,o=i.showPopup,l=i.popupFormat,u=new nt.Marker([t.y,t.x],r),h=t.label;return typeof l=="function"&&(h=l({query:e,result:t})),u.bindPopup(h),this.markers.addLayer(u),o&&u.openPopup(),r.draggable&&u.on("dragend",function(f){n.map.fireEvent("geosearch/marker/dragend",{location:u.getLatLng(),event:f})}),u},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,i=e.animateZoom,r=t.bounds?new nt.LatLngBounds(t.bounds):new nt.LatLng(t.y,t.x).toBounds(10),o=r.isValid()?r:this.markers.getBounds();!n&&r.isValid()&&!t.bounds||n||!r.isValid()?this.map.setView(o.getCenter(),this.getZoom(),{animate:i}):this.map.fitBounds(o,{animate:i})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function EW(){if(!K_)throw new Error(EP);var t=nt.Control.extend(wW);return Ap(t,[].slice.call(arguments))}(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(_c||(_c={}));var m0,SW=function(){function t(n){n===void 0&&(n={}),this.options=void 0,this.options=n}var e=t.prototype;return e.getParamString=function(n){n===void 0&&(n={});var i=pr({},this.options.params,n);return Object.keys(i).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(i[r])}).join("&")},e.getUrl=function(n,i){return n+"?"+this.getParamString(i)},e.search=function(n){try{var i=this,r=i.endpoint({query:n.query,type:_c.SEARCH});return Promise.resolve(fetch(r)).then(function(o){return Promise.resolve(o.json()).then(function(l){return i.parse({data:l})})})}catch(o){return Promise.reject(o)}},t}();(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(m0||(m0={}));var CW=function(t){function e(i){var r;i===void 0&&(i={}),(r=t.call(this,i)||this).searchUrl=void 0,r.reverseUrl=void 0;var o="https://nominatim.openstreetmap.org";return r.searchUrl=i.searchUrl||o+"/search",r.reverseUrl=i.reverseUrl||o+"/reverse",r}mW(e,t);var n=e.prototype;return n.endpoint=function(i){var r=i.query,o=i.type,l=typeof r=="string"?{q:r}:r;return l.format="json",this.getUrl(o===_c.REVERSE?this.reverseUrl:this.searchUrl,l)},n.parse=function(i){return(Array.isArray(i.data)?i.data:[i.data]).map(function(r){return{x:Number(r.lon),y:Number(r.lat),label:r.display_name,bounds:[[parseFloat(r.boundingbox[0]),parseFloat(r.boundingbox[2])],[parseFloat(r.boundingbox[1]),parseFloat(r.boundingbox[3])]],raw:r}})},e}(SW);let ql;const TW=new Uint8Array(16);function IW(){if(!ql&&(ql=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ql))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ql(TW)}const at=[];for(let t=0;t<256;++t)at.push((t+256).toString(16).slice(1));function PW(t,e=0){return at[t[e+0]]+at[t[e+1]]+at[t[e+2]]+at[t[e+3]]+"-"+at[t[e+4]]+at[t[e+5]]+"-"+at[t[e+6]]+at[t[e+7]]+"-"+at[t[e+8]]+at[t[e+9]]+"-"+at[t[e+10]]+at[t[e+11]]+at[t[e+12]]+at[t[e+13]]+at[t[e+14]]+at[t[e+15]]}const xW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_0={randomUUID:xW};function kW(t,e,n){if(_0.randomUUID&&!e&&!t)return _0.randomUUID();t=t||{};const i=t.random||(t.rng||IW)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return PW(i)}function bW(){const[t,e]=A.useState(1),n=Uc(),[i,r]=A.useState(),[o,l]=A.useState(),[u,h]=A.useState(),[f,m]=A.useState(),[_,v]=A.useState([]),[E,y]=A.useState(),[T,N]=A.useState(!1),[S,w]=A.useState(!1);A.useState();const[I,O]=A.useState(null),D=lI(tP,"spots/"+i);A.useEffect(()=>{Ur.onAuthStateChanged(Z=>{Z&&Z.emailVerified?(N(!0),w(!0),fe()):Z&&!Z.emailVerified?(N(!0),w(!1)):(N(!1),w(!1))})},[]);const j=()=>{e(t+1),document.getElementById("map2").style.height="0px"},W=Z=>{Z.preventDefault();var oe=["test"];function ye(){const ft=[];for(let G=0;G<I.length;G++){const Q=Sp(Pp,`images/${I[G].name+kW()}`),te=l2(Q,I[G]).then(R=>SI(Sp(Pp,R.metadata.fullPath))).then(R=>{oe[G]=R});ft.push(te)}Promise.all(ft).then(()=>{DF(D,{uploadedImgURLs:oe})}).catch(G=>{console.error("Error uploading images:",G)})}MF(D,{spotName:i,spotDescription:E,spotDescription:E,lat:o,long:u,spotAddress:f,uploadedImgURLs:[""]}).then(()=>{console.log("Spot added."),n("/")}),ye()};function V(Z){let oe=[];for(let ye=0;ye<Z.length;ye++)oe[ye]=URL.createObjectURL(Z[ye]);v(oe)}function fe(){const Z=L.map("map2").setView([43.747474670410156,-79.49417877197266],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap"}).addTo(Z);const oe=new nt.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]}),ye=new EW({provider:new CW,style:"bar",showMarker:!1,marker:{icon:oe,draggable:!1}});Z.addControl(ye);var ft={clickable:!0,icon:oe},G=L.marker(new L.LatLng(0,0),ft);G.addTo(Z),Z.on("click",function(te){var R=te.latlng,x=R.lat,H=R.lng,U=new L.LatLng(x,H);G.setLatLng(U),l(x),h(H),Q(x,H)});function Q(te,R){lC.get("https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+te+"&lon="+R).then(x=>{console.log(x.data);let H=x.data.address;m((H.house_number?H.house_number+" ":"")+H.road+", "+H.city+", "+H.state+", "+H.country)}).catch(x=>{console.log(x)})}Z.on("geosearch/showlocation",function(te){var R=te.location.y,x=te.location.x;l(R),h(x);var H=new L.LatLng(R,x);G.setLatLng(H),Q(R,x)})}return P.jsxs(A.Fragment,{children:[P.jsx(fh,{}),T==!0?P.jsx("div",{children:S==!0?P.jsx("div",{}):P.jsx("p",{className:"verText",children:"Please verify your email!"})}):P.jsx("p",{className:"verText",children:"Please login to submit!"}),P.jsxs("div",{className:"map-container",children:[S==!0&&t==1?P.jsxs("div",{children:[P.jsx("h2",{id:"topText",children:"Add Your Own Skatespot!"}),P.jsx("p",{id:"text2",children:"Enter an address using the search bar, then drop a pin at the approximate location."})]}):P.jsx("div",{}),P.jsx("div",{id:"map2"}),S==!0&&t==1?P.jsxs("div",{children:[P.jsx("br",{}),P.jsxs("div",{children:[o!=null?P.jsx("div",{children:P.jsxs("p",{className:"fade-in",children:["Your coordinates are ",o,", ",u]})}):P.jsx("div",{}),f!=null?P.jsxs("p",{className:"fade-in",children:["The address of this location is ",f]}):P.jsx("div",{}),f!=null&&o!=null?P.jsx("div",{className:"fade-in",children:P.jsx("button",{id:"logButt",onClick:j,className:"buttons",children:"Next!"})}):P.jsx("div",{})]})]}):P.jsx("div",{})]}),t==2?P.jsx("div",{className:"bigahcontainer",children:P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsxs("form",{onSubmit:W,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"name",children:P.jsx("strong",{children:"Name"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter Spot Name",autoComplete:"off",id:"name",accept:".png, .jpg, .jpeg, .webp, .mp4",onChange:Z=>r(Z.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"files",children:P.jsx("strong",{children:"Upload Images"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"file",placeholder:"Upload Images",autoComplete:"off",id:"image",multiple:!0,onChange:Z=>{O(Z.target.files),V(Z.target.files)}}),_.length>0?P.jsx("div",{className:"filePreviewContainer",children:_.map((Z,oe)=>P.jsx("img",{id:"fileImage",src:_[oe]},oe))}):P.jsx("div",{})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"spotDescription",children:P.jsx("strong",{children:"Description"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter a Description",autoComplete:"off",id:"spotDescription",onChange:Z=>y(Z.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Submit!"})]})]})})}):P.jsx("div",{})]})}function RW(){return P.jsx(uR,{children:P.jsxs(aR,{children:[P.jsx(ss,{exact:!0,path:"/",element:P.jsx(tj,{})}),P.jsx(ss,{exact:!0,path:"/register",element:P.jsx(Mz,{})}),P.jsx(ss,{exact:!0,path:"/login",element:P.jsx(Dz,{})}),P.jsx(ss,{exact:!0,path:"/test",element:P.jsx(pW,{})}),P.jsx(ss,{exact:!0,path:"/submit",element:P.jsx(bW,{})})]})})}Kd.createRoot(document.getElementById("root")).render(P.jsx(RW,{}));

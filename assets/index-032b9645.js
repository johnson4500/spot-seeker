function V0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var q0={exports:{}},Ac={},Z0={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),Rb=Symbol.for("react.portal"),Ob=Symbol.for("react.fragment"),Lb=Symbol.for("react.strict_mode"),Ab=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),Fb=Symbol.for("react.suspense"),Ub=Symbol.for("react.memo"),Bb=Symbol.for("react.lazy"),kv=Symbol.iterator;function zb(t){return t===null||typeof t!="object"?null:(t=kv&&t[kv]||t["@@iterator"],typeof t=="function"?t:null)}var G0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K0=Object.assign,Y0={};function so(t,e,n){this.props=t,this.context=e,this.refs=Y0,this.updater=n||G0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q0(){}Q0.prototype=so.prototype;function nm(t,e,n){this.props=t,this.context=e,this.refs=Y0,this.updater=n||G0}var im=nm.prototype=new Q0;im.constructor=nm;K0(im,so.prototype);im.isPureReactComponent=!0;var Rv=Array.isArray,J0=Object.prototype.hasOwnProperty,rm={current:null},X0={key:!0,ref:!0,__self:!0,__source:!0};function eE(t,e,n){var i,r={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)J0.call(e,i)&&!X0.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:tl,type:t,key:o,ref:l,props:r,_owner:rm.current}}function jb(t,e){return{$$typeof:tl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===tl}function Hb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ov=/\/+/g;function cd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hb(""+t.key):e.toString(36)}function lu(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case tl:case Rb:l=!0}}if(l)return l=t,r=r(l),t=i===""?"."+cd(l,0):i,Rv(r)?(n="",t!=null&&(n=t.replace(Ov,"$&/")+"/"),lu(r,e,n,"",function(f){return f})):r!=null&&(sm(r)&&(r=jb(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Ov,"$&/")+"/")+t)),e.push(r)),1;if(l=0,i=i===""?".":i+":",Rv(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+cd(o,u);l+=lu(o,e,n,h,r)}else if(h=zb(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+cd(o,u++),l+=lu(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ul(t,e,n){if(t==null)return t;var i=[],r=0;return lu(t,i,"","",function(o){return e.call(n,o,r++)}),i}function Wb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rt={current:null},uu={transition:null},$b={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:uu,ReactCurrentOwner:rm};pe.Children={map:Ul,forEach:function(t,e,n){Ul(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ul(t,function(){e++}),e},toArray:function(t){return Ul(t,function(e){return e})||[]},only:function(t){if(!sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=so;pe.Fragment=Ob;pe.Profiler=Ab;pe.PureComponent=nm;pe.StrictMode=Lb;pe.Suspense=Fb;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$b;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=K0({},t.props),r=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=rm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)J0.call(e,h)&&!X0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:tl,type:t.type,key:r,ref:o,props:i,_owner:l}};pe.createContext=function(t){return t={$$typeof:Mb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nb,_context:t},t.Consumer=t};pe.createElement=eE;pe.createFactory=function(t){var e=eE.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:Db,render:t}};pe.isValidElement=sm;pe.lazy=function(t){return{$$typeof:Bb,_payload:{_status:-1,_result:t},_init:Wb}};pe.memo=function(t,e){return{$$typeof:Ub,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=uu.transition;uu.transition={};try{t()}finally{uu.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return Rt.current.useCallback(t,e)};pe.useContext=function(t){return Rt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Rt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Rt.current.useEffect(t,e)};pe.useId=function(){return Rt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Rt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Rt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Rt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Rt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Rt.current.useReducer(t,e,n)};pe.useRef=function(t){return Rt.current.useRef(t)};pe.useState=function(t){return Rt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Rt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Rt.current.useTransition()};pe.version="18.2.0";Z0.exports=pe;var N=Z0.exports;const si=Gr(N),Vb=V0({__proto__:null,default:si},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb=N,Zb=Symbol.for("react.element"),Gb=Symbol.for("react.fragment"),Kb=Object.prototype.hasOwnProperty,Yb=qb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qb={key:!0,ref:!0,__self:!0,__source:!0};function tE(t,e,n){var i,r={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)Kb.call(e,i)&&!Qb.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Zb,type:t,key:o,ref:l,props:r,_owner:Yb.current}}Ac.Fragment=Gb;Ac.jsx=tE;Ac.jsxs=tE;q0.exports=Ac;var P=q0.exports,df={},nE={exports:{}},Gt={},iE={exports:{}},rE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,$){var F=x.length;x.push($);e:for(;0<F;){var K=F-1>>>1,le=x[K];if(0<r(le,$))x[K]=$,x[F]=le,F=K;else break e}}function n(x){return x.length===0?null:x[0]}function i(x){if(x.length===0)return null;var $=x[0],F=x.pop();if(F!==$){x[0]=F;e:for(var K=0,le=x.length,Pe=le>>>1;K<Pe;){var ve=2*(K+1)-1,me=x[ve],ie=ve+1,gt=x[ie];if(0>r(me,F))ie<le&&0>r(gt,me)?(x[K]=gt,x[ie]=F,K=ie):(x[K]=me,x[ve]=F,K=ve);else if(ie<le&&0>r(gt,F))x[K]=gt,x[ie]=F,K=ie;else break e}}return $}function r(x,$){var F=x.sortIndex-$.sortIndex;return F!==0?F:x.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,_=null,g=3,y=!1,w=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(x){for(var $=n(f);$!==null;){if($.callback===null)i(f);else if($.startTime<=x)i(f),$.sortIndex=$.expirationTime,e(h,$);else break;$=n(f)}}function O(x){if(C=!1,I(x),!w)if(n(h)!==null)w=!0,ne(B);else{var $=n(f);$!==null&&R(O,$.startTime-x)}}function B(x,$){w=!1,C&&(C=!1,T(z),z=-1),y=!0;var F=g;try{for(I($),_=n(h);_!==null&&(!(_.expirationTime>$)||x&&!oe());){var K=_.callback;if(typeof K=="function"){_.callback=null,g=_.priorityLevel;var le=K(_.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?_.callback=le:_===n(h)&&i(h),I($)}else i(h);_=n(h)}if(_!==null)var Pe=!0;else{var ve=n(f);ve!==null&&R(O,ve.startTime-$),Pe=!1}return Pe}finally{_=null,g=F,y=!1}}var H=!1,V=null,z=-1,te=5,W=-1;function oe(){return!(t.unstable_now()-W<te)}function we(){if(V!==null){var x=t.unstable_now();W=x;var $=!0;try{$=V(!0,x)}finally{$?_t():(H=!1,V=null)}}else H=!1}var _t;if(typeof E=="function")_t=function(){E(we)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Q=G.port2;G.port1.onmessage=we,_t=function(){Q.postMessage(null)}}else _t=function(){A(we,0)};function ne(x){V=x,H||(H=!0,_t())}function R(x,$){z=A(function(){x(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,ne(B))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(x){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var F=g;g=$;try{return x()}finally{g=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,$){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var F=g;g=x;try{return $()}finally{g=F}},t.unstable_scheduleCallback=function(x,$,F){var K=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,x){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=F+le,x={id:m++,callback:$,priorityLevel:x,startTime:F,expirationTime:le,sortIndex:-1},F>K?(x.sortIndex=F,e(f,x),n(h)===null&&x===n(f)&&(C?(T(z),z=-1):C=!0,R(O,F-K))):(x.sortIndex=le,e(h,x),w||y||(w=!0,ne(B))),x},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(x){var $=g;return function(){var F=g;g=$;try{return x.apply(this,arguments)}finally{g=F}}}})(rE);iE.exports=rE;var Jb=iE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=N,Zt=Jb;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oE=new Set,wa={};function Kr(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(wa[t]=e,t=0;t<e.length;t++)oE.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ff=Object.prototype.hasOwnProperty,Xb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lv={},Av={};function ek(t){return ff.call(Av,t)?!0:ff.call(Lv,t)?!1:Xb.test(t)?Av[t]=!0:(Lv[t]=!0,!1)}function tk(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nk(t,e,n,i){if(e===null||typeof e>"u"||tk(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,i,r,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var om=/[\-:]([a-z])/g;function am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(om,am);pt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(om,am);pt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(om,am);pt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function lm(t,e,n,i){var r=pt.hasOwnProperty(e)?pt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nk(e,n,r,i)&&(n=null),i||r===null?ek(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var _i=sE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bl=Symbol.for("react.element"),_s=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),pf=Symbol.for("react.profiler"),aE=Symbol.for("react.provider"),lE=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),_f=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),uE=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,hd;function Yo(t){if(hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hd=e&&e[1]||""}return`
`+hd+t}var dd=!1;function fd(t,e){if(!t||dd)return"";dd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),l=r.length-1,u=o.length-1;1<=l&&0<=u&&r[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==o[u]){var h=`
`+r[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=u);break}}}finally{dd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yo(t):""}function ik(t){switch(t.tag){case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 2:case 15:return t=fd(t.type,!1),t;case 11:return t=fd(t.type.render,!1),t;case 1:return t=fd(t.type,!0),t;default:return""}}function gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case _s:return"Portal";case pf:return"Profiler";case um:return"StrictMode";case mf:return"Suspense";case _f:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lE:return(t.displayName||"Context")+".Consumer";case aE:return(t._context.displayName||"Context")+".Provider";case cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hm:return e=t.displayName||null,e!==null?e:gf(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return gf(t(e))}catch{}}return null}function rk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gf(e);case 8:return e===um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sk(t){var e=cE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zl(t){t._valueTracker||(t._valueTracker=sk(t))}function hE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=cE(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vf(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mv(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dE(t,e){e=e.checked,e!=null&&lm(t,"checked",e,!1)}function yf(t,e){dE(t,e);var n=Ji(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&wf(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wf(t,e,n){(e!=="number"||ku(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function Os(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ef(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Qo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function fE(t,e){var n=Ji(e.value),i=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Uv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jl,mE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ok=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(t){ok.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),na[e]=na[t]})});function _E(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||na.hasOwnProperty(t)&&na[t]?(""+e).trim():e+"px"}function gE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=_E(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var ak=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(t,e){if(e){if(ak[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Cf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=null;function dm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pf=null,Ls=null,As=null;function Bv(t){if(t=rl(t)){if(typeof Pf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Uc(e),Pf(t.stateNode,t.type,e))}}function vE(t){Ls?As?As.push(t):As=[t]:Ls=t}function yE(){if(Ls){var t=Ls,e=As;if(As=Ls=null,Bv(t),e)for(t=0;t<e.length;t++)Bv(e[t])}}function wE(t,e){return t(e)}function EE(){}var pd=!1;function TE(t,e,n){if(pd)return t(e,n);pd=!0;try{return wE(t,e,n)}finally{pd=!1,(Ls!==null||As!==null)&&(EE(),yE())}}function Ta(t,e){var n=t.stateNode;if(n===null)return null;var i=Uc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var xf=!1;if(ci)try{var No={};Object.defineProperty(No,"passive",{get:function(){xf=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{xf=!1}function lk(t,e,n,i,r,o,l,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var ia=!1,Ru=null,Ou=!1,bf=null,uk={onError:function(t){ia=!0,Ru=t}};function ck(t,e,n,i,r,o,l,u,h){ia=!1,Ru=null,lk.apply(uk,arguments)}function hk(t,e,n,i,r,o,l,u,h){if(ck.apply(this,arguments),ia){if(ia){var f=Ru;ia=!1,Ru=null}else throw Error(U(198));Ou||(Ou=!0,bf=f)}}function Yr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zv(t){if(Yr(t)!==t)throw Error(U(188))}function dk(t){var e=t.alternate;if(!e){if(e=Yr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return zv(r),t;if(o===i)return zv(r),e;o=o.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=o;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,i=o;break}if(u===i){l=!0,i=r,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,i=r;break}if(u===i){l=!0,i=o,n=r;break}u=u.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function CE(t){return t=dk(t),t!==null?IE(t):null}function IE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IE(t);if(e!==null)return e;t=t.sibling}return null}var PE=Zt.unstable_scheduleCallback,jv=Zt.unstable_cancelCallback,fk=Zt.unstable_shouldYield,pk=Zt.unstable_requestPaint,Ze=Zt.unstable_now,mk=Zt.unstable_getCurrentPriorityLevel,fm=Zt.unstable_ImmediatePriority,xE=Zt.unstable_UserBlockingPriority,Lu=Zt.unstable_NormalPriority,_k=Zt.unstable_LowPriority,bE=Zt.unstable_IdlePriority,Nc=null,jn=null;function gk(t){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Nc,t,void 0,(t.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:wk,vk=Math.log,yk=Math.LN2;function wk(t){return t>>>=0,t===0?32:31-(vk(t)/yk|0)|0}var Hl=64,Wl=4194304;function Jo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Au(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?i=Jo(u):(o&=l,o!==0&&(i=Jo(o)))}else l=n&~r,l!==0?i=Jo(l):o!==0&&(i=Jo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-wn(e),r=1<<n,i|=t[n],e&=~r;return i}function Ek(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tk(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-wn(o),u=1<<l,h=r[l];h===-1?(!(u&n)||u&i)&&(r[l]=Ek(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kE(){var t=Hl;return Hl<<=1,!(Hl&4194240)&&(Hl=64),t}function md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wn(e),t[e]=n}function Sk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-wn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function pm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-wn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Se=0;function RE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OE,mm,LE,AE,NE,Rf=!1,$l=[],zi=null,ji=null,Hi=null,Sa=new Map,Ca=new Map,bi=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hv(t,e){switch(t){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function Mo(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=rl(e),e!==null&&mm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Ik(t,e,n,i,r){switch(e){case"focusin":return zi=Mo(zi,t,e,n,i,r),!0;case"dragenter":return ji=Mo(ji,t,e,n,i,r),!0;case"mouseover":return Hi=Mo(Hi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Sa.set(o,Mo(Sa.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ca.set(o,Mo(Ca.get(o)||null,t,e,n,i,r)),!0}return!1}function ME(t){var e=_r(t.target);if(e!==null){var n=Yr(e);if(n!==null){if(e=n.tag,e===13){if(e=SE(n),e!==null){t.blockedOn=e,NE(t.priority,function(){LE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Of(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);If=i,n.target.dispatchEvent(i),If=null}else return e=rl(n),e!==null&&mm(e),t.blockedOn=n,!1;e.shift()}return!0}function Wv(t,e,n){cu(t)&&n.delete(e)}function Pk(){Rf=!1,zi!==null&&cu(zi)&&(zi=null),ji!==null&&cu(ji)&&(ji=null),Hi!==null&&cu(Hi)&&(Hi=null),Sa.forEach(Wv),Ca.forEach(Wv)}function Do(t,e){t.blockedOn===e&&(t.blockedOn=null,Rf||(Rf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Pk)))}function Ia(t){function e(r){return Do(r,t)}if(0<$l.length){Do($l[0],t);for(var n=1;n<$l.length;n++){var i=$l[n];i.blockedOn===t&&(i.blockedOn=null)}}for(zi!==null&&Do(zi,t),ji!==null&&Do(ji,t),Hi!==null&&Do(Hi,t),Sa.forEach(e),Ca.forEach(e),n=0;n<bi.length;n++)i=bi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)ME(n),n.blockedOn===null&&bi.shift()}var Ns=_i.ReactCurrentBatchConfig,Nu=!0;function xk(t,e,n,i){var r=Se,o=Ns.transition;Ns.transition=null;try{Se=1,_m(t,e,n,i)}finally{Se=r,Ns.transition=o}}function bk(t,e,n,i){var r=Se,o=Ns.transition;Ns.transition=null;try{Se=4,_m(t,e,n,i)}finally{Se=r,Ns.transition=o}}function _m(t,e,n,i){if(Nu){var r=Of(t,e,n,i);if(r===null)Id(t,e,i,Mu,n),Hv(t,i);else if(Ik(r,t,e,n,i))i.stopPropagation();else if(Hv(t,i),e&4&&-1<Ck.indexOf(t)){for(;r!==null;){var o=rl(r);if(o!==null&&OE(o),o=Of(t,e,n,i),o===null&&Id(t,e,i,Mu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Id(t,e,i,null,n)}}var Mu=null;function Of(t,e,n,i){if(Mu=null,t=dm(i),t=_r(t),t!==null)if(e=Yr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mu=t,null}function DE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mk()){case fm:return 1;case xE:return 4;case Lu:case _k:return 16;case bE:return 536870912;default:return 16}default:return 16}}var Mi=null,gm=null,hu=null;function FE(){if(hu)return hu;var t,e=gm,n=e.length,i,r="value"in Mi?Mi.value:Mi.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===r[o-i];i++);return hu=r.slice(t,1<i?1-i:void 0)}function du(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vl(){return!0}function $v(){return!1}function Kt(t){function e(n,i,r,o,l){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vl:$v,this.isPropagationStopped=$v,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vm=Kt(oo),il=Be({},oo,{view:0,detail:0}),kk=Kt(il),_d,gd,Fo,Mc=Be({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ym,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(_d=t.screenX-Fo.screenX,gd=t.screenY-Fo.screenY):gd=_d=0,Fo=t),_d)},movementY:function(t){return"movementY"in t?t.movementY:gd}}),Vv=Kt(Mc),Rk=Be({},Mc,{dataTransfer:0}),Ok=Kt(Rk),Lk=Be({},il,{relatedTarget:0}),vd=Kt(Lk),Ak=Be({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=Kt(Ak),Mk=Be({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dk=Kt(Mk),Fk=Be({},oo,{data:0}),qv=Kt(Fk),Uk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zk[t])?!!e[t]:!1}function ym(){return jk}var Hk=Be({},il,{key:function(t){if(t.key){var e=Uk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=du(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ym,charCode:function(t){return t.type==="keypress"?du(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?du(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wk=Kt(Hk),$k=Be({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zv=Kt($k),Vk=Be({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ym}),qk=Kt(Vk),Zk=Be({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=Kt(Zk),Kk=Be({},Mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yk=Kt(Kk),Qk=[9,13,27,32],wm=ci&&"CompositionEvent"in window,ra=null;ci&&"documentMode"in document&&(ra=document.documentMode);var Jk=ci&&"TextEvent"in window&&!ra,UE=ci&&(!wm||ra&&8<ra&&11>=ra),Gv=String.fromCharCode(32),Kv=!1;function BE(t,e){switch(t){case"keyup":return Qk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Xk(t,e){switch(t){case"compositionend":return zE(e);case"keypress":return e.which!==32?null:(Kv=!0,Gv);case"textInput":return t=e.data,t===Gv&&Kv?null:t;default:return null}}function e1(t,e){if(vs)return t==="compositionend"||!wm&&BE(t,e)?(t=FE(),hu=gm=Mi=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UE&&e.locale!=="ko"?null:e.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!t1[t.type]:e==="textarea"}function jE(t,e,n,i){vE(i),e=Du(e,"onChange"),0<e.length&&(n=new vm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var sa=null,Pa=null;function n1(t){JE(t,0)}function Dc(t){var e=Es(t);if(hE(e))return t}function i1(t,e){if(t==="change")return e}var HE=!1;if(ci){var yd;if(ci){var wd="oninput"in document;if(!wd){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),wd=typeof Qv.oninput=="function"}yd=wd}else yd=!1;HE=yd&&(!document.documentMode||9<document.documentMode)}function Jv(){sa&&(sa.detachEvent("onpropertychange",WE),Pa=sa=null)}function WE(t){if(t.propertyName==="value"&&Dc(Pa)){var e=[];jE(e,Pa,t,dm(t)),TE(n1,e)}}function r1(t,e,n){t==="focusin"?(Jv(),sa=e,Pa=n,sa.attachEvent("onpropertychange",WE)):t==="focusout"&&Jv()}function s1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dc(Pa)}function o1(t,e){if(t==="click")return Dc(e)}function a1(t,e){if(t==="input"||t==="change")return Dc(e)}function l1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:l1;function xa(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ff.call(e,r)||!Cn(t[r],e[r]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,e){var n=Xv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xv(n)}}function $E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VE(){for(var t=window,e=ku();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ku(t.document)}return e}function Em(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function u1(t){var e=VE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$E(n.ownerDocument.documentElement,n)){if(i!==null&&Em(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=ey(n,o);var l=ey(n,i);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c1=ci&&"documentMode"in document&&11>=document.documentMode,ys=null,Lf=null,oa=null,Af=!1;function ty(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Af||ys==null||ys!==ku(i)||(i=ys,"selectionStart"in i&&Em(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),oa&&xa(oa,i)||(oa=i,i=Du(Lf,"onSelect"),0<i.length&&(e=new vm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ys)))}function ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionend:ql("Transition","TransitionEnd")},Ed={},qE={};ci&&(qE=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Fc(t){if(Ed[t])return Ed[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qE)return Ed[t]=e[n];return t}var ZE=Fc("animationend"),GE=Fc("animationiteration"),KE=Fc("animationstart"),YE=Fc("transitionend"),QE=new Map,ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){QE.set(t,e),Kr(e,[t])}for(var Td=0;Td<ny.length;Td++){var Sd=ny[Td],h1=Sd.toLowerCase(),d1=Sd[0].toUpperCase()+Sd.slice(1);nr(h1,"on"+d1)}nr(ZE,"onAnimationEnd");nr(GE,"onAnimationIteration");nr(KE,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(YE,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function iy(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,hk(i,e,void 0,t),t.currentTarget=null}function JE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var u=i[l],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;iy(r,u,f),o=h}else for(l=0;l<i.length;l++){if(u=i[l],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;iy(r,u,f),o=h}}}if(Ou)throw t=bf,Ou=!1,bf=null,t}function Oe(t,e){var n=e[Uf];n===void 0&&(n=e[Uf]=new Set);var i=t+"__bubble";n.has(i)||(XE(e,t,2,!1),n.add(i))}function Cd(t,e,n){var i=0;e&&(i|=4),XE(n,t,i,e)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function ba(t){if(!t[Zl]){t[Zl]=!0,oE.forEach(function(n){n!=="selectionchange"&&(f1.has(n)||Cd(n,!1,t),Cd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zl]||(e[Zl]=!0,Cd("selectionchange",!1,e))}}function XE(t,e,n,i){switch(DE(e)){case 1:var r=xk;break;case 4:r=bk;break;default:r=_m}n=r.bind(null,e,n,t),r=void 0,!xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Id(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;l=l.return}for(;u!==null;){if(l=_r(u),l===null)return;if(h=l.tag,h===5||h===6){i=o=l;continue e}u=u.parentNode}}i=i.return}TE(function(){var f=o,m=dm(n),_=[];e:{var g=QE.get(t);if(g!==void 0){var y=vm,w=t;switch(t){case"keypress":if(du(n)===0)break e;case"keydown":case"keyup":y=Wk;break;case"focusin":w="focus",y=vd;break;case"focusout":w="blur",y=vd;break;case"beforeblur":case"afterblur":y=vd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ok;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=qk;break;case ZE:case GE:case KE:y=Nk;break;case YE:y=Gk;break;case"scroll":y=kk;break;case"wheel":y=Yk;break;case"copy":case"cut":case"paste":y=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Zv}var C=(e&4)!==0,A=!C&&t==="scroll",T=C?g!==null?g+"Capture":null:g;C=[];for(var E=f,I;E!==null;){I=E;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,T!==null&&(O=Ta(E,T),O!=null&&C.push(ka(E,O,I)))),A)break;E=E.return}0<C.length&&(g=new y(g,w,null,n,m),_.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==If&&(w=n.relatedTarget||n.fromElement)&&(_r(w)||w[hi]))break e;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=f,w=w?_r(w):null,w!==null&&(A=Yr(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=f),y!==w)){if(C=Vv,O="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(C=Zv,O="onPointerLeave",T="onPointerEnter",E="pointer"),A=y==null?g:Es(y),I=w==null?g:Es(w),g=new C(O,E+"leave",y,n,m),g.target=A,g.relatedTarget=I,O=null,_r(m)===f&&(C=new C(T,E+"enter",w,n,m),C.target=I,C.relatedTarget=A,O=C),A=O,y&&w)t:{for(C=y,T=w,E=0,I=C;I;I=ds(I))E++;for(I=0,O=T;O;O=ds(O))I++;for(;0<E-I;)C=ds(C),E--;for(;0<I-E;)T=ds(T),I--;for(;E--;){if(C===T||T!==null&&C===T.alternate)break t;C=ds(C),T=ds(T)}C=null}else C=null;y!==null&&ry(_,g,y,C,!1),w!==null&&A!==null&&ry(_,A,w,C,!0)}}e:{if(g=f?Es(f):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var B=i1;else if(Yv(g))if(HE)B=a1;else{B=s1;var H=r1}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=o1);if(B&&(B=B(t,f))){jE(_,B,n,m);break e}H&&H(t,g,f),t==="focusout"&&(H=g._wrapperState)&&H.controlled&&g.type==="number"&&wf(g,"number",g.value)}switch(H=f?Es(f):window,t){case"focusin":(Yv(H)||H.contentEditable==="true")&&(ys=H,Lf=f,oa=null);break;case"focusout":oa=Lf=ys=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,ty(_,n,m);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":ty(_,n,m)}var V;if(wm)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else vs?BE(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(UE&&n.locale!=="ko"&&(vs||z!=="onCompositionStart"?z==="onCompositionEnd"&&vs&&(V=FE()):(Mi=m,gm="value"in Mi?Mi.value:Mi.textContent,vs=!0)),H=Du(f,z),0<H.length&&(z=new qv(z,t,null,n,m),_.push({event:z,listeners:H}),V?z.data=V:(V=zE(n),V!==null&&(z.data=V)))),(V=Jk?Xk(t,n):e1(t,n))&&(f=Du(f,"onBeforeInput"),0<f.length&&(m=new qv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=V))}JE(_,e)})}function ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Du(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Ta(t,n),o!=null&&i.unshift(ka(t,o,r)),o=Ta(t,e),o!=null&&i.push(ka(t,o,r))),t=t.return}return i}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ry(t,e,n,i,r){for(var o=e._reactName,l=[];n!==null&&n!==i;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,r?(h=Ta(n,o),h!=null&&l.unshift(ka(n,h,u))):r||(h=Ta(n,o),h!=null&&l.push(ka(n,h,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var p1=/\r\n?/g,m1=/\u0000|\uFFFD/g;function sy(t){return(typeof t=="string"?t:""+t).replace(p1,`
`).replace(m1,"")}function Gl(t,e,n){if(e=sy(e),sy(t)!==e&&n)throw Error(U(425))}function Fu(){}var Nf=null,Mf=null;function Df(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,_1=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(t){return oy.resolve(null).then(t).catch(v1)}:Ff;function v1(t){setTimeout(function(){throw t})}function Pd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ia(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ia(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ay(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Fn="__reactFiber$"+ao,Ra="__reactProps$"+ao,hi="__reactContainer$"+ao,Uf="__reactEvents$"+ao,y1="__reactListeners$"+ao,w1="__reactHandles$"+ao;function _r(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ay(t);t!==null;){if(n=t[Fn])return n;t=ay(t)}return e}t=n,n=t.parentNode}return null}function rl(t){return t=t[Fn]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Uc(t){return t[Ra]||null}var Bf=[],Ts=-1;function ir(t){return{current:t}}function Le(t){0>Ts||(t.current=Bf[Ts],Bf[Ts]=null,Ts--)}function Re(t,e){Ts++,Bf[Ts]=t.current,t.current=e}var Xi={},Tt=ir(Xi),Ut=ir(!1),Or=Xi;function Vs(t,e){var n=t.type.contextTypes;if(!n)return Xi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bt(t){return t=t.childContextTypes,t!=null}function Uu(){Le(Ut),Le(Tt)}function ly(t,e,n){if(Tt.current!==Xi)throw Error(U(168));Re(Tt,e),Re(Ut,n)}function eT(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,rk(t)||"Unknown",r));return Be({},n,i)}function Bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,Or=Tt.current,Re(Tt,t),Re(Ut,Ut.current),!0}function uy(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=eT(t,e,Or),i.__reactInternalMemoizedMergedChildContext=t,Le(Ut),Le(Tt),Re(Tt,t)):Le(Ut),Re(Ut,n)}var Xn=null,Bc=!1,xd=!1;function tT(t){Xn===null?Xn=[t]:Xn.push(t)}function E1(t){Bc=!0,tT(t)}function rr(){if(!xd&&Xn!==null){xd=!0;var t=0,e=Se;try{var n=Xn;for(Se=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Xn=null,Bc=!1}catch(r){throw Xn!==null&&(Xn=Xn.slice(t+1)),PE(fm,rr),r}finally{Se=e,xd=!1}}return null}var Ss=[],Cs=0,zu=null,ju=0,en=[],tn=0,Lr=null,ei=1,ti="";function hr(t,e){Ss[Cs++]=ju,Ss[Cs++]=zu,zu=t,ju=e}function nT(t,e,n){en[tn++]=ei,en[tn++]=ti,en[tn++]=Lr,Lr=t;var i=ei;t=ti;var r=32-wn(i)-1;i&=~(1<<r),n+=1;var o=32-wn(e)+r;if(30<o){var l=r-r%5;o=(i&(1<<l)-1).toString(32),i>>=l,r-=l,ei=1<<32-wn(e)+r|n<<r|i,ti=o+t}else ei=1<<o|n<<r|i,ti=t}function Tm(t){t.return!==null&&(hr(t,1),nT(t,1,0))}function Sm(t){for(;t===zu;)zu=Ss[--Cs],Ss[Cs]=null,ju=Ss[--Cs],Ss[Cs]=null;for(;t===Lr;)Lr=en[--tn],en[tn]=null,ti=en[--tn],en[tn]=null,ei=en[--tn],en[tn]=null}var Vt=null,$t=null,Me=!1,_n=null;function iT(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,$t=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lr!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,$t=null,!0):!1;default:return!1}}function zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jf(t){if(Me){var e=$t;if(e){var n=e;if(!cy(t,e)){if(zf(t))throw Error(U(418));e=Wi(n.nextSibling);var i=Vt;e&&cy(t,e)?iT(i,n):(t.flags=t.flags&-4097|2,Me=!1,Vt=t)}}else{if(zf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Me=!1,Vt=t}}}function hy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Kl(t){if(t!==Vt)return!1;if(!Me)return hy(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Df(t.type,t.memoizedProps)),e&&(e=$t)){if(zf(t))throw rT(),Error(U(418));for(;e;)iT(t,e),e=Wi(e.nextSibling)}if(hy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Vt?Wi(t.stateNode.nextSibling):null;return!0}function rT(){for(var t=$t;t;)t=Wi(t.nextSibling)}function qs(){$t=Vt=null,Me=!1}function Cm(t){_n===null?_n=[t]:_n.push(t)}var T1=_i.ReactCurrentBatchConfig;function fn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hu=ir(null),Wu=null,Is=null,Im=null;function Pm(){Im=Is=Wu=null}function xm(t){var e=Hu.current;Le(Hu),t._currentValue=e}function Hf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ms(t,e){Wu=t,Im=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Im!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(Wu===null)throw Error(U(308));Is=t,Wu.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var gr=null;function bm(t){gr===null?gr=[t]:gr.push(t)}function sT(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,bm(e)):(n.next=r.next,r.next=n),e.interleaved=n,di(t,i)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xi=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,di(t,n)}return r=i.interleaved,r===null?(e.next=e,bm(i)):(e.next=r.next,r.next=e),i.interleaved=e,di(t,n)}function fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,pm(t,n)}}function dy(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $u(t,e,n,i){var r=t.updateQueue;xi=!1;var o=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,f=h.next;h.next=null,l===null?o=f:l.next=f,l=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;l=0,m=f=h=null,u=o;do{var g=u.lane,y=u.eventTime;if((i&g)===g){m!==null&&(m=m.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,C=u;switch(g=e,y=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){_=w.call(y,_,g);break e}_=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,g=typeof w=="function"?w.call(y,_,g):w,g==null)break e;_=Be({},_,g);break e;case 2:xi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[u]:g.push(u))}else y={eventTime:y,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=y,h=_):m=m.next=y,l|=g;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;g=u,u=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Nr|=l,t.lanes=l,t.memoizedState=_}}function fy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var aT=new sE.Component().refs;function Wf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zc={isMounted:function(t){return(t=t._reactInternals)?Yr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=bt(),r=qi(t),o=oi(i,r);o.payload=e,n!=null&&(o.callback=n),e=$i(t,o,r),e!==null&&(En(e,t,r,i),fu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=bt(),r=qi(t),o=oi(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$i(t,o,r),e!==null&&(En(e,t,r,i),fu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),i=qi(t),r=oi(n,i);r.tag=2,e!=null&&(r.callback=e),e=$i(t,r,i),e!==null&&(En(e,t,i,n),fu(e,t,i))}};function py(t,e,n,i,r,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!xa(n,i)||!xa(r,o):!0}function lT(t,e,n){var i=!1,r=Xi,o=e.contextType;return typeof o=="object"&&o!==null?o=an(o):(r=Bt(e)?Or:Tt.current,i=e.contextTypes,o=(i=i!=null)?Vs(t,r):Xi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function my(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&zc.enqueueReplaceState(e,e.state,null)}function $f(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=aT,km(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=an(o):(o=Bt(e)?Or:Tt.current,r.context=Vs(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Wf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&zc.enqueueReplaceState(r,r.state,null),$u(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=r.refs;u===aT&&(u=r.refs={}),l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Yl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _y(t){var e=t._init;return e(t._payload)}function uT(t){function e(T,E){if(t){var I=T.deletions;I===null?(T.deletions=[E],T.flags|=16):I.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function i(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function r(T,E){return T=Zi(T,E),T.index=0,T.sibling=null,T}function o(T,E,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<E?(T.flags|=2,E):I):(T.flags|=2,E)):(T.flags|=1048576,E)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,E,I,O){return E===null||E.tag!==6?(E=Nd(I,T.mode,O),E.return=T,E):(E=r(E,I),E.return=T,E)}function h(T,E,I,O){var B=I.type;return B===gs?m(T,E,I.props.children,O,I.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Pi&&_y(B)===E.type)?(O=r(E,I.props),O.ref=Uo(T,E,I),O.return=T,O):(O=yu(I.type,I.key,I.props,null,T.mode,O),O.ref=Uo(T,E,I),O.return=T,O)}function f(T,E,I,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Md(I,T.mode,O),E.return=T,E):(E=r(E,I.children||[]),E.return=T,E)}function m(T,E,I,O,B){return E===null||E.tag!==7?(E=Cr(I,T.mode,O,B),E.return=T,E):(E=r(E,I),E.return=T,E)}function _(T,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Nd(""+E,T.mode,I),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Bl:return I=yu(E.type,E.key,E.props,null,T.mode,I),I.ref=Uo(T,null,E),I.return=T,I;case _s:return E=Md(E,T.mode,I),E.return=T,E;case Pi:var O=E._init;return _(T,O(E._payload),I)}if(Qo(E)||Ao(E))return E=Cr(E,T.mode,I,null),E.return=T,E;Yl(T,E)}return null}function g(T,E,I,O){var B=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return B!==null?null:u(T,E,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Bl:return I.key===B?h(T,E,I,O):null;case _s:return I.key===B?f(T,E,I,O):null;case Pi:return B=I._init,g(T,E,B(I._payload),O)}if(Qo(I)||Ao(I))return B!==null?null:m(T,E,I,O,null);Yl(T,I)}return null}function y(T,E,I,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return T=T.get(I)||null,u(E,T,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Bl:return T=T.get(O.key===null?I:O.key)||null,h(E,T,O,B);case _s:return T=T.get(O.key===null?I:O.key)||null,f(E,T,O,B);case Pi:var H=O._init;return y(T,E,I,H(O._payload),B)}if(Qo(O)||Ao(O))return T=T.get(I)||null,m(E,T,O,B,null);Yl(E,O)}return null}function w(T,E,I,O){for(var B=null,H=null,V=E,z=E=0,te=null;V!==null&&z<I.length;z++){V.index>z?(te=V,V=null):te=V.sibling;var W=g(T,V,I[z],O);if(W===null){V===null&&(V=te);break}t&&V&&W.alternate===null&&e(T,V),E=o(W,E,z),H===null?B=W:H.sibling=W,H=W,V=te}if(z===I.length)return n(T,V),Me&&hr(T,z),B;if(V===null){for(;z<I.length;z++)V=_(T,I[z],O),V!==null&&(E=o(V,E,z),H===null?B=V:H.sibling=V,H=V);return Me&&hr(T,z),B}for(V=i(T,V);z<I.length;z++)te=y(V,T,z,I[z],O),te!==null&&(t&&te.alternate!==null&&V.delete(te.key===null?z:te.key),E=o(te,E,z),H===null?B=te:H.sibling=te,H=te);return t&&V.forEach(function(oe){return e(T,oe)}),Me&&hr(T,z),B}function C(T,E,I,O){var B=Ao(I);if(typeof B!="function")throw Error(U(150));if(I=B.call(I),I==null)throw Error(U(151));for(var H=B=null,V=E,z=E=0,te=null,W=I.next();V!==null&&!W.done;z++,W=I.next()){V.index>z?(te=V,V=null):te=V.sibling;var oe=g(T,V,W.value,O);if(oe===null){V===null&&(V=te);break}t&&V&&oe.alternate===null&&e(T,V),E=o(oe,E,z),H===null?B=oe:H.sibling=oe,H=oe,V=te}if(W.done)return n(T,V),Me&&hr(T,z),B;if(V===null){for(;!W.done;z++,W=I.next())W=_(T,W.value,O),W!==null&&(E=o(W,E,z),H===null?B=W:H.sibling=W,H=W);return Me&&hr(T,z),B}for(V=i(T,V);!W.done;z++,W=I.next())W=y(V,T,z,W.value,O),W!==null&&(t&&W.alternate!==null&&V.delete(W.key===null?z:W.key),E=o(W,E,z),H===null?B=W:H.sibling=W,H=W);return t&&V.forEach(function(we){return e(T,we)}),Me&&hr(T,z),B}function A(T,E,I,O){if(typeof I=="object"&&I!==null&&I.type===gs&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Bl:e:{for(var B=I.key,H=E;H!==null;){if(H.key===B){if(B=I.type,B===gs){if(H.tag===7){n(T,H.sibling),E=r(H,I.props.children),E.return=T,T=E;break e}}else if(H.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Pi&&_y(B)===H.type){n(T,H.sibling),E=r(H,I.props),E.ref=Uo(T,H,I),E.return=T,T=E;break e}n(T,H);break}else e(T,H);H=H.sibling}I.type===gs?(E=Cr(I.props.children,T.mode,O,I.key),E.return=T,T=E):(O=yu(I.type,I.key,I.props,null,T.mode,O),O.ref=Uo(T,E,I),O.return=T,T=O)}return l(T);case _s:e:{for(H=I.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(T,E.sibling),E=r(E,I.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Md(I,T.mode,O),E.return=T,T=E}return l(T);case Pi:return H=I._init,A(T,E,H(I._payload),O)}if(Qo(I))return w(T,E,I,O);if(Ao(I))return C(T,E,I,O);Yl(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(T,E.sibling),E=r(E,I),E.return=T,T=E):(n(T,E),E=Nd(I,T.mode,O),E.return=T,T=E),l(T)):n(T,E)}return A}var Zs=uT(!0),cT=uT(!1),sl={},Hn=ir(sl),Oa=ir(sl),La=ir(sl);function vr(t){if(t===sl)throw Error(U(174));return t}function Rm(t,e){switch(Re(La,e),Re(Oa,t),Re(Hn,sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tf(e,t)}Le(Hn),Re(Hn,e)}function Gs(){Le(Hn),Le(Oa),Le(La)}function hT(t){vr(La.current);var e=vr(Hn.current),n=Tf(e,t.type);e!==n&&(Re(Oa,t),Re(Hn,n))}function Om(t){Oa.current===t&&(Le(Hn),Le(Oa))}var Fe=ir(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bd=[];function Lm(){for(var t=0;t<bd.length;t++)bd[t]._workInProgressVersionPrimary=null;bd.length=0}var pu=_i.ReactCurrentDispatcher,kd=_i.ReactCurrentBatchConfig,Ar=0,Ue=null,Je=null,it=null,qu=!1,aa=!1,Aa=0,S1=0;function vt(){throw Error(U(321))}function Am(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Nm(t,e,n,i,r,o){if(Ar=o,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pu.current=t===null||t.memoizedState===null?x1:b1,t=n(i,r),aa){o=0;do{if(aa=!1,Aa=0,25<=o)throw Error(U(301));o+=1,it=Je=null,e.updateQueue=null,pu.current=k1,t=n(i,r)}while(aa)}if(pu.current=Zu,e=Je!==null&&Je.next!==null,Ar=0,it=Je=Ue=null,qu=!1,e)throw Error(U(300));return t}function Mm(){var t=Aa!==0;return Aa=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ue.memoizedState=it=t:it=it.next=t,it}function ln(){if(Je===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=it===null?Ue.memoizedState:it.next;if(e!==null)it=e,Je=t;else{if(t===null)throw Error(U(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},it===null?Ue.memoizedState=it=t:it=it.next=t}return it}function Na(t,e){return typeof e=="function"?e(t):e}function Rd(t){var e=ln(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=Je,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var l=r.next;r.next=o.next,o.next=l}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=l=null,h=null,f=o;do{var m=f.lane;if((Ar&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,l=i):h=h.next=_,Ue.lanes|=m,Nr|=m}f=f.next}while(f!==null&&f!==o);h===null?l=i:h.next=u,Cn(i,e.memoizedState)||(Mt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Ue.lanes|=o,Nr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Od(t){var e=ln(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do o=t(o,l.action),l=l.next;while(l!==r);Cn(o,e.memoizedState)||(Mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function dT(){}function fT(t,e){var n=Ue,i=ln(),r=e(),o=!Cn(i.memoizedState,r);if(o&&(i.memoizedState=r,Mt=!0),i=i.queue,Dm(_T.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Ma(9,mT.bind(null,n,i,r,e),void 0,null),lt===null)throw Error(U(349));Ar&30||pT(n,e,r)}return r}function pT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mT(t,e,n,i){e.value=n,e.getSnapshot=i,gT(e)&&vT(t)}function _T(t,e,n){return n(function(){gT(e)&&vT(t)})}function gT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function vT(t){var e=di(t,1);e!==null&&En(e,t,1,-1)}function gy(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:t},e.queue=t,t=t.dispatch=P1.bind(null,Ue,t),[e.memoizedState,t]}function Ma(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function yT(){return ln().memoizedState}function mu(t,e,n,i){var r=Dn();Ue.flags|=t,r.memoizedState=Ma(1|e,n,void 0,i===void 0?null:i)}function jc(t,e,n,i){var r=ln();i=i===void 0?null:i;var o=void 0;if(Je!==null){var l=Je.memoizedState;if(o=l.destroy,i!==null&&Am(i,l.deps)){r.memoizedState=Ma(e,n,o,i);return}}Ue.flags|=t,r.memoizedState=Ma(1|e,n,o,i)}function vy(t,e){return mu(8390656,8,t,e)}function Dm(t,e){return jc(2048,8,t,e)}function wT(t,e){return jc(4,2,t,e)}function ET(t,e){return jc(4,4,t,e)}function TT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ST(t,e,n){return n=n!=null?n.concat([t]):null,jc(4,4,TT.bind(null,e,t),n)}function Fm(){}function CT(t,e){var n=ln();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Am(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function IT(t,e){var n=ln();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Am(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function PT(t,e,n){return Ar&21?(Cn(n,e)||(n=kE(),Ue.lanes|=n,Nr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function C1(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var i=kd.transition;kd.transition={};try{t(!1),e()}finally{Se=n,kd.transition=i}}function xT(){return ln().memoizedState}function I1(t,e,n){var i=qi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},bT(t))kT(e,n);else if(n=sT(t,e,n,i),n!==null){var r=bt();En(n,t,i,r),RT(n,e,i)}}function P1(t,e,n){var i=qi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(bT(t))kT(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(r.hasEagerState=!0,r.eagerState=u,Cn(u,l)){var h=e.interleaved;h===null?(r.next=r,bm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=sT(t,e,r,i),n!==null&&(r=bt(),En(n,t,i,r),RT(n,e,i))}}function bT(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function kT(t,e){aa=qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RT(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,pm(t,n)}}var Zu={readContext:an,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},x1={readContext:an,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mu(4194308,4,TT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mu(4194308,4,t,e)},useInsertionEffect:function(t,e){return mu(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Dn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=I1.bind(null,Ue,t),[i.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:gy,useDebugValue:Fm,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=gy(!1),e=t[0];return t=C1.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ue,r=Dn();if(Me){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),lt===null)throw Error(U(349));Ar&30||pT(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,vy(_T.bind(null,i,o,t),[t]),i.flags|=2048,Ma(9,mT.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Dn(),e=lt.identifierPrefix;if(Me){var n=ti,i=ei;n=(i&~(1<<32-wn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=S1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},b1={readContext:an,useCallback:CT,useContext:an,useEffect:Dm,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:ET,useMemo:IT,useReducer:Rd,useRef:yT,useState:function(){return Rd(Na)},useDebugValue:Fm,useDeferredValue:function(t){var e=ln();return PT(e,Je.memoizedState,t)},useTransition:function(){var t=Rd(Na)[0],e=ln().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:xT,unstable_isNewReconciler:!1},k1={readContext:an,useCallback:CT,useContext:an,useEffect:Dm,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:ET,useMemo:IT,useReducer:Od,useRef:yT,useState:function(){return Od(Na)},useDebugValue:Fm,useDeferredValue:function(t){var e=ln();return Je===null?e.memoizedState=t:PT(e,Je.memoizedState,t)},useTransition:function(){var t=Od(Na)[0],e=ln().memoizedState;return[t,e]},useMutableSource:dT,useSyncExternalStore:fT,useId:xT,unstable_isNewReconciler:!1};function Ks(t,e){try{var n="",i=e;do n+=ik(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Ld(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R1=typeof WeakMap=="function"?WeakMap:Map;function OT(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ku||(Ku=!0,tp=i),Vf(t,e)},n}function LT(t,e,n){n=oi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Vf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vf(t,e),typeof i!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function yy(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new R1;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=$1.bind(null,t,e,n),e.then(t,t))}function wy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ey(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,$i(n,e,1))),n.lanes|=1),t)}var O1=_i.ReactCurrentOwner,Mt=!1;function Pt(t,e,n,i){e.child=t===null?cT(e,null,n,i):Zs(e,t.child,n,i)}function Ty(t,e,n,i,r){n=n.render;var o=e.ref;return Ms(e,r),i=Nm(t,e,n,i,o,r),n=Mm(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,fi(t,e,r)):(Me&&n&&Tm(e),e.flags|=1,Pt(t,e,i,r),e.child)}function Sy(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Vm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AT(t,e,o,i,r)):(t=yu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(l,i)&&t.ref===e.ref)return fi(t,e,r)}return e.flags|=1,t=Zi(o,i),t.ref=e.ref,t.return=e,e.child=t}function AT(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(xa(o,i)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,fi(t,e,r)}return qf(t,e,n,i,r)}function NT(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(xs,Wt),Wt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(xs,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Re(xs,Wt),Wt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Re(xs,Wt),Wt|=i;return Pt(t,e,r,n),e.child}function MT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qf(t,e,n,i,r){var o=Bt(n)?Or:Tt.current;return o=Vs(e,o),Ms(e,r),n=Nm(t,e,n,i,o,r),i=Mm(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,fi(t,e,r)):(Me&&i&&Tm(e),e.flags|=1,Pt(t,e,n,r),e.child)}function Cy(t,e,n,i,r){if(Bt(n)){var o=!0;Bu(e)}else o=!1;if(Ms(e,r),e.stateNode===null)_u(t,e),lT(e,n,i),$f(e,n,i,r),i=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=an(f):(f=Bt(n)?Or:Tt.current,f=Vs(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==i||h!==f)&&my(e,l,i,f),xi=!1;var g=e.memoizedState;l.state=g,$u(e,i,l,r),h=e.memoizedState,u!==i||g!==h||Ut.current||xi?(typeof m=="function"&&(Wf(e,n,m,i),h=e.memoizedState),(u=xi||py(e,n,u,i,g,h,f))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,oT(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:fn(e.type,u),l.props=f,_=e.pendingProps,g=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=an(h):(h=Bt(n)?Or:Tt.current,h=Vs(e,h));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==_||g!==h)&&my(e,l,i,h),xi=!1,g=e.memoizedState,l.state=g,$u(e,i,l,r);var w=e.memoizedState;u!==_||g!==w||Ut.current||xi?(typeof y=="function"&&(Wf(e,n,y,i),w=e.memoizedState),(f=xi||py(e,n,f,i,g,w,h)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,w,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,w,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),l.props=i,l.state=w,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return Zf(t,e,n,i,o,r)}function Zf(t,e,n,i,r,o){MT(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return r&&uy(e,n,!1),fi(t,e,o);i=e.stateNode,O1.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Zs(e,t.child,null,o),e.child=Zs(e,null,u,o)):Pt(t,e,u,o),e.memoizedState=i.state,r&&uy(e,n,!0),e.child}function DT(t){var e=t.stateNode;e.pendingContext?ly(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ly(t,e.context,!1),Rm(t,e.containerInfo)}function Iy(t,e,n,i,r){return qs(),Cm(r),e.flags|=256,Pt(t,e,n,i),e.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function FT(t,e,n){var i=e.pendingProps,r=Fe.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Re(Fe,r&1),t===null)return jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=$c(l,i,0,null),t=Cr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Kf(n),e.memoizedState=Gf,t):Um(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return L1(t,e,l,i,u,r,n);if(o){o=i.fallback,l=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Zi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=Zi(u,o):(o=Cr(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?Kf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Gf,i}return o=t.child,t=o.sibling,i=Zi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Um(t,e){return e=$c({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ql(t,e,n,i){return i!==null&&Cm(i),Zs(e,t.child,null,n),t=Um(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L1(t,e,n,i,r,o,l){if(n)return e.flags&256?(e.flags&=-257,i=Ld(Error(U(422))),Ql(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=$c({mode:"visible",children:i.children},r,0,null),o=Cr(o,r,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Zs(e,t.child,null,l),e.child.memoizedState=Kf(l),e.memoizedState=Gf,o);if(!(e.mode&1))return Ql(t,e,l,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(U(419)),i=Ld(o,i,void 0),Ql(t,e,l,i)}if(u=(l&t.childLanes)!==0,Mt||u){if(i=lt,i!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|l)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,di(t,r),En(i,t,r,-1))}return $m(),i=Ld(Error(U(421))),Ql(t,e,l,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=V1.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,$t=Wi(r.nextSibling),Vt=e,Me=!0,_n=null,t!==null&&(en[tn++]=ei,en[tn++]=ti,en[tn++]=Lr,ei=t.id,ti=t.overflow,Lr=e),e=Um(e,i.children),e.flags|=4096,e)}function Py(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Hf(t.return,e,n)}function Ad(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function UT(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Pt(t,e,i.children,n),i=Fe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,n,e);else if(t.tag===19)Py(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Re(Fe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ad(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ad(e,!0,n,null,o);break;case"together":Ad(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function A1(t,e,n){switch(e.tag){case 3:DT(e),qs();break;case 5:hT(e);break;case 1:Bt(e.type)&&Bu(e);break;case 4:Rm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Re(Hu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Re(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?FT(t,e,n):(Re(Fe,Fe.current&1),t=fi(t,e,n),t!==null?t.sibling:null);Re(Fe,Fe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return UT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Re(Fe,Fe.current),i)break;return null;case 22:case 23:return e.lanes=0,NT(t,e,n)}return fi(t,e,n)}var BT,Yf,zT,jT;BT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yf=function(){};zT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,vr(Hn.current);var o=null;switch(n){case"input":r=vf(t,r),i=vf(t,i),o=[];break;case"select":r=Be({},r,{value:void 0}),i=Be({},i,{value:void 0}),o=[];break;case"textarea":r=Ef(t,r),i=Ef(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Fu)}Sf(n,i);var l;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(wa.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&u[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(wa.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Oe("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};jT=function(t,e,n,i){n!==i&&(e.flags|=4)};function Bo(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function N1(t,e,n){var i=e.pendingProps;switch(Sm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Bt(e.type)&&Uu(),yt(e),null;case 3:return i=e.stateNode,Gs(),Le(Ut),Le(Tt),Lm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(rp(_n),_n=null))),Yf(t,e),yt(e),null;case 5:Om(e);var r=vr(La.current);if(n=e.type,t!==null&&e.stateNode!=null)zT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return yt(e),null}if(t=vr(Hn.current),Kl(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Fn]=e,i[Ra]=o,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(r=0;r<Xo.length;r++)Oe(Xo[r],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Mv(i,o),Oe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",i);break;case"textarea":Fv(i,o),Oe("invalid",i)}Sf(n,o),r=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&Gl(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Gl(i.textContent,u,t),r=["children",""+u]):wa.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Oe("scroll",i)}switch(n){case"input":zl(i),Dv(i,o,!0);break;case"textarea":zl(i),Uv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Fu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Fn]=e,t[Ra]=i,BT(t,e,!1,!1),e.stateNode=t;e:{switch(l=Cf(n,i),n){case"dialog":Oe("cancel",t),Oe("close",t),r=i;break;case"iframe":case"object":case"embed":Oe("load",t),r=i;break;case"video":case"audio":for(r=0;r<Xo.length;r++)Oe(Xo[r],t);r=i;break;case"source":Oe("error",t),r=i;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),r=i;break;case"details":Oe("toggle",t),r=i;break;case"input":Mv(t,i),r=vf(t,i),Oe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Be({},i,{value:void 0}),Oe("invalid",t);break;case"textarea":Fv(t,i),r=Ef(t,i),Oe("invalid",t);break;default:r=i}Sf(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?gE(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&mE(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ea(t,h):typeof h=="number"&&Ea(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(wa.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Oe("scroll",t):h!=null&&lm(t,o,h,l))}switch(n){case"input":zl(t),Dv(t,i,!1);break;case"textarea":zl(t),Uv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ji(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Os(t,!!i.multiple,o,!1):i.defaultValue!=null&&Os(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)jT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=vr(La.current),vr(Hn.current),Kl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Fn]=e,(o=i.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Gl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gl(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Fn]=e,e.stateNode=i}return yt(e),null;case 13:if(Le(Fe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&$t!==null&&e.mode&1&&!(e.flags&128))rT(),qs(),e.flags|=98560,o=!1;else if(o=Kl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[Fn]=e}else qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),o=!1}else _n!==null&&(rp(_n),_n=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?Xe===0&&(Xe=3):$m())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return Gs(),Yf(t,e),t===null&&ba(e.stateNode.containerInfo),yt(e),null;case 10:return xm(e.type._context),yt(e),null;case 17:return Bt(e.type)&&Uu(),yt(e),null;case 19:if(Le(Fe),o=e.memoizedState,o===null)return yt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Bo(o,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Vu(t),l!==null){for(e.flags|=128,Bo(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Fe,Fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ze()>Ys&&(e.flags|=128,i=!0,Bo(o,!1),e.lanes=4194304)}else{if(!i)if(t=Vu(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Me)return yt(e),null}else 2*Ze()-o.renderingStartTime>Ys&&n!==1073741824&&(e.flags|=128,i=!0,Bo(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,n=Fe.current,Re(Fe,i?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Wm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Wt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function M1(t,e){switch(Sm(e),e.tag){case 1:return Bt(e.type)&&Uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),Le(Ut),Le(Tt),Lm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Om(e),null;case 13:if(Le(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Fe),null;case 4:return Gs(),null;case 10:return xm(e.type._context),null;case 22:case 23:return Wm(),null;case 24:return null;default:return null}}var Jl=!1,Et=!1,D1=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ze(t,e,i)}else n.current=null}function Qf(t,e,n){try{n()}catch(i){ze(t,e,i)}}var xy=!1;function F1(t,e){if(Nf=Nu,t=VE(),Em(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,h=-1,f=0,m=0,_=t,g=null;t:for(;;){for(var y;_!==n||r!==0&&_.nodeType!==3||(u=l+r),_!==o||i!==0&&_.nodeType!==3||(h=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(y=_.firstChild)!==null;)g=_,_=y;for(;;){if(_===t)break t;if(g===n&&++f===r&&(u=l),g===o&&++m===i&&(h=l),(y=_.nextSibling)!==null)break;_=g,g=_.parentNode}_=y}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mf={focusedElem:t,selectionRange:n},Nu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,A=w.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?C:fn(e.type,C),A);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(O){ze(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return w=xy,xy=!1,w}function la(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Qf(e,n,o)}r=r.next}while(r!==i)}}function Hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HT(t){var e=t.alternate;e!==null&&(t.alternate=null,HT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[Ra],delete e[Uf],delete e[y1],delete e[w1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function WT(t){return t.tag===5||t.tag===3||t.tag===4}function by(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fu));else if(i!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}function ep(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}var ht=null,mn=!1;function Si(t,e,n){for(n=n.child;n!==null;)$T(t,e,n),n=n.sibling}function $T(t,e,n){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Nc,n)}catch{}switch(n.tag){case 5:Et||Ps(n,e);case 6:var i=ht,r=mn;ht=null,Si(t,e,n),ht=i,mn=r,ht!==null&&(mn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(mn?(t=ht,n=n.stateNode,t.nodeType===8?Pd(t.parentNode,n):t.nodeType===1&&Pd(t,n),Ia(t)):Pd(ht,n.stateNode));break;case 4:i=ht,r=mn,ht=n.stateNode.containerInfo,mn=!0,Si(t,e,n),ht=i,mn=r;break;case 0:case 11:case 14:case 15:if(!Et&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Qf(n,e,l),r=r.next}while(r!==i)}Si(t,e,n);break;case 1:if(!Et&&(Ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){ze(n,e,u)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(Et=(i=Et)||n.memoizedState!==null,Si(t,e,n),Et=i):Si(t,e,n);break;default:Si(t,e,n)}}function ky(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new D1),e.forEach(function(i){var r=q1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function dn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ht=u.stateNode,mn=!1;break e;case 3:ht=u.stateNode.containerInfo,mn=!0;break e;case 4:ht=u.stateNode.containerInfo,mn=!0;break e}u=u.return}if(ht===null)throw Error(U(160));$T(o,l,r),ht=null,mn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){ze(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VT(e,t),e=e.sibling}function VT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(e,t),Mn(t),i&4){try{la(3,t,t.return),Hc(3,t)}catch(C){ze(t,t.return,C)}try{la(5,t,t.return)}catch(C){ze(t,t.return,C)}}break;case 1:dn(e,t),Mn(t),i&512&&n!==null&&Ps(n,n.return);break;case 5:if(dn(e,t),Mn(t),i&512&&n!==null&&Ps(n,n.return),t.flags&32){var r=t.stateNode;try{Ea(r,"")}catch(C){ze(t,t.return,C)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&dE(r,o),Cf(u,l);var f=Cf(u,o);for(l=0;l<h.length;l+=2){var m=h[l],_=h[l+1];m==="style"?gE(r,_):m==="dangerouslySetInnerHTML"?mE(r,_):m==="children"?Ea(r,_):lm(r,m,_,f)}switch(u){case"input":yf(r,o);break;case"textarea":fE(r,o);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Os(r,!!o.multiple,y,!1):g!==!!o.multiple&&(o.defaultValue!=null?Os(r,!!o.multiple,o.defaultValue,!0):Os(r,!!o.multiple,o.multiple?[]:"",!1))}r[Ra]=o}catch(C){ze(t,t.return,C)}}break;case 6:if(dn(e,t),Mn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(C){ze(t,t.return,C)}}break;case 3:if(dn(e,t),Mn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(e.containerInfo)}catch(C){ze(t,t.return,C)}break;case 4:dn(e,t),Mn(t);break;case 13:dn(e,t),Mn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(jm=Ze())),i&4&&ky(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(f=Et)||m,dn(e,t),Et=f):dn(e,t),Mn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(Z=t,m=t.child;m!==null;){for(_=Z=m;Z!==null;){switch(g=Z,y=g.child,g.tag){case 0:case 11:case 14:case 15:la(4,g,g.return);break;case 1:Ps(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){i=g,n=g.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(C){ze(i,n,C)}}break;case 5:Ps(g,g.return);break;case 22:if(g.memoizedState!==null){Oy(_);continue}}y!==null?(y.return=g,Z=y):Oy(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,h=_.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=_E("display",l))}catch(C){ze(t,t.return,C)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(C){ze(t,t.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:dn(e,t),Mn(t),i&4&&ky(t);break;case 21:break;default:dn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(WT(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ea(r,""),i.flags&=-33);var o=by(t);ep(t,o,r);break;case 3:case 4:var l=i.stateNode.containerInfo,u=by(t);Xf(t,u,l);break;default:throw Error(U(161))}}catch(h){ze(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U1(t,e,n){Z=t,qT(t)}function qT(t,e,n){for(var i=(t.mode&1)!==0;Z!==null;){var r=Z,o=r.child;if(r.tag===22&&i){var l=r.memoizedState!==null||Jl;if(!l){var u=r.alternate,h=u!==null&&u.memoizedState!==null||Et;u=Jl;var f=Et;if(Jl=l,(Et=h)&&!f)for(Z=r;Z!==null;)l=Z,h=l.child,l.tag===22&&l.memoizedState!==null?Ly(r):h!==null?(h.return=l,Z=h):Ly(r);for(;o!==null;)Z=o,qT(o),o=o.sibling;Z=r,Jl=u,Et=f}Ry(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,Z=o):Ry(t)}}function Ry(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Hc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Et)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:fn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fy(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fy(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Ia(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Et||e.flags&512&&Jf(e)}catch(g){ze(e,e.return,g)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Oy(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Ly(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hc(4,e)}catch(h){ze(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){ze(e,r,h)}}var o=e.return;try{Jf(e)}catch(h){ze(e,o,h)}break;case 5:var l=e.return;try{Jf(e)}catch(h){ze(e,l,h)}}}catch(h){ze(e,e.return,h)}if(e===t){Z=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Z=u;break}Z=e.return}}var B1=Math.ceil,Gu=_i.ReactCurrentDispatcher,Bm=_i.ReactCurrentOwner,sn=_i.ReactCurrentBatchConfig,ye=0,lt=null,Ye=null,ft=0,Wt=0,xs=ir(0),Xe=0,Da=null,Nr=0,Wc=0,zm=0,ua=null,Nt=null,jm=0,Ys=1/0,Jn=null,Ku=!1,tp=null,Vi=null,Xl=!1,Di=null,Yu=0,ca=0,np=null,gu=-1,vu=0;function bt(){return ye&6?Ze():gu!==-1?gu:gu=Ze()}function qi(t){return t.mode&1?ye&2&&ft!==0?ft&-ft:T1.transition!==null?(vu===0&&(vu=kE()),vu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:DE(t.type)),t):1}function En(t,e,n,i){if(50<ca)throw ca=0,np=null,Error(U(185));nl(t,n,i),(!(ye&2)||t!==lt)&&(t===lt&&(!(ye&2)&&(Wc|=n),Xe===4&&ki(t,ft)),zt(t,i),n===1&&ye===0&&!(e.mode&1)&&(Ys=Ze()+500,Bc&&rr()))}function zt(t,e){var n=t.callbackNode;Tk(t,e);var i=Au(t,t===lt?ft:0);if(i===0)n!==null&&jv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&jv(n),e===1)t.tag===0?E1(Ay.bind(null,t)):tT(Ay.bind(null,t)),g1(function(){!(ye&6)&&rr()}),n=null;else{switch(RE(i)){case 1:n=fm;break;case 4:n=xE;break;case 16:n=Lu;break;case 536870912:n=bE;break;default:n=Lu}n=eS(n,ZT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZT(t,e){if(gu=-1,vu=0,ye&6)throw Error(U(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var i=Au(t,t===lt?ft:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Qu(t,i);else{e=i;var r=ye;ye|=2;var o=KT();(lt!==t||ft!==e)&&(Jn=null,Ys=Ze()+500,Sr(t,e));do try{H1();break}catch(u){GT(t,u)}while(1);Pm(),Gu.current=o,ye=r,Ye!==null?e=0:(lt=null,ft=0,e=Xe)}if(e!==0){if(e===2&&(r=kf(t),r!==0&&(i=r,e=ip(t,r))),e===1)throw n=Da,Sr(t,0),ki(t,i),zt(t,Ze()),n;if(e===6)ki(t,i);else{if(r=t.current.alternate,!(i&30)&&!z1(r)&&(e=Qu(t,i),e===2&&(o=kf(t),o!==0&&(i=o,e=ip(t,o))),e===1))throw n=Da,Sr(t,0),ki(t,i),zt(t,Ze()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:dr(t,Nt,Jn);break;case 3:if(ki(t,i),(i&130023424)===i&&(e=jm+500-Ze(),10<e)){if(Au(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){bt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ff(dr.bind(null,t,Nt,Jn),e);break}dr(t,Nt,Jn);break;case 4:if(ki(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var l=31-wn(i);o=1<<l,l=e[l],l>r&&(r=l),i&=~o}if(i=r,i=Ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*B1(i/1960))-i,10<i){t.timeoutHandle=Ff(dr.bind(null,t,Nt,Jn),i);break}dr(t,Nt,Jn);break;case 5:dr(t,Nt,Jn);break;default:throw Error(U(329))}}}return zt(t,Ze()),t.callbackNode===n?ZT.bind(null,t):null}function ip(t,e){var n=ua;return t.current.memoizedState.isDehydrated&&(Sr(t,e).flags|=256),t=Qu(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&rp(e)),t}function rp(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function z1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Cn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(t,e){for(e&=~zm,e&=~Wc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wn(e),i=1<<n;t[n]=-1,e&=~i}}function Ay(t){if(ye&6)throw Error(U(327));Ds();var e=Au(t,0);if(!(e&1))return zt(t,Ze()),null;var n=Qu(t,e);if(t.tag!==0&&n===2){var i=kf(t);i!==0&&(e=i,n=ip(t,i))}if(n===1)throw n=Da,Sr(t,0),ki(t,e),zt(t,Ze()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,Nt,Jn),zt(t,Ze()),null}function Hm(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Ys=Ze()+500,Bc&&rr())}}function Mr(t){Di!==null&&Di.tag===0&&!(ye&6)&&Ds();var e=ye;ye|=1;var n=sn.transition,i=Se;try{if(sn.transition=null,Se=1,t)return t()}finally{Se=i,sn.transition=n,ye=e,!(ye&6)&&rr()}}function Wm(){Wt=xs.current,Le(xs)}function Sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_1(n)),Ye!==null)for(n=Ye.return;n!==null;){var i=n;switch(Sm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Uu();break;case 3:Gs(),Le(Ut),Le(Tt),Lm();break;case 5:Om(i);break;case 4:Gs();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:xm(i.type._context);break;case 22:case 23:Wm()}n=n.return}if(lt=t,Ye=t=Zi(t.current,null),ft=Wt=e,Xe=0,Da=null,zm=Wc=Nr=0,Nt=ua=null,gr!==null){for(e=0;e<gr.length;e++)if(n=gr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=r,i.next=l}n.pending=i}gr=null}return t}function GT(t,e){do{var n=Ye;try{if(Pm(),pu.current=Zu,qu){for(var i=Ue.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}qu=!1}if(Ar=0,it=Je=Ue=null,aa=!1,Aa=0,Bm.current=null,n===null||n.return===null){Xe=1,Da=e,Ye=null;break}e:{var o=t,l=n.return,u=n,h=e;if(e=ft,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=wy(l);if(y!==null){y.flags&=-257,Ey(y,l,u,o,e),y.mode&1&&yy(o,f,e),e=y,h=f;var w=e.updateQueue;if(w===null){var C=new Set;C.add(h),e.updateQueue=C}else w.add(h);break e}else{if(!(e&1)){yy(o,f,e),$m();break e}h=Error(U(426))}}else if(Me&&u.mode&1){var A=wy(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ey(A,l,u,o,e),Cm(Ks(h,u));break e}}o=h=Ks(h,u),Xe!==4&&(Xe=2),ua===null?ua=[o]:ua.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=OT(o,h,e);dy(o,T);break e;case 1:u=h;var E=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Vi===null||!Vi.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=LT(o,u,e);dy(o,O);break e}}o=o.return}while(o!==null)}QT(n)}catch(B){e=B,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function KT(){var t=Gu.current;return Gu.current=Zu,t===null?Zu:t}function $m(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),lt===null||!(Nr&268435455)&&!(Wc&268435455)||ki(lt,ft)}function Qu(t,e){var n=ye;ye|=2;var i=KT();(lt!==t||ft!==e)&&(Jn=null,Sr(t,e));do try{j1();break}catch(r){GT(t,r)}while(1);if(Pm(),ye=n,Gu.current=i,Ye!==null)throw Error(U(261));return lt=null,ft=0,Xe}function j1(){for(;Ye!==null;)YT(Ye)}function H1(){for(;Ye!==null&&!fk();)YT(Ye)}function YT(t){var e=XT(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?QT(t):Ye=e,Bm.current=null}function QT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M1(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ye=null;return}}else if(n=N1(n,e,Wt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Xe===0&&(Xe=5)}function dr(t,e,n){var i=Se,r=sn.transition;try{sn.transition=null,Se=1,W1(t,e,n,i)}finally{sn.transition=r,Se=i}return null}function W1(t,e,n,i){do Ds();while(Di!==null);if(ye&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Sk(t,o),t===lt&&(Ye=lt=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xl||(Xl=!0,eS(Lu,function(){return Ds(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var l=Se;Se=1;var u=ye;ye|=4,Bm.current=null,F1(t,n),VT(n,t),u1(Mf),Nu=!!Nf,Mf=Nf=null,t.current=n,U1(n),pk(),ye=u,Se=l,sn.transition=o}else t.current=n;if(Xl&&(Xl=!1,Di=t,Yu=r),o=t.pendingLanes,o===0&&(Vi=null),gk(n.stateNode),zt(t,Ze()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ku)throw Ku=!1,t=tp,tp=null,t;return Yu&1&&t.tag!==0&&Ds(),o=t.pendingLanes,o&1?t===np?ca++:(ca=0,np=t):ca=0,rr(),null}function Ds(){if(Di!==null){var t=RE(Yu),e=sn.transition,n=Se;try{if(sn.transition=null,Se=16>t?16:t,Di===null)var i=!1;else{if(t=Di,Di=null,Yu=0,ye&6)throw Error(U(331));var r=ye;for(ye|=4,Z=t.current;Z!==null;){var o=Z,l=o.child;if(Z.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(Z=f;Z!==null;){var m=Z;switch(m.tag){case 0:case 11:case 15:la(8,m,o)}var _=m.child;if(_!==null)_.return=m,Z=_;else for(;Z!==null;){m=Z;var g=m.sibling,y=m.return;if(HT(m),m===f){Z=null;break}if(g!==null){g.return=y,Z=g;break}Z=y}}}var w=o.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var A=C.sibling;C.sibling=null,C=A}while(C!==null)}}Z=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Z=l;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:la(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,Z=T;break e}Z=o.return}}var E=t.current;for(Z=E;Z!==null;){l=Z;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,Z=I;else e:for(l=E;Z!==null;){if(u=Z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Hc(9,u)}}catch(B){ze(u,u.return,B)}if(u===l){Z=null;break e}var O=u.sibling;if(O!==null){O.return=u.return,Z=O;break e}Z=u.return}}if(ye=r,rr(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Nc,t)}catch{}i=!0}return i}finally{Se=n,sn.transition=e}}return!1}function Ny(t,e,n){e=Ks(n,e),e=OT(t,e,1),t=$i(t,e,1),e=bt(),t!==null&&(nl(t,1,e),zt(t,e))}function ze(t,e,n){if(t.tag===3)Ny(t,t,n);else for(;e!==null;){if(e.tag===3){Ny(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vi===null||!Vi.has(i))){t=Ks(n,t),t=LT(e,t,1),e=$i(e,t,1),t=bt(),e!==null&&(nl(e,1,t),zt(e,t));break}}e=e.return}}function $1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(ft&n)===n&&(Xe===4||Xe===3&&(ft&130023424)===ft&&500>Ze()-jm?Sr(t,0):zm|=n),zt(t,e)}function JT(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=bt();t=di(t,e),t!==null&&(nl(t,e,n),zt(t,n))}function V1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JT(t,n)}function q1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),JT(t,n)}var XT;XT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,A1(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Me&&e.flags&1048576&&nT(e,ju,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;_u(t,e),t=e.pendingProps;var r=Vs(e,Tt.current);Ms(e,n),r=Nm(null,e,i,t,r,n);var o=Mm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(i)?(o=!0,Bu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,km(e),r.updater=zc,e.stateNode=r,r._reactInternals=e,$f(e,i,t,n),e=Zf(null,e,i,!0,o,n)):(e.tag=0,Me&&o&&Tm(e),Pt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(_u(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=G1(i),t=fn(i,t),r){case 0:e=qf(null,e,i,t,n);break e;case 1:e=Cy(null,e,i,t,n);break e;case 11:e=Ty(null,e,i,t,n);break e;case 14:e=Sy(null,e,i,fn(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fn(i,r),qf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fn(i,r),Cy(t,e,i,r,n);case 3:e:{if(DT(e),t===null)throw Error(U(387));i=e.pendingProps,o=e.memoizedState,r=o.element,oT(t,e),$u(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Ks(Error(U(423)),e),e=Iy(t,e,i,n,r);break e}else if(i!==r){r=Ks(Error(U(424)),e),e=Iy(t,e,i,n,r);break e}else for($t=Wi(e.stateNode.containerInfo.firstChild),Vt=e,Me=!0,_n=null,n=cT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),i===r){e=fi(t,e,n);break e}Pt(t,e,i,n)}e=e.child}return e;case 5:return hT(e),t===null&&jf(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,l=r.children,Df(i,r)?l=null:o!==null&&Df(i,o)&&(e.flags|=32),MT(t,e),Pt(t,e,l,n),e.child;case 6:return t===null&&jf(e),null;case 13:return FT(t,e,n);case 4:return Rm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Zs(e,null,i,n):Pt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fn(i,r),Ty(t,e,i,r,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,l=r.value,Re(Hu,i._currentValue),i._currentValue=l,o!==null)if(Cn(o.value,l)){if(o.children===r.children&&!Ut.current){e=fi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=oi(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Hf(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(U(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Hf(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Pt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ms(e,n),r=an(r),i=i(r),e.flags|=1,Pt(t,e,i,n),e.child;case 14:return i=e.type,r=fn(i,e.pendingProps),r=fn(i.type,r),Sy(t,e,i,r,n);case 15:return AT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fn(i,r),_u(t,e),e.tag=1,Bt(i)?(t=!0,Bu(e)):t=!1,Ms(e,n),lT(e,i,r),$f(e,i,r,n),Zf(null,e,i,!0,t,n);case 19:return UT(t,e,n);case 22:return NT(t,e,n)}throw Error(U(156,e.tag))};function eS(t,e){return PE(t,e)}function Z1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,i){return new Z1(t,e,n,i)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G1(t){if(typeof t=="function")return Vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cm)return 11;if(t===hm)return 14}return 2}function Zi(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yu(t,e,n,i,r,o){var l=2;if(i=t,typeof t=="function")Vm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case gs:return Cr(n.children,r,o,e);case um:l=8,r|=8;break;case pf:return t=nn(12,n,e,r|2),t.elementType=pf,t.lanes=o,t;case mf:return t=nn(13,n,e,r),t.elementType=mf,t.lanes=o,t;case _f:return t=nn(19,n,e,r),t.elementType=_f,t.lanes=o,t;case uE:return $c(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aE:l=10;break e;case lE:l=9;break e;case cm:l=11;break e;case hm:l=14;break e;case Pi:l=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=nn(l,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Cr(t,e,n,i){return t=nn(7,t,i,e),t.lanes=n,t}function $c(t,e,n,i){return t=nn(22,t,i,e),t.elementType=uE,t.lanes=n,t.stateNode={isHidden:!1},t}function Nd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Md(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K1(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function qm(t,e,n,i,r,o,l,u,h){return t=new K1(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(o),t}function Y1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function tS(t){if(!t)return Xi;t=t._reactInternals;e:{if(Yr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Bt(n))return eT(t,n,e)}return e}function nS(t,e,n,i,r,o,l,u,h){return t=qm(n,i,!0,t,r,o,l,u,h),t.context=tS(null),n=t.current,i=bt(),r=qi(n),o=oi(i,r),o.callback=e??null,$i(n,o,r),t.current.lanes=r,nl(t,r,i),zt(t,i),t}function Vc(t,e,n,i){var r=e.current,o=bt(),l=qi(r);return n=tS(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=$i(r,e,l),t!==null&&(En(t,r,l,o),fu(t,r,l)),l}function Ju(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function My(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zm(t,e){My(t,e),(t=t.alternate)&&My(t,e)}function Q1(){return null}var iS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gm(t){this._internalRoot=t}qc.prototype.render=Gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Vc(t,e,null,null)};qc.prototype.unmount=Gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mr(function(){Vc(null,t,null,null)}),e[hi]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=AE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&ME(t)}};function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dy(){}function J1(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Ju(l);o.call(f)}}var l=nS(e,i,t,0,null,!1,!1,"",Dy);return t._reactRootContainer=l,t[hi]=l.current,ba(t.nodeType===8?t.parentNode:t),Mr(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=Ju(h);u.call(f)}}var h=qm(t,0,!1,null,null,!1,!1,"",Dy);return t._reactRootContainer=h,t[hi]=h.current,ba(t.nodeType===8?t.parentNode:t),Mr(function(){Vc(e,h,n,i)}),h}function Gc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var l=o;if(typeof r=="function"){var u=r;r=function(){var h=Ju(l);u.call(h)}}Vc(e,l,t,r)}else l=J1(n,e,t,r,i);return Ju(l)}OE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jo(e.pendingLanes);n!==0&&(pm(e,n|1),zt(e,Ze()),!(ye&6)&&(Ys=Ze()+500,rr()))}break;case 13:Mr(function(){var i=di(t,1);if(i!==null){var r=bt();En(i,t,1,r)}}),Zm(t,1)}};mm=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=bt();En(e,t,134217728,n)}Zm(t,134217728)}};LE=function(t){if(t.tag===13){var e=qi(t),n=di(t,e);if(n!==null){var i=bt();En(n,t,e,i)}Zm(t,e)}};AE=function(){return Se};NE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Pf=function(t,e,n){switch(e){case"input":if(yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Uc(i);if(!r)throw Error(U(90));hE(i),yf(i,r)}}}break;case"textarea":fE(t,n);break;case"select":e=n.value,e!=null&&Os(t,!!n.multiple,e,!1)}};wE=Hm;EE=Mr;var X1={usingClientEntryPoint:!1,Events:[rl,Es,Uc,vE,yE,Hm]},zo={findFiberByHostInstance:_r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eR={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CE(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Q1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Nc=eu.inject(eR),jn=eu}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X1;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Km(e))throw Error(U(200));return Y1(t,e,null,n)};Gt.createRoot=function(t,e){if(!Km(t))throw Error(U(299));var n=!1,i="",r=iS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=qm(t,1,!1,null,null,n,!1,i,r),t[hi]=e.current,ba(t.nodeType===8?t.parentNode:t),new Gm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=CE(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Mr(t)};Gt.hydrate=function(t,e,n){if(!Zc(e))throw Error(U(200));return Gc(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!Km(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",l=iS;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=nS(e,null,t,1,n??null,r,!1,o,l),t[hi]=e.current,ba(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new qc(e)};Gt.render=function(t,e,n){if(!Zc(e))throw Error(U(200));return Gc(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!Zc(t))throw Error(U(40));return t._reactRootContainer?(Mr(function(){Gc(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Gt.unstable_batchedUpdates=Hm;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Zc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Gc(t,e,n,!1,i)};Gt.version="18.2.0-next-9e3b772b8-20220608";function rS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rS)}catch(t){console.error(t)}}rS(),nE.exports=Gt;var Ym=nE.exports,Fy=Ym;df.createRoot=Fy.createRoot,df.hydrateRoot=Fy.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fa.apply(this,arguments)}var Fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fi||(Fi={}));const Uy="popstate";function tR(t){t===void 0&&(t={});function e(r,o){let{pathname:l="/",search:u="",hash:h=""}=Qr(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),sp("",{pathname:l,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let l=r.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:sS(o))}function i(r,o){Kc(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return iR(e,n,i,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nR(){return Math.random().toString(36).substr(2,8)}function By(t,e){return{usr:t.state,key:t.key,idx:e}}function sp(t,e,n,i){return n===void 0&&(n=null),Fa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qr(e):e,{state:n,key:e&&e.key||i||nR()})}function sS(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Qr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function iR(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u=Fi.Pop,h=null,f=m();f==null&&(f=0,l.replaceState(Fa({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function _(){u=Fi.Pop;let A=m(),T=A==null?null:A-f;f=A,h&&h({action:u,location:C.location,delta:T})}function g(A,T){u=Fi.Push;let E=sp(C.location,A,T);n&&n(E,A),f=m()+1;let I=By(E,f),O=C.createHref(E);try{l.pushState(I,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(O)}o&&h&&h({action:u,location:C.location,delta:1})}function y(A,T){u=Fi.Replace;let E=sp(C.location,A,T);n&&n(E,A),f=m();let I=By(E,f),O=C.createHref(E);l.replaceState(I,"",O),o&&h&&h({action:u,location:C.location,delta:0})}function w(A){let T=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof A=="string"?A:sS(A);return et(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let C={get action(){return u},get location(){return t(r,l)},listen(A){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(Uy,_),h=A,()=>{r.removeEventListener(Uy,_),h=null}},createHref(A){return e(r,A)},createURL:w,encodeLocation(A){let T=w(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:y,go(A){return l.go(A)}};return C}var zy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zy||(zy={}));function rR(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Qr(e):e,r=lS(i.pathname||"/",n);if(r==null)return null;let o=oS(t);sR(o);let l=null;for(let u=0;l==null&&u<o.length;++u)l=pR(o[u],gR(r));return l}function oS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(et(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=Ir([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),oS(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:dR(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,l);else for(let h of aS(o.path))r(o,l,h)}),e}function aS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=aS(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function sR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const oR=/^:\w+$/,aR=3,lR=2,uR=1,cR=10,hR=-2,jy=t=>t==="*";function dR(t,e){let n=t.split("/"),i=n.length;return n.some(jy)&&(i+=hR),e&&(i+=lR),n.filter(r=>!jy(r)).reduce((r,o)=>r+(oR.test(o)?aR:o===""?uR:cR),i)}function fR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function pR(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=mR({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let _=u.route;o.push({params:i,pathname:Ir([r,m.pathname]),pathnameBase:SR(Ir([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=Ir([r,m.pathnameBase]))}return o}function mR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_R(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:g,isOptional:y}=m;if(g==="*"){let C=u[_]||"";l=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const w=u[_];return y&&!w?f[g]=void 0:f[g]=vR(w||"",g),f},{}),pathname:o,pathnameBase:l,pattern:t}}function _R(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Kc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function gR(t){try{return decodeURI(t)}catch(e){return Kc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vR(t,e){try{return decodeURIComponent(t)}catch(n){return Kc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function lS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function yR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Qr(t):t;return{pathname:n?n.startsWith("/")?n:wR(n,e):e,search:CR(i),hash:IR(r)}}function wR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Dd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ER(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TR(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Qr(t):(r=Fa({},t),et(!r.pathname||!r.pathname.includes("?"),Dd("?","pathname","search",r)),et(!r.pathname||!r.pathname.includes("#"),Dd("#","pathname","hash",r)),et(!r.search||!r.search.includes("#"),Dd("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(i||l==null)u=n;else{let _=e.length-1;if(l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),_-=1;r.pathname=g.join("/")}u=_>=0?e[_]:"/"}let h=yR(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const Ir=t=>t.join("/").replace(/\/\/+/g,"/"),SR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uS=["post","put","patch","delete"];new Set(uS);const xR=["get",...uS];new Set(xR);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xu.apply(this,arguments)}const Qm=N.createContext(null),bR=N.createContext(null),Yc=N.createContext(null),Qc=N.createContext(null),lo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),cS=N.createContext(null);function Jc(){return N.useContext(Qc)!=null}function hS(){return Jc()||et(!1),N.useContext(Qc).location}function dS(t){N.useContext(Yc).static||N.useLayoutEffect(t)}function Xc(){let{isDataRoute:t}=N.useContext(lo);return t?jR():kR()}function kR(){Jc()||et(!1);let t=N.useContext(Qm),{basename:e,navigator:n}=N.useContext(Yc),{matches:i}=N.useContext(lo),{pathname:r}=hS(),o=JSON.stringify(ER(i).map(h=>h.pathnameBase)),l=N.useRef(!1);return dS(()=>{l.current=!0}),N.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=TR(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ir([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}function RR(t,e){return OR(t,e)}function OR(t,e,n){Jc()||et(!1);let{navigator:i}=N.useContext(Yc),{matches:r}=N.useContext(lo),o=r[r.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=hS(),f;if(e){var m;let C=typeof e=="string"?Qr(e):e;u==="/"||(m=C.pathname)!=null&&m.startsWith(u)||et(!1),f=C}else f=h;let _=f.pathname||"/",g=u==="/"?_:_.slice(u.length)||"/",y=rR(t,{pathname:g}),w=DR(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Ir([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Ir([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),r,n);return e&&w?N.createElement(Qc.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Fi.Pop}},w):w}function LR(){let t=zR(),e=PR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,o)}const AR=N.createElement(LR,null);class NR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(lo.Provider,{value:this.props.routeContext},N.createElement(cS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MR(t){let{routeContext:e,match:n,children:i}=t,r=N.useContext(Qm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(lo.Provider,{value:e},i)}function DR(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id]));u>=0||et(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,f)=>{let m=h.route.id?l==null?void 0:l[h.route.id]:null,_=null;n&&(_=h.route.errorElement||AR);let g=e.concat(o.slice(0,f+1)),y=()=>{let w;return m?w=_:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,N.createElement(MR,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(NR,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var fS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fS||{}),ec=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ec||{});function FR(t){let e=N.useContext(Qm);return e||et(!1),e}function UR(t){let e=N.useContext(bR);return e||et(!1),e}function BR(t){let e=N.useContext(lo);return e||et(!1),e}function pS(t){let e=BR(),n=e.matches[e.matches.length-1];return n.route.id||et(!1),n.route.id}function zR(){var t;let e=N.useContext(cS),n=UR(ec.UseRouteError),i=pS(ec.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function jR(){let{router:t}=FR(fS.UseNavigateStable),e=pS(ec.UseNavigateStable),n=N.useRef(!1);return dS(()=>{n.current=!0}),N.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Xu({fromRouteId:e},o)))},[t,e])}function ms(t){et(!1)}function HR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Fi.Pop,navigator:o,static:l=!1}=t;Jc()&&et(!1);let u=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:o,static:l}),[u,o,l]);typeof i=="string"&&(i=Qr(i));let{pathname:f="/",search:m="",hash:_="",state:g=null,key:y="default"}=i,w=N.useMemo(()=>{let C=lS(f,u);return C==null?null:{location:{pathname:C,search:m,hash:_,state:g,key:y},navigationType:r}},[u,f,m,_,g,y,r]);return w==null?null:N.createElement(Yc.Provider,{value:h},N.createElement(Qc.Provider,{children:n,value:w}))}function WR(t){let{children:e,location:n}=t;return RR(op(e),n)}new Promise(()=>{});function op(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(i,r)=>{if(!N.isValidElement(i))return;let o=[...e,r];if(i.type===N.Fragment){n.push.apply(n,op(i.props.children,o));return}i.type!==ms&&et(!1),!i.props.index||!i.props.children||et(!1);let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=op(i.props.children,o)),n.push(l)}),n}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $R="startTransition",Hy=Vb[$R];function VR(t){let{basename:e,children:n,future:i,window:r}=t,o=N.useRef();o.current==null&&(o.current=tR({window:r,v5Compat:!0}));let l=o.current,[u,h]=N.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=N.useCallback(_=>{f&&Hy?Hy(()=>h(_)):h(_)},[h,f]);return N.useLayoutEffect(()=>l.listen(m),[l,m]),N.createElement(HR,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l})}var Wy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wy||(Wy={}));var $y;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($y||($y={}));function mS(t,e){return function(){return t.apply(e,arguments)}}const{toString:qR}=Object.prototype,{getPrototypeOf:Jm}=Object,eh=(t=>e=>{const n=qR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=t=>(t=t.toLowerCase(),e=>eh(e)===t),th=t=>e=>typeof e===t,{isArray:uo}=Array,Ua=th("undefined");function ZR(t){return t!==null&&!Ua(t)&&t.constructor!==null&&!Ua(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _S=Vn("ArrayBuffer");function GR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_S(t.buffer),e}const KR=th("string"),on=th("function"),gS=th("number"),nh=t=>t!==null&&typeof t=="object",YR=t=>t===!0||t===!1,wu=t=>{if(eh(t)!=="object")return!1;const e=Jm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},QR=Vn("Date"),JR=Vn("File"),XR=Vn("Blob"),eO=Vn("FileList"),tO=t=>nh(t)&&on(t.pipe),nO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=eh(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},iO=Vn("URLSearchParams"),rO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ol(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),uo(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(i=0;i<l;i++)u=o[i],e.call(null,t[u],u,t)}}function vS(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const yS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),wS=t=>!Ua(t)&&t!==yS;function ap(){const{caseless:t}=wS(this)&&this||{},e={},n=(i,r)=>{const o=t&&vS(e,r)||r;wu(e[o])&&wu(i)?e[o]=ap(e[o],i):wu(i)?e[o]=ap({},i):uo(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ol(arguments[i],n);return e}const sO=(t,e,n,{allOwnKeys:i}={})=>(ol(e,(r,o)=>{n&&on(r)?t[o]=mS(r,n):t[o]=r},{allOwnKeys:i}),t),oO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),aO=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lO=(t,e,n,i)=>{let r,o,l;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)l=r[o],(!i||i(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Jm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},uO=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},cO=t=>{if(!t)return null;if(uo(t))return t;let e=t.length;if(!gS(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},hO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jm(Uint8Array)),dO=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},fO=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},pO=Vn("HTMLFormElement"),mO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Vy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_O=Vn("RegExp"),ES=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ol(n,(r,o)=>{let l;(l=e(r,o,t))!==!1&&(i[o]=l||r)}),Object.defineProperties(t,i)},gO=t=>{ES(t,(e,n)=>{if(on(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(on(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vO=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return uo(t)?i(t):i(String(t).split(e)),n},yO=()=>{},wO=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Fd="abcdefghijklmnopqrstuvwxyz",qy="0123456789",TS={DIGIT:qy,ALPHA:Fd,ALPHA_DIGIT:Fd+Fd.toUpperCase()+qy},EO=(t=16,e=TS.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function TO(t){return!!(t&&on(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const SO=t=>{const e=new Array(10),n=(i,r)=>{if(nh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=uo(i)?[]:{};return ol(i,(l,u)=>{const h=n(l,r+1);!Ua(h)&&(o[u]=h)}),e[r]=void 0,o}}return i};return n(t,0)},CO=Vn("AsyncFunction"),IO=t=>t&&(nh(t)||on(t))&&on(t.then)&&on(t.catch),M={isArray:uo,isArrayBuffer:_S,isBuffer:ZR,isFormData:nO,isArrayBufferView:GR,isString:KR,isNumber:gS,isBoolean:YR,isObject:nh,isPlainObject:wu,isUndefined:Ua,isDate:QR,isFile:JR,isBlob:XR,isRegExp:_O,isFunction:on,isStream:tO,isURLSearchParams:iO,isTypedArray:hO,isFileList:eO,forEach:ol,merge:ap,extend:sO,trim:rO,stripBOM:oO,inherits:aO,toFlatObject:lO,kindOf:eh,kindOfTest:Vn,endsWith:uO,toArray:cO,forEachEntry:dO,matchAll:fO,isHTMLForm:pO,hasOwnProperty:Vy,hasOwnProp:Vy,reduceDescriptors:ES,freezeMethods:gO,toObjectSet:vO,toCamelCase:mO,noop:yO,toFiniteNumber:wO,findKey:vS,global:yS,isContextDefined:wS,ALPHABET:TS,generateString:EO,isSpecCompliantForm:TO,toJSONObject:SO,isAsyncFn:CO,isThenable:IO};function ge(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}M.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const SS=ge.prototype,CS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{CS[t]={value:t}});Object.defineProperties(ge,CS);Object.defineProperty(SS,"isAxiosError",{value:!0});ge.from=(t,e,n,i,r,o)=>{const l=Object.create(SS);return M.toFlatObject(t,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ge.call(l,t.message,e,n,i,r),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const PO=null;function lp(t){return M.isPlainObject(t)||M.isArray(t)}function IS(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function Zy(t,e,n){return t?t.concat(e).map(function(r,o){return r=IS(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function xO(t){return M.isArray(t)&&!t.some(lp)}const bO=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function ih(t,e,n){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,A){return!M.isUndefined(A[C])});const i=n.metaTokens,r=n.visitor||m,o=n.dots,l=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(M.isDate(w))return w.toISOString();if(!h&&M.isBlob(w))throw new ge("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(w)||M.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,C,A){let T=w;if(w&&!A&&typeof w=="object"){if(M.endsWith(C,"{}"))C=i?C:C.slice(0,-2),w=JSON.stringify(w);else if(M.isArray(w)&&xO(w)||(M.isFileList(w)||M.endsWith(C,"[]"))&&(T=M.toArray(w)))return C=IS(C),T.forEach(function(I,O){!(M.isUndefined(I)||I===null)&&e.append(l===!0?Zy([C],O,o):l===null?C:C+"[]",f(I))}),!1}return lp(w)?!0:(e.append(Zy(A,C,o),f(w)),!1)}const _=[],g=Object.assign(bO,{defaultVisitor:m,convertValue:f,isVisitable:lp});function y(w,C){if(!M.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+C.join("."));_.push(w),M.forEach(w,function(T,E){(!(M.isUndefined(T)||T===null)&&r.call(e,T,M.isString(E)?E.trim():E,C,g))===!0&&y(T,C?C.concat(E):[E])}),_.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Gy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Xm(t,e){this._pairs=[],t&&ih(t,this,e)}const PS=Xm.prototype;PS.append=function(e,n){this._pairs.push([e,n])};PS.toString=function(e){const n=e?function(i){return e.call(this,i,Gy)}:Gy;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function kO(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xS(t,e,n){if(!e)return t;const i=n&&n.encode||kO,r=n&&n.serialize;let o;if(r?o=r(e,n):o=M.isURLSearchParams(e)?e.toString():new Xm(e,n).toString(i),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class RO{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Ky=RO,bS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OO=typeof URLSearchParams<"u"?URLSearchParams:Xm,LO=typeof FormData<"u"?FormData:null,AO=typeof Blob<"u"?Blob:null,NO={isBrowser:!0,classes:{URLSearchParams:OO,FormData:LO,Blob:AO},protocols:["http","https","file","blob","url","data"]},kS=typeof window<"u"&&typeof document<"u",MO=(t=>kS&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),DO=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),FO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kS,hasStandardBrowserEnv:MO,hasStandardBrowserWebWorkerEnv:DO},Symbol.toStringTag,{value:"Module"})),Bn={...FO,...NO};function UO(t,e){return ih(t,new Bn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return Bn.isNode&&M.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function BO(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zO(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function RS(t){function e(n,i,r,o){let l=n[o++];const u=Number.isFinite(+l),h=o>=n.length;return l=!l&&M.isArray(r)?r.length:l,h?(M.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!u):((!r[l]||!M.isObject(r[l]))&&(r[l]=[]),e(n,i,r[l],o)&&M.isArray(r[l])&&(r[l]=zO(r[l])),!u)}if(M.isFormData(t)&&M.isFunction(t.entries)){const n={};return M.forEachEntry(t,(i,r)=>{e(BO(i),r,n,0)}),n}return null}function jO(t,e,n){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const e_={transitional:bS,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=M.isObject(e);if(o&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return r&&r?JSON.stringify(RS(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return UO(e,this.formSerializer).toString();if((u=M.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return ih(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),jO(e)):e}],transformResponse:[function(e){const n=this.transitional||e_.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&M.isString(e)&&(i&&!this.responseType||r)){const l=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?ge.from(u,ge.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{e_.headers[t]={}});const t_=e_,HO=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WO=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),n=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!n||e[n]&&HO[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Yy=Symbol("internals");function jo(t){return t&&String(t).trim().toLowerCase()}function Eu(t){return t===!1||t==null?t:M.isArray(t)?t.map(Eu):String(t)}function $O(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const VO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ud(t,e,n,i,r){if(M.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!M.isString(e)){if(M.isString(i))return e.indexOf(i)!==-1;if(M.isRegExp(i))return i.test(e)}}function qO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function ZO(t,e){const n=M.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,l){return this[i].call(this,e,r,o,l)},configurable:!0})})}class rh{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(u,h,f){const m=jo(h);if(!m)throw new Error("header name must be a non-empty string");const _=M.findKey(r,m);(!_||r[_]===void 0||f===!0||f===void 0&&r[_]!==!1)&&(r[_||h]=Eu(u))}const l=(u,h)=>M.forEach(u,(f,m)=>o(f,m,h));return M.isPlainObject(e)||e instanceof this.constructor?l(e,n):M.isString(e)&&(e=e.trim())&&!VO(e)?l(WO(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=jo(e),e){const i=M.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return $O(r);if(M.isFunction(n))return n.call(this,r,i);if(M.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=jo(e),e){const i=M.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Ud(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(l){if(l=jo(l),l){const u=M.findKey(i,l);u&&(!n||Ud(i,i[u],u,n))&&(delete i[u],r=!0)}}return M.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||Ud(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return M.forEach(this,(r,o)=>{const l=M.findKey(i,o);if(l){n[l]=Eu(r),delete n[o];return}const u=e?qO(o):String(o).trim();u!==o&&delete n[o],n[u]=Eu(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return M.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&M.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Yy]=this[Yy]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=jo(l);i[u]||(ZO(r,l),i[u]=!0)}return M.isArray(e)?e.forEach(o):o(e),this}}rh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(rh.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});M.freezeMethods(rh);const ai=rh;function Bd(t,e){const n=this||t_,i=e||n,r=ai.from(i.headers);let o=i.data;return M.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function OS(t){return!!(t&&t.__CANCEL__)}function al(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}M.inherits(al,ge,{__CANCEL__:!0});function GO(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const KO=Bn.hasStandardBrowserEnv?function(){return{write:function(n,i,r,o,l,u){const h=[];h.push(n+"="+encodeURIComponent(i)),M.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),M.isString(o)&&h.push("path="+o),M.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function YO(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function QO(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function LS(t,e){return t&&!YO(e)?QO(t,e):e}const JO=Bn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let l=o;return e&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(l){const u=M.isString(l)?r(l):l;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function XO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function eL(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];l||(l=f),n[r]=h,i[r]=f;let _=o,g=0;for(;_!==r;)g+=n[_++],_=_%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-l<e)return;const y=m&&f-m;return y?Math.round(g*1e3/y):void 0}}function Qy(t,e){let n=0;const i=eL(50,250);return r=>{const o=r.loaded,l=r.lengthComputable?r.total:void 0,u=o-n,h=i(u),f=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:r};m[e?"download":"upload"]=!0,t(m)}}const tL=typeof XMLHttpRequest<"u",nL=tL&&function(t){return new Promise(function(n,i){let r=t.data;const o=ai.from(t.headers).normalize(),l=t.responseType;let u;function h(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let f;if(M.isFormData(r)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[w,...C]=f?f.split(";").map(A=>A.trim()).filter(Boolean):[];o.setContentType([w||"multipart/form-data",...C].join("; "))}}let m=new XMLHttpRequest;if(t.auth){const w=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(w+":"+C))}const _=LS(t.baseURL,t.url);m.open(t.method.toUpperCase(),xS(_,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function g(){if(!m)return;const w=ai.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:w,config:t,request:m};GO(function(E){n(E),h()},function(E){i(E),h()},A),m=null}if("onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(i(new ge("Request aborted",ge.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new ge("Network Error",ge.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const A=t.transitional||bS;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new ge(C,A.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,m)),m=null},Bn.hasStandardBrowserEnv){const w=JO(_)&&t.xsrfCookieName&&KO.read(t.xsrfCookieName);w&&o.set(t.xsrfHeaderName,w)}r===void 0&&o.setContentType(null),"setRequestHeader"in m&&M.forEach(o.toJSON(),function(C,A){m.setRequestHeader(A,C)}),M.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),l&&l!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",Qy(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Qy(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=w=>{m&&(i(!w||w.type?new al(null,t,m):w),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const y=XO(_);if(y&&Bn.protocols.indexOf(y)===-1){i(new ge("Unsupported protocol "+y+":",ge.ERR_BAD_REQUEST,t));return}m.send(r||null)})},up={http:PO,xhr:nL};M.forEach(up,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Jy=t=>`- ${t}`,iL=t=>M.isFunction(t)||t===null||t===!1,AS={getAdapter:t=>{t=M.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let l;if(i=n,!iL(n)&&(i=up[(l=String(n)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${l}'`);if(i)break;r[l||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Jy).join(`
`):" "+Jy(o[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:up};function zd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new al(null,t)}function Xy(t){return zd(t),t.headers=ai.from(t.headers),t.data=Bd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),AS.getAdapter(t.adapter||t_.adapter)(t).then(function(i){return zd(t),i.data=Bd.call(t,t.transformResponse,i),i.headers=ai.from(i.headers),i},function(i){return OS(i)||(zd(t),i&&i.response&&(i.response.data=Bd.call(t,t.transformResponse,i.response),i.response.headers=ai.from(i.response.headers))),Promise.reject(i)})}const ew=t=>t instanceof ai?t.toJSON():t;function Qs(t,e){e=e||{};const n={};function i(f,m,_){return M.isPlainObject(f)&&M.isPlainObject(m)?M.merge.call({caseless:_},f,m):M.isPlainObject(m)?M.merge({},m):M.isArray(m)?m.slice():m}function r(f,m,_){if(M.isUndefined(m)){if(!M.isUndefined(f))return i(void 0,f,_)}else return i(f,m,_)}function o(f,m){if(!M.isUndefined(m))return i(void 0,m)}function l(f,m){if(M.isUndefined(m)){if(!M.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function u(f,m,_){if(_ in e)return i(f,m);if(_ in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,m)=>r(ew(f),ew(m),!0)};return M.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=h[m]||r,g=_(t[m],e[m],m);M.isUndefined(g)&&_!==u||(n[m]=g)}),n}const NS="1.6.1",n_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{n_[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const tw={};n_.transitional=function(e,n,i){function r(o,l){return"[Axios v"+NS+"] Transitional option '"+o+"'"+l+(i?". "+i:"")}return(o,l,u)=>{if(e===!1)throw new ge(r(l," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!tw[l]&&(tw[l]=!0,console.warn(r(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};function rL(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],l=e[o];if(l){const u=t[o],h=u===void 0||l(u,o,t);if(h!==!0)throw new ge("option "+o+" must be "+h,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const cp={assertOptions:rL,validators:n_},Ci=cp.validators;class tc{constructor(e){this.defaults=e,this.interceptors={request:new Ky,response:new Ky}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qs(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&cp.assertOptions(i,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),r!=null&&(M.isFunction(r)?n.paramsSerializer={serialize:r}:cp.assertOptions(r,{encode:Ci.function,serialize:Ci.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&M.merge(o.common,o[n.method]);o&&M.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=ai.concat(l,o);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let m,_=0,g;if(!h){const w=[Xy.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),g=w.length,m=Promise.resolve(n);_<g;)m=m.then(w[_++],w[_++]);return m}g=u.length;let y=n;for(_=0;_<g;){const w=u[_++],C=u[_++];try{y=w(y)}catch(A){C.call(this,A);break}}try{m=Xy.call(this,y)}catch(w){return Promise.reject(w)}for(_=0,g=f.length;_<g;)m=m.then(f[_++],f[_++]);return m}getUri(e){e=Qs(this.defaults,e);const n=LS(e.baseURL,e.url);return xS(n,e.params,e.paramsSerializer)}}M.forEach(["delete","get","head","options"],function(e){tc.prototype[e]=function(n,i){return this.request(Qs(i||{},{method:e,url:n,data:(i||{}).data}))}});M.forEach(["post","put","patch"],function(e){function n(i){return function(o,l,u){return this.request(Qs(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}tc.prototype[e]=n(),tc.prototype[e+"Form"]=n(!0)});const Tu=tc;class i_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{i.subscribe(u),o=u}).then(r);return l.cancel=function(){i.unsubscribe(o)},l},e(function(o,l,u){i.reason||(i.reason=new al(o,l,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new i_(function(r){e=r}),cancel:e}}}const sL=i_;function oL(t){return function(n){return t.apply(null,n)}}function aL(t){return M.isObject(t)&&t.isAxiosError===!0}const hp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hp).forEach(([t,e])=>{hp[e]=t});const lL=hp;function MS(t){const e=new Tu(t),n=mS(Tu.prototype.request,e);return M.extend(n,Tu.prototype,e,{allOwnKeys:!0}),M.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return MS(Qs(t,r))},n}const Qe=MS(t_);Qe.Axios=Tu;Qe.CanceledError=al;Qe.CancelToken=sL;Qe.isCancel=OS;Qe.VERSION=NS;Qe.toFormData=ih;Qe.AxiosError=ge;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=oL;Qe.isAxiosError=aL;Qe.mergeConfig=Qs;Qe.AxiosHeaders=ai;Qe.formToJSON=t=>RS(M.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=AS.getAdapter;Qe.HttpStatusCode=lL;Qe.default=Qe;const DS=Qe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw co(e)},co=function(t){return new Error("Firebase Database ("+FS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},uL=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,y=f&63;h||(y=64,l||(g=64)),i.push(n[m],n[_],n[g],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(US(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new cL;const g=o<<2|u>>4;if(i.push(g),f!==64){const y=u<<4&240|f>>2;if(i.push(y),_!==64){const w=f<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(t){const e=US(t);return r_.encodeByteArray(e,!0)},nc=function(t){return BS(t).replace(/\./g,"")},ic=function(t){try{return r_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){return zS(void 0,t)}function zS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!dL(n)||(t[n]=zS(t[n],e[n]));return t}function dL(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=()=>fL().__FIREBASE_DEFAULTS__,mL=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_L=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ic(t[1]);return e&&JSON.parse(e)},sh=()=>{try{return pL()||mL()||_L()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jS=t=>{var e,n;return(n=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HS=t=>{const e=jS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},WS=()=>{var t;return(t=sh())===null||t===void 0?void 0:t.config},$S=t=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[nc(JSON.stringify(n)),nc(JSON.stringify(l)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function gL(){var t;const e=(t=sh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vL(){const t=St();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GS(){return FS.NODE_ADMIN===!0}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function yL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="FirebaseError";class bn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=wL,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}}class Jr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?EL(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new bn(r,u,i)}}function EL(t,e){return t.replace(TL,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const TL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){return JSON.parse(t)}function at(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Ba(ic(o[0])||""),n=Ba(ic(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},SL=function(t){const e=QS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},CL=function(t){const e=QS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Js(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function dp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rc(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function za(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(nw(o)&&nw(l)){if(!za(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function nw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const g=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(g<<1|g>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],l=this.chain_[2],u=this.chain_[3],h=this.chain_[4],f,m;for(let _=0;_<80;_++){_<40?_<20?(f=u^o&(l^u),m=1518500249):(f=o^l^u,m=1859775393):_<60?(f=o&l|u&(o|l),m=2400959708):(f=o^l^u,m=3395469782);const g=(r<<5|r>>>27)+f+h+m+i[_]&4294967295;h=u,u=l,l=(o<<30|o>>>2)&4294967295,o=r,r=g}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let l=this.inbuf_;for(;r<n;){if(l===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[l]=e.charCodeAt(r),++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}else for(;r<n;)if(o[l]=e[r],++l,++r,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function PL(t,e){const n=new xL(t,e);return n.subscribe.bind(n)}class xL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");bL(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=jd),r.error===void 0&&(r.error=jd),r.complete===void 0&&(r.complete=jd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jd(){}function oh(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,j(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;r=65536+(o<<10)+l}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ah=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=1e3,OL=2,LL=4*60*60*1e3,AL=.5;function iw(t,e=RL,n=OL){const i=e*Math.pow(n,t),r=Math.round(AL*i*(Math.random()-.5)*2);return Math.min(LL,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class un{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ll;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DL(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ML(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ML(t){return t===fr?void 0:t}function DL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const UL={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},BL=Ce.INFO,zL={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},jL=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=zL[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lh{constructor(e){this.name=e,this._logLevel=BL,this._logHandler=jL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const HL=(t,e)=>e.some(n=>t instanceof n);let rw,sw;function WL(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $L(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,fp=new WeakMap,XS=new WeakMap,Hd=new WeakMap,o_=new WeakMap;function VL(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Gi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),o_.set(e,t),e}function qL(t){if(fp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});fp.set(t,e)}let pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZL(t){pp=t(pp)}function GL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Wd(this),e,...n);return XS.set(i,e.sort?e.sort():[e]),Gi(i)}:$L().includes(t)?function(...e){return t.apply(Wd(this),e),Gi(JS.get(this))}:function(...e){return Gi(t.apply(Wd(this),e))}}function KL(t){return typeof t=="function"?GL(t):(t instanceof IDBTransaction&&qL(t),HL(t,WL())?new Proxy(t,pp):t)}function Gi(t){if(t instanceof IDBRequest)return VL(t);if(Hd.has(t))return Hd.get(t);const e=KL(t);return e!==t&&(Hd.set(t,e),o_.set(e,t)),e}const Wd=t=>o_.get(t);function YL(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Gi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Gi(l.result),h.oldVersion,h.newVersion,Gi(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const QL=["get","getKey","getAll","getAllKeys","count"],JL=["put","add","delete","clear"],$d=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($d.get(e))return $d.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=JL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||QL.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return $d.set(e,o),o}ZL(t=>({...t,get:(e,n,i)=>ow(e,n)||t.get(e,n,i),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function eA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",aw="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new lh("@firebase/app"),tA="@firebase/app-compat",nA="@firebase/analytics-compat",iA="@firebase/analytics",rA="@firebase/app-check-compat",sA="@firebase/app-check",oA="@firebase/auth",aA="@firebase/auth-compat",lA="@firebase/database",uA="@firebase/database-compat",cA="@firebase/functions",hA="@firebase/functions-compat",dA="@firebase/installations",fA="@firebase/installations-compat",pA="@firebase/messaging",mA="@firebase/messaging-compat",_A="@firebase/performance",gA="@firebase/performance-compat",vA="@firebase/remote-config",yA="@firebase/remote-config-compat",wA="@firebase/storage",EA="@firebase/storage-compat",TA="@firebase/firestore",SA="@firebase/firestore-compat",CA="firebase",IA="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",PA={[mp]:"fire-core",[tA]:"fire-core-compat",[iA]:"fire-analytics",[nA]:"fire-analytics-compat",[sA]:"fire-app-check",[rA]:"fire-app-check-compat",[oA]:"fire-auth",[aA]:"fire-auth-compat",[lA]:"fire-rtdb",[uA]:"fire-rtdb-compat",[cA]:"fire-fn",[hA]:"fire-fn-compat",[dA]:"fire-iid",[fA]:"fire-iid-compat",[pA]:"fire-fcm",[mA]:"fire-fcm-compat",[_A]:"fire-perf",[gA]:"fire-perf-compat",[vA]:"fire-rc",[yA]:"fire-rc-compat",[wA]:"fire-gcs",[EA]:"fire-gcs-compat",[TA]:"fire-fst",[SA]:"fire-fst-compat","fire-js":"fire-js",[CA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,gp=new Map;function xA(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function In(t){const e=t.name;if(gp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,t);for(const n of sc.values())xA(n,t);return!0}function sr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ki=new Jr("app","Firebase",bA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=IA;function eC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_p,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ki.create("bad-app-name",{appName:String(r)});if(n||(n=WS()),!n)throw Ki.create("no-options");const o=sc.get(r);if(o){if(za(n,o.options)&&za(i,o.config))return o;throw Ki.create("duplicate-app",{appName:r})}const l=new FL(r);for(const h of gp.values())l.addComponent(h);const u=new kA(n,i,l);return sc.set(r,u),u}function uh(t=_p){const e=sc.get(t);if(!e&&t===_p&&WS())return eC();if(!e)throw Ki.create("no-app",{appName:t});return e}function jt(t,e,n){var i;let r=(i=PA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(u.join(" "));return}In(new un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebase-heartbeat-database",OA=1,ja="firebase-heartbeat-store";let Vd=null;function tC(){return Vd||(Vd=YL(RA,OA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ja)}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Vd}async function LA(t){try{return await(await tC()).transaction(ja).objectStore(ja).get(nC(t))}catch(e){if(e instanceof bn)Dr.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function lw(t,e){try{const i=(await tC()).transaction(ja,"readwrite");await i.objectStore(ja).put(e,nC(t)),await i.done}catch(n){if(n instanceof bn)Dr.warn(n.message);else{const i=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(i.message)}}}function nC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=1024,NA=30*24*60*60*1e3;class MA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FA(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=NA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uw(),{heartbeatsToSend:i,unsentEntries:r}=DA(this._heartbeatsCache.heartbeats),o=nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function uw(){return new Date().toISOString().substring(0,10)}function DA(t,e=AA){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),cw(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),cw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class FA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cw(t){return nc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){In(new un("platform-logger",e=>new XL(e),"PRIVATE")),In(new un("heartbeat",e=>new MA(e),"PRIVATE")),jt(mp,aw,t),jt(mp,aw,"esm2017"),jt("fire-js","")}UA("");var BA="firebase",zA="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt(BA,zA,"app");const jA=(t,e)=>e.some(n=>t instanceof n);let hw,dw;function HA(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return dw||(dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iC=new WeakMap,vp=new WeakMap,rC=new WeakMap,qd=new WeakMap,a_=new WeakMap;function $A(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Yi(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&iC.set(n,t)}).catch(()=>{}),a_.set(e,t),e}function VA(t){if(vp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});vp.set(t,e)}let yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qA(t){yp=t(yp)}function ZA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zd(this),e,...n);return rC.set(i,e.sort?e.sort():[e]),Yi(i)}:WA().includes(t)?function(...e){return t.apply(Zd(this),e),Yi(iC.get(this))}:function(...e){return Yi(t.apply(Zd(this),e))}}function GA(t){return typeof t=="function"?ZA(t):(t instanceof IDBTransaction&&VA(t),jA(t,HA())?new Proxy(t,yp):t)}function Yi(t){if(t instanceof IDBRequest)return $A(t);if(qd.has(t))return qd.get(t);const e=GA(t);return e!==t&&(qd.set(t,e),a_.set(e,t)),e}const Zd=t=>a_.get(t);function KA(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Yi(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Yi(l.result),h.oldVersion,h.newVersion,Yi(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}const YA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],Gd=new Map;function fw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=QA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||YA.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Gd.set(e,o),o}qA(t=>({...t,get:(e,n,i)=>fw(e,n)||t.get(e,n,i),has:(e,n)=>!!fw(e,n)||t.has(e,n)}));const sC="@firebase/installations",l_="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e4,aC=`w:${l_}`,lC="FIS_v2",JA="https://firebaseinstallations.googleapis.com/v1",XA=60*60*1e3,eN="installations",tN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fr=new Jr(eN,tN,nN);function uC(t){return t instanceof bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC({projectId:t}){return`${JA}/projects/${t}/installations`}function hC(t){return{token:t.token,requestStatus:2,expiresIn:rN(t.expiresIn),creationTime:Date.now()}}async function dC(t,e){const i=(await e.json()).error;return Fr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function fC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iN(t,{refreshToken:e}){const n=fC(t);return n.append("Authorization",sN(e)),n}async function pC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function rN(t){return Number(t.replace("s","000"))}function sN(t){return`${lC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=cC(t),r=fC(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={fid:n,authVersion:lC,appId:t.appId,sdkVersion:aC},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await pC(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:hC(f.authToken)}}else throw await dC("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=/^[cdef][\w-]{21}$/,wp="";function uN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=cN(t);return lN.test(n)?n:wp}catch{return wp}}function cN(t){return aN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map;function gC(t,e){const n=ch(t);vC(n,e),hN(n,e)}function vC(t,e){const n=_C.get(t);if(n)for(const i of n)i(e)}function hN(t,e){const n=dN();n&&n.postMessage({key:t,fid:e}),fN()}let yr=null;function dN(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=t=>{vC(t.data.key,t.data.fid)}),yr}function fN(){_C.size===0&&yr&&(yr.close(),yr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="firebase-installations-database",mN=1,Ur="firebase-installations-store";let Kd=null;function u_(){return Kd||(Kd=KA(pN,mN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ur)}}})),Kd}async function oc(t,e){const n=ch(t),r=(await u_()).transaction(Ur,"readwrite"),o=r.objectStore(Ur),l=await o.get(n);return await o.put(e,n),await r.done,(!l||l.fid!==e.fid)&&gC(t,e.fid),e}async function yC(t){const e=ch(t),i=(await u_()).transaction(Ur,"readwrite");await i.objectStore(Ur).delete(e),await i.done}async function hh(t,e){const n=ch(t),r=(await u_()).transaction(Ur,"readwrite"),o=r.objectStore(Ur),l=await o.get(n),u=e(l);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!l||l.fid!==u.fid)&&gC(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t){let e;const n=await hh(t.appConfig,i=>{const r=_N(i),o=gN(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===wp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _N(t){const e=t||{fid:uN(),registrationStatus:0};return wC(e)}function gN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Fr.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=vN(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:yN(t)}:{installationEntry:e}}async function vN(t,e){try{const n=await oN(t,e);return oc(t.appConfig,n)}catch(n){throw uC(n)&&n.customData.serverCode===409?await yC(t.appConfig):await oc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function yN(t){let e=await pw(t.appConfig);for(;e.registrationStatus===1;)await mC(100),e=await pw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await c_(t);return i||n}return e}function pw(t){return hh(t,e=>{if(!e)throw Fr.create("installation-not-found");return wC(e)})}function wC(t){return wN(t)?{fid:t.fid,registrationStatus:0}:t}function wN(t){return t.registrationStatus===1&&t.registrationTime+oC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN({appConfig:t,heartbeatServiceProvider:e},n){const i=TN(t,n),r=iN(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const l={installation:{sdkVersion:aC,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(l)},h=await pC(()=>fetch(i,u));if(h.ok){const f=await h.json();return hC(f)}else throw await dC("Generate Auth Token",h)}function TN(t,{fid:e}){return`${cC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h_(t,e=!1){let n;const i=await hh(t.appConfig,o=>{if(!EC(o))throw Fr.create("not-registered");const l=o.authToken;if(!e&&IN(l))return o;if(l.requestStatus===1)return n=SN(t,e),o;{if(!navigator.onLine)throw Fr.create("app-offline");const u=xN(o);return n=CN(t,u),u}});return n?await n:i.authToken}async function SN(t,e){let n=await mw(t.appConfig);for(;n.authToken.requestStatus===1;)await mC(100),n=await mw(t.appConfig);const i=n.authToken;return i.requestStatus===0?h_(t,e):i}function mw(t){return hh(t,e=>{if(!EC(e))throw Fr.create("not-registered");const n=e.authToken;return bN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function CN(t,e){try{const n=await EN(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await oc(t.appConfig,i),n}catch(n){if(uC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await yC(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await oc(t.appConfig,i)}throw n}}function EC(t){return t!==void 0&&t.registrationStatus===2}function IN(t){return t.requestStatus===2&&!PN(t)}function PN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XA}function xN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function bN(t){return t.requestStatus===1&&t.requestTime+oC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t){const e=t,{installationEntry:n,registrationPromise:i}=await c_(e);return i?i.catch(console.error):h_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e=!1){const n=t;return await ON(n),(await h_(n,e)).token}async function ON(t){const{registrationPromise:e}=await c_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){if(!t||!t.options)throw Yd("App Configuration");if(!t.name)throw Yd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yd(t){return Fr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="installations",AN="installations-internal",NN=t=>{const e=t.getProvider("app").getImmediate(),n=LN(e),i=sr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},MN=t=>{const e=t.getProvider("app").getImmediate(),n=sr(e,TC).getImmediate();return{getId:()=>kN(n),getToken:r=>RN(n,r)}};function DN(){In(new un(TC,NN,"PUBLIC")),In(new un(AN,MN,"PRIVATE"))}DN();jt(sC,l_);jt(sC,l_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="analytics",FN="firebase_id",UN="origin",BN=60*1e3,zN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",d_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht=new lh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new Jr("analytics","Analytics",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){if(!t.startsWith(d_)){const e=qt.create("invalid-gtag-resource",{gtagURL:t});return Ht.warn(e.message),""}return t}function SC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function WN(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $N(t,e){const n=WN("firebase-js-sdk-policy",{createScriptURL:HN}),i=document.createElement("script"),r=`${d_}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function VN(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function qN(t,e,n,i,r,o){const l=i[r];try{if(l)await e[l];else{const h=(await SC(n)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){Ht.error(u)}t("config",r,o)}async function ZN(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const u=await SC(n);for(const h of l){const f=u.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Ht.error(o)}}function GN(t,e,n,i){async function r(o,...l){try{if(o==="event"){const[u,h]=l;await ZN(t,e,n,u,h)}else if(o==="config"){const[u,h]=l;await qN(t,e,n,i,u,h)}else if(o==="consent"){const[u]=l;t("consent","update",u)}else if(o==="get"){const[u,h,f]=l;t("get",u,h,f)}else if(o==="set"){const[u]=l;t("set",u)}else t(o,...l)}catch(u){Ht.error(u)}}return r}function KN(t,e,n,i,r){let o=function(...l){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=GN(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function YN(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(d_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=30,JN=1e3;class XN{constructor(e={},n=JN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const CC=new XN;function eM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tM(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:eM(i)},o=zN.replace("{app-id}",n),l=await fetch(o,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function nM(t,e=CC,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw qt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw qt.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new sM;return setTimeout(async()=>{u.abort()},n!==void 0?n:BN),IC({appId:i,apiKey:r,measurementId:o},l,u,e)}async function IC(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=CC){var o;const{appId:l,measurementId:u}=t;try{await iM(i,e)}catch(h){if(u)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:u};throw h}try{const h=await tM(t);return r.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!rM(f)){if(r.deleteThrottleMetadata(l),u)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:u};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?iw(n,r.intervalMillis,QN):iw(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(l,_),Ht.debug(`Calling attemptFetch again in ${m} millis`),IC(t,_,i,r)}}function iM(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function rM(t){if(!(t instanceof bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class sM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oM(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,l=Object.assign(Object.assign({},i),{send_to:o});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(){if(KS())try{await YS()}catch(t){return Ht.warn(qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ht.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lM(t,e,n,i,r,o,l){var u;const h=nM(t);h.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Ht.error(y)),e.push(h);const f=aM().then(y=>{if(y)return i.getId()}),[m,_]=await Promise.all([h,f]);YN(o)||$N(o,m.measurementId),r("js",new Date);const g=(u=l==null?void 0:l.config)!==null&&u!==void 0?u:{};return g[UN]="firebase",g.update=!0,_!=null&&(g[FN]=_),r("config",m.measurementId,g),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e){this.app=e}_delete(){return delete ha[this.app.options.appId],Promise.resolve()}}let ha={},_w=[];const gw={};let Qd="dataLayer",cM="gtag",vw,PC,yw=!1;function hM(){const t=[];if(qS()&&t.push("This is a browser extension environment."),yL()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:e});Ht.warn(n.message)}}function dM(t,e,n){hM();const i=t.options.appId;if(!i)throw qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(ha[i]!=null)throw qt.create("already-exists",{id:i});if(!yw){VN(Qd);const{wrappedGtag:o,gtagCore:l}=KN(ha,_w,gw,Qd,cM);PC=o,vw=l,yw=!0}return ha[i]=lM(t,_w,gw,e,vw,Qd,n),new uM(t)}function fM(t=uh()){t=$e(t);const e=sr(t,ac);return e.isInitialized()?e.getImmediate():pM(t)}function pM(t,e={}){const n=sr(t,ac);if(n.isInitialized()){const r=n.getImmediate();if(za(e,n.getOptions()))return r;throw qt.create("already-initialized")}return n.initialize({options:e})}function mM(t,e,n,i){t=$e(t),oM(PC,ha[t.app.options.appId],e,n,i).catch(r=>Ht.error(r))}const ww="@firebase/analytics",Ew="0.10.0";function _M(){In(new un(ac,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return dM(i,r,n)},"PUBLIC")),In(new un("analytics-internal",t,"PRIVATE")),jt(ww,Ew),jt(ww,Ew,"esm2017");function t(e){try{const n=e.getProvider(ac).getImmediate();return{logEvent:(i,r,o)=>mM(n,i,r,o)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}}}_M();const Tw="@firebase/database",Sw="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xC="";function gM(t){xC=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),at(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ba(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vM(e)}}catch{}return new yM},wr=bC("localStorage"),Ep=bC("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new lh("@firebase/database"),wM=function(){let t=1;return function(){return t++}}(),kC=function(t){const e=kL(t),n=new IL;n.update(e);const i=n.digest();return r_.encodeByteArray(i)},ul=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ul.apply(null,i):typeof i=="object"?e+=at(i):e+=i,e+=" "}return e};let Pr=null,Cw=!0;const EM=function(t,e){j(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fs.logLevel=Ce.VERBOSE,Pr=Fs.log.bind(Fs),e&&Ep.set("logging_enabled",!0)):typeof t=="function"?Pr=t:(Pr=null,Ep.remove("logging_enabled"))},dt=function(...t){if(Cw===!0&&(Cw=!1,Pr===null&&Ep.get("logging_enabled")===!0&&EM(!0)),Pr){const e=ul.apply(null,t);Pr(e)}},cl=function(t){return function(...e){dt(t,...e)}},Tp=function(...t){const e="FIREBASE INTERNAL ERROR: "+ul(...t);Fs.error(e)},pi=function(...t){const e=`FIREBASE FATAL ERROR: ${ul(...t)}`;throw Fs.error(e),new Error(e)},kt=function(...t){const e="FIREBASE WARNING: "+ul(...t);Fs.warn(e)},TM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},f_=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},SM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xs="[MIN_NAME]",Br="[MAX_NAME]",es=function(t,e){if(t===e)return 0;if(t===Xs||e===Br)return-1;if(e===Xs||t===Br)return 1;{const n=Iw(t),i=Iw(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},CM=function(t,e){return t===e?0:t<e?-1:1},Ho=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+at(e))},p_=function(t){if(typeof t!="object"||t===null)return at(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=at(e[i]),n+=":",n+=p_(t[e[i]]);return n+="}",n},RC=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const OC=function(t){j(!f_(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,l,u,h;t===0?(o=0,l=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=u+i,l=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const m=f.join("");let _="";for(h=0;h<64;h+=8){let g=parseInt(m.substr(h,8),2).toString(16);g.length===1&&(g="0"+g),_=_+g}return _.toLowerCase()},IM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},PM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const bM=new RegExp("^-?(0*)\\d{1,10}$"),kM=-2147483648,RM=2147483647,Iw=function(t){if(bM.test(t)){const e=Number(t);if(e>=kM&&e<=RM)return e}return null},fo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw kt("Exception was thrown by user callback.",n),e},Math.floor(0))}},OM=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},da=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(e)}}class Us{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Us.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="5",LC="v",AC="s",NC="r",MC="f",DC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,FC="ls",UC="p",Sp="ac",BC="websocket",zC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,i,r,o=!1,l="",u=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NM(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function HC(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let i;if(e===BC)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===zC)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NM(t)&&(n.ns=t.namespace);const r=[];return mt(n,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.counters_={}}incrementCounter(e,n=1){qn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return hL(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd={},Xd={};function __(t){const e=t.toString();return Jd[e]||(Jd[e]=new MM),Jd[e]}function DM(t,e){const n=t.toString();return Xd[n]||(Xd[n]=e()),Xd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&fo(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="start",UM="close",BM="pLPCommand",zM="pRTLPCB",WC="id",$C="pw",VC="ser",jM="cb",HM="seg",WM="ts",$M="d",VM="dframe",qC=1870,ZC=30,qM=qC-ZC,ZM=25e3,GM=3e4;class bs{constructor(e,n,i,r,o,l,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cl(e),this.stats_=__(n),this.urlFn=h=>(this.appCheckToken&&(h[Sp]=this.appCheckToken),HC(n,zC,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new FM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(GM)),SM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new g_((...o)=>{const[l,u,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Pw)this.id=u,this.password=h;else if(l===UM)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[Pw]="t",i[VC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[jM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[LC]=m_,this.transportSessionId&&(i[AC]=this.transportSessionId),this.lastSessionId&&(i[FC]=this.lastSessionId),this.applicationId&&(i[UC]=this.applicationId),this.appCheckToken&&(i[Sp]=this.appCheckToken),typeof location<"u"&&location.hostname&&DC.test(location.hostname)&&(i[NC]=MC);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return bs.forceAllow_?!0:!bs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!IM()&&!PM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=BS(n),r=RC(i,qM);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[VM]="t",i[WC]=e,i[$C]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=at(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class g_{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wM(),window[BM+this.uniqueCallbackIdentifier]=e,window[zM+this.uniqueCallbackIdentifier]=n,this.myIFrame=g_.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){dt("frame writing exception"),u.stack&&dt(u.stack),dt(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[WC]=this.myID,e[$C]=this.myPW,e[VC]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ZC+i.length<=qC;){const l=this.pendingSegs.shift();i=i+"&"+HM+r+"="+l.seg+"&"+WM+r+"="+l.ts+"&"+$M+r+"="+l.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(ZM)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=16384,YM=45e3;let lc=null;typeof MozWebSocket<"u"?lc=MozWebSocket:typeof WebSocket<"u"&&(lc=WebSocket);class gn{constructor(e,n,i,r,o,l,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cl(this.connId),this.stats_=__(n),this.connURL=gn.connectionURL_(n,l,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const l={};return l[LC]=m_,typeof location<"u"&&location.hostname&&DC.test(location.hostname)&&(l[NC]=MC),n&&(l[AC]=n),i&&(l[FC]=i),r&&(l[Sp]=r),o&&(l[UC]=o),HC(e,BC,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wr.set("previous_websocket_failure",!0);try{let i;GS(),this.mySock=new lc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){gn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&lc!==null&&!gn.forceDisallow_}static previouslyFailed(){return wr.isInMemoryStorage||wr.get("previous_websocket_failure")===!0}markConnectionHealthy(){wr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Ba(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=RC(n,KM);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}gn.responsesRequiredToBeHealthy=2;gn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bs,gn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=gn&&gn.isAvailable();let i=n&&!gn.previouslyFailed();if(e.webSocketOnly&&(n||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[gn];else{const r=this.transports_=[];for(const o of Ha.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Ha.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ha.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=6e4,JM=5e3,XM=10*1024,eD=100*1024,ef="t",xw="d",tD="s",bw="r",nD="e",kw="o",Rw="a",Ow="n",Lw="p",iD="h";class rD{constructor(e,n,i,r,o,l,u,h,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cl("c:"+this.id+":"),this.transportManager_=new Ha(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=da(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ef in e){const n=e[ef];n===Rw?this.upgradeIfSecondaryHealthy_():n===bw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ho("t",e),i=Ho("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Lw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Rw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ow,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ho("t",e),i=Ho("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ho(ef,e);if(xw in e){const i=e[xw];if(n===iD){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Ow){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tD?this.onConnectionShutdown_(i):n===bw?this.onReset_(i):n===nD?Tp("Server Error: "+i):n===kw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),m_!==i&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),da(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(QM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):da(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(JM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Lw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends KC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!s_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new uc}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=32,Nw=768;class Ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Ie("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function er(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function v_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Wa(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function YC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ie)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ie(n,0)}function fe(t){return t.pieceNum_>=t.pieces_.length}function Dt(t,e){const n=he(t),i=he(e);if(n===null)return e;if(n===i)return Dt(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function oD(t,e){const n=Wa(t,0),i=Wa(e,0);for(let r=0;r<n.length&&r<i.length;r++){const o=es(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function y_(t,e){if(er(t)!==er(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function rn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(er(t)>er(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class aD{constructor(e,n){this.errorPrefix_=n,this.parts_=Wa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ah(this.parts_[i]);QC(this)}}function lD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ah(e),QC(t)}function uD(t){const e=t.parts_.pop();t.byteLength_-=ah(e),t.parts_.length>0&&(t.byteLength_-=1)}function QC(t){if(t.byteLength_>Nw)throw new Error(t.errorPrefix_+"has a key path longer than "+Nw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Aw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Aw+") or object contains a cycle "+pr(t))}function pr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends KC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new w_}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=1e3,cD=60*5*1e3,Mw=30*1e3,hD=1.3,dD=3e4,fD="server_kill",Dw=3;class li extends GC{constructor(e,n,i,r,o,l,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=li.nextPersistentConnectionId_++,this.log_=cl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wo,this.maxReconnectDelay_=cD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!GS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");w_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&uc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(at(o)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new ll,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const u=l.d;l.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(l).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,u=>{const h=u.d,f=u.s;li.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qn(e,"w")){const i=Js(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||CL(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Mw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=SL(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,l=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";r&&(o.q=i,o.t=r),this.sendRequest(l,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{r&&setTimeout(()=>{r(l.s,l.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const l={p:n,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+at(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Tp("Unrecognized action received from server: "+at(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dD&&(this.reconnectDelay_=Wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+li.nextConnectionId_++,o=this.lastSessionId;let l=!1,u=null;const h=function(){u?u.close():(l=!0,i())},f=function(_){j(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,g]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);l?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=g&&g.token,u=new rD(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,y=>{kt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(fD)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&kt(_),h())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],dp(this.interruptReasons_)&&(this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>p_(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Ie(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dw&&(this.reconnectDelay_=Mw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+xC.replace(/\./g,"-")]=1,s_()?e["framework.cordova"]=1:ZS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uc.getInstance().currentlyOnline();return dp(this.interruptReasons_)&&e}}li.nextPersistentConnectionId_=0;li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new de(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new de(Xs,e),r=new de(Xs,n);return this.compare(i,r)!==0}minPost(){return de.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu;class JC extends dh{static get __EMPTY_NODE(){return tu}static set __EMPTY_NODE(e){tu=e}compare(e,n){return es(e.name,n.name)}isDefinedOn(e){throw co("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return de.MIN}maxPost(){return new de(Br,tu)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new de(e,tu)}toString(){return".key"}}const Bs=new JC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,r&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??rt.RED,this.left=r??Ft.EMPTY_NODE,this.right=o??Ft.EMPTY_NODE}copy(e,n,i,r,o){return new rt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class pD{copy(e,n,i,r,o){return this}insert(e,n,i){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ft{constructor(e,n=Ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new Ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new nu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new nu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new nu(this.root_,null,this.comparator_,!0,e)}}Ft.EMPTY_NODE=new pD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e){return es(t.name,e.name)}function E_(t,e){return es(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cp;function _D(t){Cp=t}const XC=function(t){return typeof t=="number"?"number:"+OC(t):"string:"+t},eI=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qn(e,".sv"),"Priority must be a string or number.")}else j(t===Cp||t.isEmpty(),"priority of unexpected type.");j(t===Cp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw;class nt{constructor(e,n=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eI(this.priorityNode_)}static set __childrenNodeConstructor(e){Fw=e}static get __childrenNodeConstructor(){return Fw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return fe(e)?this:he(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=he(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(j(i!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+XC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=OC(this.value_):e+=this.value_,this.lazyHash_=kC(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=nt.VALUE_TYPE_ORDER.indexOf(n),o=nt.VALUE_TYPE_ORDER.indexOf(i);return j(r>=0,"Unknown leaf type: "+n),j(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tI,nI;function gD(t){tI=t}function vD(t){nI=t}class yD extends dh{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?es(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return de.MIN}maxPost(){return new de(Br,new nt("[PRIORITY-POST]",nI))}makePost(e,n){const i=tI(e);return new de(n,new nt("[PRIORITY-POST]",i))}toString(){return".priority"}}const He=new yD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=Math.log(2);class ED{constructor(e){const n=o=>parseInt(Math.log(o)/wD,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cc=function(t,e,n,i){t.sort(e);const r=function(h,f){const m=f-h;let _,g;if(m===0)return null;if(m===1)return _=t[h],g=n?n(_):_,new rt(g,_.node,rt.BLACK,null,null);{const y=parseInt(m/2,10)+h,w=r(h,y),C=r(y+1,f);return _=t[y],g=n?n(_):_,new rt(g,_.node,rt.BLACK,w,C)}},o=function(h){let f=null,m=null,_=t.length;const g=function(w,C){const A=_-w,T=_;_-=w;const E=r(A+1,T),I=t[A],O=n?n(I):I;y(new rt(O,I.node,C,null,E))},y=function(w){f?(f.left=w,f=w):(m=w,f=w)};for(let w=0;w<h.count;++w){const C=h.nextBitIsOne(),A=Math.pow(2,h.count-(w+1));C?g(A,rt.BLACK):(g(A,rt.BLACK),g(A,rt.RED))}return m},l=new ED(t.length),u=o(l);return new Ft(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf;const fs={};class ni{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j(fs&&He,"ChildrenNode.ts has not been loaded"),tf=tf||new ni({".priority":fs},{".priority":He}),tf}get(e){const n=Js(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return qn(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Bs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(de.Wrap);let l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let u;r?u=cc(i,e.getCompare()):u=fs;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const m=Object.assign({},this.indexes_);return m[h]=u,new ni(m,f)}addToIndexes(e,n){const i=rc(this.indexes_,(r,o)=>{const l=Js(this.indexSet_,o);if(j(l,"Missing index implementation for "+o),r===fs)if(l.isDefinedOn(e.node)){const u=[],h=n.getIterator(de.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&u.push(f),f=h.getNext();return u.push(e),cc(u,l.getCompare())}else return fs;else{const u=n.get(e.name);let h=r;return u&&(h=h.remove(new de(e.name,u))),h.insert(e,e.node)}});return new ni(i,this.indexSet_)}removeFromIndexes(e,n){const i=rc(this.indexes_,r=>{if(r===fs)return r;{const o=n.get(e.name);return o?r.remove(new de(e.name,o)):r}});return new ni(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class ee{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&eI(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $o||($o=new ee(new Ft(E_),null,ni.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new ee(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$o:n}}getChild(e){const n=he(e);return n===null?this:this.getImmediateChild(n).getChild(ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new de(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const l=r.isEmpty()?$o:this.priorityNode_;return new ee(r,l,o)}}updateChild(e,n){const i=he(e);if(i===null)return n;{j(he(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ke(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(He,(l,u)=>{n[l]=u.val(e),i++,o&&ee.INTEGER_REGEXP_.test(l)?r=Math.max(r,Number(l)):o=!1}),!e&&o&&r<2*i){const l=[];for(const u in n)l[u]=n[u];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+XC(this.getPriority().val())+":"),this.forEachChild(He,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":kC(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new de(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new de(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new de(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,de.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,de.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hl?-1:0}withIndex(e){if(e===Bs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ee(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Bs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(He),r=n.getIterator(He);let o=i.getNext(),l=r.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=r.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Bs?null:this.indexMap_.get(e.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TD extends ee{constructor(){super(new Ft(E_),ee.EMPTY_NODE,ni.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}}const hl=new TD;Object.defineProperties(de,{MIN:{value:new de(Xs,ee.EMPTY_NODE)},MAX:{value:new de(Br,hl)}});JC.__EMPTY_NODE=ee.EMPTY_NODE;nt.__childrenNodeConstructor=ee;_D(hl);vD(hl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=!0;function ot(t,e=null){if(t===null)return ee.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new nt(n,ot(e))}if(!(t instanceof Array)&&SD){const n=[];let i=!1;if(mt(t,(l,u)=>{if(l.substring(0,1)!=="."){const h=ot(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new de(l,h)))}}),n.length===0)return ee.EMPTY_NODE;const o=cc(n,mD,l=>l.name,E_);if(i){const l=cc(n,He.getCompare());return new ee(o,ot(e),new ni({".priority":l},{".priority":He}))}else return new ee(o,ot(e),ni.Default)}else{let n=ee.EMPTY_NODE;return mt(t,(i,r)=>{if(qn(t,i)&&i.substring(0,1)!=="."){const o=ot(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(ot(e))}}gD(ot);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD extends dh{constructor(e){super(),this.indexPath_=e,j(!fe(e)&&he(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?es(e.name,n.name):o}makePost(e,n){const i=ot(e),r=ee.EMPTY_NODE.updateChild(this.indexPath_,i);return new de(n,r)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,hl);return new de(Br,e)}toString(){return Wa(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends dh{compare(e,n){const i=e.node.compareTo(n.node);return i===0?es(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return de.MIN}maxPost(){return de.MAX}makePost(e,n){const i=ot(e);return new de(n,i)}toString(){return".value"}}const PD=new ID;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){return{type:"value",snapshotNode:t}}function eo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $a(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Va(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.index_=e}updateChild(e,n,i,r,o,l){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange($a(n,u)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(eo(n,i)):l.trackChildChange(Va(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(He,(r,o)=>{n.hasChild(r)||i.trackChildChange($a(r,o))}),n.isLeafNode()||n.forEachChild(He,(r,o)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(o)||i.trackChildChange(Va(r,o,l))}else i.trackChildChange(eo(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ee.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.indexedFilter_=new T_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qa.getStartPost_(e),this.endPost_=qa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,l){return this.matches(new de(n,i))||(i=ee.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ee.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ee.EMPTY_NODE);const o=this;return n.forEachChild(He,(l,u)=>{o.matches(new de(l,u))||(r=r.updateImmediateChild(l,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new qa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,l){return this.rangedFilter_.matches(new de(n,i))||(i=ee.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,l):this.fullLimitUpdateChild_(e,n,i,o,l)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ee.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),l++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ee.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let l=0;for(;o.hasNext();){const u=o.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let l;if(this.reverse_){const _=this.index_.getCompare();l=(g,y)=>_(y,g)}else l=this.index_.getCompare();const u=e;j(u.numChildren()===this.limit_,"");const h=new de(n,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(u.hasChild(n)){const _=u.getImmediateChild(n);let g=r.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||u.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const y=g==null?1:l(g,h);if(m&&!i.isEmpty()&&y>=0)return o!=null&&o.trackChildChange(Va(n,i,_)),u.updateImmediateChild(n,i);{o!=null&&o.trackChildChange($a(n,_));const C=u.updateImmediateChild(n,ee.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(o!=null&&o.trackChildChange(eo(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return i.isEmpty()?e:m&&l(f,h)>=0?(o!=null&&(o.trackChildChange($a(f.name,f.node)),o.trackChildChange(eo(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(f.name,ee.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xs}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new S_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kD(t){return t.loadsAllData()?new T_(t.getIndex()):t.hasLimit()?new bD(t):new qa(t)}function Uw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===PD?n="$value":t.index_===Bs?n="$key":(j(t.index_ instanceof CD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=at(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=at(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+at(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=at(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+at(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Bw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends GC{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=cl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=hc.getListenId_(e,i),u={};this.listens_[l]=u;const h=Uw(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let _=m;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(o,_,!1,i),Js(this.listens_,l)===u){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",r(g,null)}})}unlisten(e,n){const i=hc.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Uw(e._queryParams),i=e._path.toString(),r=new ll;return this.restRequest_(i+".json",n,(o,l)=>{let u=l;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ho(n);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=Ba(u.responseText)}catch{kt("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,h)}else u.status!==401&&u.status!==404&&kt("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(){return{value:null,children:new Map}}function rI(t,e,n){if(fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=he(e);t.children.has(i)||t.children.set(i,dc());const r=t.children.get(i);e=ke(e),rI(r,e,n)}}function Ip(t,e,n){t.value!==null?n(e,t.value):OD(t,(i,r)=>{const o=new Ie(e.toString()+"/"+i);Ip(r,o,n)})}function OD(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&mt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=10*1e3,AD=30*1e3,ND=5*60*1e3;class MD{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LD(e);const i=zw+(AD-zw)*Math.random();da(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;mt(e,(r,o)=>{o>0&&qn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),da(this.reportStats_.bind(this),Math.floor(Math.random()*2*ND))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vn||(vn={}));function C_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function I_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function P_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=vn.ACK_USER_WRITE,this.source=C_()}operationForChild(e){if(fe(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ie(e));return new fc(Te(),n,this.revert)}}else return j(he(this.path)===e,"operationForChild called for unrelated child."),new fc(ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.source=e,this.path=n,this.type=vn.LISTEN_COMPLETE}operationForChild(e){return fe(this.path)?new Za(this.source,Te()):new Za(this.source,ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=vn.OVERWRITE}operationForChild(e){return fe(this.path)?new zr(this.source,Te(),this.snap.getImmediateChild(e)):new zr(this.source,ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=vn.MERGE}operationForChild(e){if(fe(this.path)){const n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new zr(this.source,Te(),n.value):new to(this.source,Te(),n)}else return j(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new to(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=he(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FD(t,e,n,i){const r=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(xD(l.childName,l.snapshotNode))}),Vo(t,r,"child_removed",e,i,n),Vo(t,r,"child_added",e,i,n),Vo(t,r,"child_moved",o,i,n),Vo(t,r,"child_changed",e,i,n),Vo(t,r,"value",e,i,n),r}function Vo(t,e,n,i,r,o){const l=i.filter(u=>u.type===n);l.sort((u,h)=>BD(t,u,h)),l.forEach(u=>{const h=UD(t,u,o);r.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(h,t.query_))})})}function UD(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BD(t,e,n){if(e.childName==null||n.childName==null)throw co("Should only compare child_ events.");const i=new de(e.childName,e.snapshotNode),r=new de(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e){return{eventCache:t,serverCache:e}}function fa(t,e,n,i){return fh(new jr(e,n,i),t.serverCache)}function sI(t,e,n,i){return fh(t.eventCache,new jr(e,n,i))}function Pp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf;const zD=()=>(nf||(nf=new Ft(CM)),nf);class be{constructor(e,n=zD()){this.value=e,this.children=n}static fromObject(e){let n=new be(null);return mt(e,(i,r)=>{n=n.set(new Ie(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(fe(e))return null;{const i=he(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(ke(e),n);return o!=null?{path:je(new Ie(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(fe(e))return this;{const n=he(e),i=this.children.get(n);return i!==null?i.subtree(ke(e)):new be(null)}}set(e,n){if(fe(e))return new be(n,this.children);{const i=he(e),o=(this.children.get(i)||new be(null)).set(ke(e),n),l=this.children.insert(i,o);return new be(this.value,l)}}remove(e){if(fe(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=he(e),i=this.children.get(n);if(i){const r=i.remove(ke(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new be(null):new be(this.value,o)}else return this}}get(e){if(fe(e))return this.value;{const n=he(e),i=this.children.get(n);return i?i.get(ke(e)):null}}setTree(e,n){if(fe(e))return n;{const i=he(e),o=(this.children.get(i)||new be(null)).setTree(ke(e),n);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new be(this.value,l)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(je(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(fe(e))return null;{const o=he(e),l=this.children.get(o);return l?l.findOnPath_(ke(e),je(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,i){if(fe(e))return this;{this.value&&i(n,this.value);const r=he(e),o=this.children.get(r);return o?o.foreachOnPath_(ke(e),je(n,r),i):new be(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.writeTree_=e}static empty(){return new Tn(new be(null))}}function pa(t,e,n){if(fe(e))return new Tn(new be(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const l=Dt(r,e);return o=o.updateChild(l,n),new Tn(t.writeTree_.set(r,o))}else{const r=new be(n),o=t.writeTree_.setTree(e,r);return new Tn(o)}}}function xp(t,e,n){let i=t;return mt(n,(r,o)=>{i=pa(i,je(e,r),o)}),i}function jw(t,e){if(fe(e))return Tn.empty();{const n=t.writeTree_.setTree(e,new be(null));return new Tn(n)}}function bp(t,e){return ts(t,e)!=null}function ts(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Dt(n.path,e)):null}function Hw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(i,r)=>{e.push(new de(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new de(i,r.value))}),e}function Qi(t,e){if(fe(e))return t;{const n=ts(t,e);return n!=null?new Tn(new be(n)):new Tn(t.writeTree_.subtree(e))}}function kp(t){return t.writeTree_.isEmpty()}function no(t,e){return oI(Te(),t.writeTree_,e)}function oI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(j(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=oI(je(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t,e){return cI(e,t)}function jD(t,e,n,i,r){j(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=pa(t.visibleWrites,e,n)),t.lastWriteId=i}function HD(t,e,n,i){j(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=xp(t.visibleWrites,e,n),t.lastWriteId=i}function WD(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function $D(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const u=t.allWrites[l];u.visible&&(l>=n&&VD(u,i.path)?r=!1:rn(i.path,u.path)&&(o=!0)),l--}if(r){if(o)return qD(t),!0;if(i.snap)t.visibleWrites=jw(t.visibleWrites,i.path);else{const u=i.children;mt(u,h=>{t.visibleWrites=jw(t.visibleWrites,je(i.path,h))})}return!0}else return!1}function VD(t,e){if(t.snap)return rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rn(je(t.path,n),e))return!0;return!1}function qD(t){t.visibleWrites=aI(t.allWrites,ZD,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZD(t){return t.visible}function aI(t,e,n){let i=Tn.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const l=o.path;let u;if(o.snap)rn(n,l)?(u=Dt(n,l),i=pa(i,u,o.snap)):rn(l,n)&&(u=Dt(l,n),i=pa(i,Te(),o.snap.getChild(u)));else if(o.children){if(rn(n,l))u=Dt(n,l),i=xp(i,u,o.children);else if(rn(l,n))if(u=Dt(l,n),fe(u))i=xp(i,Te(),o.children);else{const h=Js(o.children,he(u));if(h){const f=h.getChild(ke(u));i=pa(i,Te(),f)}}}else throw co("WriteRecord should have .snap or .children")}}return i}function lI(t,e,n,i,r){if(!i&&!r){const o=ts(t.visibleWrites,e);if(o!=null)return o;{const l=Qi(t.visibleWrites,e);if(kp(l))return n;if(n==null&&!bp(l,Te()))return null;{const u=n||ee.EMPTY_NODE;return no(l,u)}}}else{const o=Qi(t.visibleWrites,e);if(!r&&kp(o))return n;if(!r&&n==null&&!bp(o,Te()))return null;{const l=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(rn(f.path,e)||rn(e,f.path))},u=aI(t.allWrites,l,e),h=n||ee.EMPTY_NODE;return no(u,h)}}}function GD(t,e,n){let i=ee.EMPTY_NODE;const r=ts(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(He,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(n){const o=Qi(t.visibleWrites,e);return n.forEachChild(He,(l,u)=>{const h=no(Qi(o,new Ie(l)),u);i=i.updateImmediateChild(l,h)}),Hw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=Qi(t.visibleWrites,e);return Hw(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function KD(t,e,n,i,r){j(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=je(e,n);if(bp(t.visibleWrites,o))return null;{const l=Qi(t.visibleWrites,o);return kp(l)?r.getChild(n):no(l,r.getChild(n))}}function YD(t,e,n,i){const r=je(e,n),o=ts(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const l=Qi(t.visibleWrites,r);return no(l,i.getNode().getImmediateChild(n))}else return null}function QD(t,e){return ts(t.visibleWrites,e)}function JD(t,e,n,i,r,o,l){let u;const h=Qi(t.visibleWrites,e),f=ts(h,Te());if(f!=null)u=f;else if(n!=null)u=no(h,n);else return[];if(u=u.withIndex(l),!u.isEmpty()&&!u.isLeafNode()){const m=[],_=l.getCompare(),g=o?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let y=g.getNext();for(;y&&m.length<r;)_(y,i)!==0&&m.push(y),y=g.getNext();return m}else return[]}function XD(){return{visibleWrites:Tn.empty(),allWrites:[],lastWriteId:-1}}function pc(t,e,n,i){return lI(t.writeTree,t.treePath,e,n,i)}function b_(t,e){return GD(t.writeTree,t.treePath,e)}function Ww(t,e,n,i){return KD(t.writeTree,t.treePath,e,n,i)}function mc(t,e){return QD(t.writeTree,je(t.treePath,e))}function eF(t,e,n,i,r,o){return JD(t.writeTree,t.treePath,e,n,i,r,o)}function k_(t,e,n){return YD(t.writeTree,t.treePath,e,n)}function uI(t,e){return cI(je(t.treePath,e),t.writeTree)}function cI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Va(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,$a(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,eo(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Va(i,e.snapshotNode,r.oldSnap));else throw co("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const hI=new nF;class R_{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new jr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return k_(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hr(this.viewCache_),o=eF(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){return{filter:t}}function rF(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function sF(t,e,n,i,r){const o=new tF;let l,u;if(n.type===vn.OVERWRITE){const f=n;f.source.fromUser?l=Rp(t,e,f.path,f.snap,i,r,o):(j(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!fe(f.path),l=_c(t,e,f.path,f.snap,i,r,u,o))}else if(n.type===vn.MERGE){const f=n;f.source.fromUser?l=aF(t,e,f.path,f.children,i,r,o):(j(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),l=Op(t,e,f.path,f.children,i,r,u,o))}else if(n.type===vn.ACK_USER_WRITE){const f=n;f.revert?l=cF(t,e,f.path,i,r,o):l=lF(t,e,f.path,f.affectedTree,i,r,o)}else if(n.type===vn.LISTEN_COMPLETE)l=uF(t,e,n.path,i,o);else throw co("Unknown operation type: "+n.type);const h=o.getChanges();return oF(e,l,h),{viewCache:l,changes:h}}function oF(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Pp(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(iI(Pp(e)))}}function dI(t,e,n,i,r,o){const l=e.eventCache;if(mc(i,n)!=null)return e;{let u,h;if(fe(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Hr(e),m=f instanceof ee?f:ee.EMPTY_NODE,_=b_(i,m);u=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const f=pc(i,Hr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=he(n);if(f===".priority"){j(er(n)===1,"Can't have a priority with additional path components");const m=l.getNode();h=e.serverCache.getNode();const _=Ww(i,n,m,h);_!=null?u=t.filter.updatePriority(m,_):u=l.getNode()}else{const m=ke(n);let _;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const g=Ww(i,n,l.getNode(),h);g!=null?_=l.getNode().getImmediateChild(f).updateChild(m,g):_=l.getNode().getImmediateChild(f)}else _=k_(i,f,e.serverCache);_!=null?u=t.filter.updateChild(l.getNode(),f,_,m,r,o):u=l.getNode()}}return fa(e,u,l.isFullyInitialized()||fe(n),t.filter.filtersNodes())}}function _c(t,e,n,i,r,o,l,u){const h=e.serverCache;let f;const m=l?t.filter:t.filter.getIndexedFilter();if(fe(n))f=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const y=h.getNode().updateChild(n,i);f=m.updateFullNode(h.getNode(),y,null)}else{const y=he(n);if(!h.isCompleteForPath(n)&&er(n)>1)return e;const w=ke(n),A=h.getNode().getImmediateChild(y).updateChild(w,i);y===".priority"?f=m.updatePriority(h.getNode(),A):f=m.updateChild(h.getNode(),y,A,w,hI,null)}const _=sI(e,f,h.isFullyInitialized()||fe(n),m.filtersNodes()),g=new R_(r,_,o);return dI(t,_,n,r,g,u)}function Rp(t,e,n,i,r,o,l){const u=e.eventCache;let h,f;const m=new R_(r,e,o);if(fe(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,l),h=fa(e,f,!0,t.filter.filtersNodes());else{const _=he(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=fa(e,f,u.isFullyInitialized(),u.isFiltered());else{const g=ke(n),y=u.getNode().getImmediateChild(_);let w;if(fe(g))w=i;else{const C=m.getCompleteChild(_);C!=null?v_(g)===".priority"&&C.getChild(YC(g)).isEmpty()?w=C:w=C.updateChild(g,i):w=ee.EMPTY_NODE}if(y.equals(w))h=e;else{const C=t.filter.updateChild(u.getNode(),_,w,g,m,l);h=fa(e,C,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function $w(t,e){return t.eventCache.isCompleteForChild(e)}function aF(t,e,n,i,r,o,l){let u=e;return i.foreach((h,f)=>{const m=je(n,h);$w(e,he(m))&&(u=Rp(t,u,m,f,r,o,l))}),i.foreach((h,f)=>{const m=je(n,h);$w(e,he(m))||(u=Rp(t,u,m,f,r,o,l))}),u}function Vw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Op(t,e,n,i,r,o,l,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;fe(n)?f=i:f=new be(null).setTree(n,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((_,g)=>{if(m.hasChild(_)){const y=e.serverCache.getNode().getImmediateChild(_),w=Vw(t,y,g);h=_c(t,h,new Ie(_),w,r,o,l,u)}}),f.children.inorderTraversal((_,g)=>{const y=!e.serverCache.isCompleteForChild(_)&&g.value===null;if(!m.hasChild(_)&&!y){const w=e.serverCache.getNode().getImmediateChild(_),C=Vw(t,w,g);h=_c(t,h,new Ie(_),C,r,o,l,u)}}),h}function lF(t,e,n,i,r,o,l){if(mc(r,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(fe(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return _c(t,e,n,h.getNode().getChild(n),r,o,u,l);if(fe(n)){let f=new be(null);return h.getNode().forEachChild(Bs,(m,_)=>{f=f.set(new Ie(m),_)}),Op(t,e,n,f,r,o,u,l)}else return e}else{let f=new be(null);return i.foreach((m,_)=>{const g=je(n,m);h.isCompleteForPath(g)&&(f=f.set(m,h.getNode().getChild(g)))}),Op(t,e,n,f,r,o,u,l)}}function uF(t,e,n,i,r){const o=e.serverCache,l=sI(e,o.getNode(),o.isFullyInitialized()||fe(n),o.isFiltered());return dI(t,l,n,i,hI,r)}function cF(t,e,n,i,r,o){let l;if(mc(i,n)!=null)return e;{const u=new R_(i,e,r),h=e.eventCache.getNode();let f;if(fe(n)||he(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=pc(i,Hr(e));else{const _=e.serverCache.getNode();j(_ instanceof ee,"serverChildren would be complete if leaf node"),m=b_(i,_)}m=m,f=t.filter.updateFullNode(h,m,o)}else{const m=he(n);let _=k_(i,m,e.serverCache);_==null&&e.serverCache.isCompleteForChild(m)&&(_=h.getImmediateChild(m)),_!=null?f=t.filter.updateChild(h,m,_,ke(n),u,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(h,m,ee.EMPTY_NODE,ke(n),u,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=pc(i,Hr(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,o)))}return l=e.serverCache.isFullyInitialized()||mc(i,Te())!=null,fa(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new T_(i.getIndex()),o=kD(i);this.processor_=iF(o);const l=n.serverCache,u=n.eventCache,h=r.updateFullNode(ee.EMPTY_NODE,l.getNode(),null),f=o.updateFullNode(ee.EMPTY_NODE,u.getNode(),null),m=new jr(h,l.isFullyInitialized(),r.filtersNodes()),_=new jr(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=fh(_,m),this.eventGenerator_=new DD(this.query_)}get query(){return this.query_}}function dF(t){return t.viewCache_.serverCache.getNode()}function fF(t,e){const n=Hr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!fe(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function qw(t){return t.eventRegistrations_.length===0}function pF(t,e){t.eventRegistrations_.push(e)}function Zw(t,e,n){const i=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,r);l&&i.push(l)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))r.push(l);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function Gw(t,e,n,i){e.type===vn.MERGE&&e.source.queryId!==null&&(j(Hr(t.viewCache_),"We should always have a full cache before handling merges"),j(Pp(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=sF(t.processor_,r,e,n,i);return rF(t.processor_,o.viewCache),j(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,fI(t,o.changes,o.viewCache.eventCache.getNode(),null)}function mF(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(o,l)=>{i.push(eo(o,l))}),n.isFullyInitialized()&&i.push(iI(n.getNode())),fI(t,i,n.getNode(),e)}function fI(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return FD(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc;class _F{constructor(){this.views=new Map}}function gF(t){j(!gc,"__referenceConstructor has already been defined"),gc=t}function vF(){return j(gc,"Reference.ts has not been loaded"),gc}function yF(t){return t.views.size===0}function O_(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return j(o!=null,"SyncTree gave us an op for an invalid query."),Gw(o,e,n,i)}else{let o=[];for(const l of t.views.values())o=o.concat(Gw(l,e,n,i));return o}}function wF(t,e,n,i,r){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let u=pc(n,r?i:null),h=!1;u?h=!0:i instanceof ee?(u=b_(n,i),h=!1):(u=ee.EMPTY_NODE,h=!1);const f=fh(new jr(u,h,!1),new jr(i,r,!1));return new hF(e,f)}return l}function EF(t,e,n,i,r,o){const l=wF(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),pF(l,n),mF(l,n)}function TF(t,e,n,i){const r=e._queryIdentifier,o=[];let l=[];const u=tr(t);if(r==="default")for(const[h,f]of t.views.entries())l=l.concat(Zw(f,n,i)),qw(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(r);h&&(l=l.concat(Zw(h,n,i)),qw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!tr(t)&&o.push(new(vF())(e._repo,e._path)),{removed:o,events:l}}function pI(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function zs(t,e){let n=null;for(const i of t.views.values())n=n||fF(i,e);return n}function mI(t,e){if(e._queryParams.loadsAllData())return ph(t);{const i=e._queryIdentifier;return t.views.get(i)}}function _I(t,e){return mI(t,e)!=null}function tr(t){return ph(t)!=null}function ph(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;function SF(t){j(!vc,"__referenceConstructor has already been defined"),vc=t}function CF(){return j(vc,"Reference.ts has not been loaded"),vc}let IF=1;class Kw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=XD(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gI(t,e,n,i,r){return jD(t.pendingWriteTree_,e,n,i,r),r?po(t,new zr(C_(),e,n)):[]}function PF(t,e,n,i){HD(t.pendingWriteTree_,e,n,i);const r=be.fromObject(n);return po(t,new to(C_(),e,r))}function Ui(t,e,n=!1){const i=WD(t.pendingWriteTree_,e);if($D(t.pendingWriteTree_,e)){let o=new be(null);return i.snap!=null?o=o.set(Te(),!0):mt(i.children,l=>{o=o.set(new Ie(l),!0)}),po(t,new fc(i.path,o,n))}else return[]}function mh(t,e,n){return po(t,new zr(I_(),e,n))}function xF(t,e,n){const i=be.fromObject(n);return po(t,new to(I_(),e,i))}function bF(t,e){return po(t,new Za(I_(),e))}function kF(t,e,n){const i=A_(t,n);if(i){const r=N_(i),o=r.path,l=r.queryId,u=Dt(o,e),h=new Za(P_(l),u);return M_(t,o,h)}else return[]}function Lp(t,e,n,i,r=!1){const o=e._path,l=t.syncPointTree_.get(o);let u=[];if(l&&(e._queryIdentifier==="default"||_I(l,e))){const h=TF(l,e,n,i);yF(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const m=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(g,y)=>tr(y));if(m&&!_){const g=t.syncPointTree_.subtree(o);if(!g.isEmpty()){const y=LF(g);for(let w=0;w<y.length;++w){const C=y[w],A=C.query,T=wI(t,C);t.listenProvider_.startListening(ma(A),yc(t,A),T.hashFn,T.onComplete)}}}!_&&f.length>0&&!i&&(m?t.listenProvider_.stopListening(ma(e),null):f.forEach(g=>{const y=t.queryToTagMap.get(_h(g));t.listenProvider_.stopListening(ma(g),y)}))}AF(t,f)}return u}function RF(t,e,n,i){const r=A_(t,i);if(r!=null){const o=N_(r),l=o.path,u=o.queryId,h=Dt(l,e),f=new zr(P_(u),h,n);return M_(t,l,f)}else return[]}function OF(t,e,n,i){const r=A_(t,i);if(r){const o=N_(r),l=o.path,u=o.queryId,h=Dt(l,e),f=be.fromObject(n),m=new to(P_(u),h,f);return M_(t,l,m)}else return[]}function Yw(t,e,n,i=!1){const r=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(r,(g,y)=>{const w=Dt(g,r);o=o||zs(y,w),l=l||tr(y)});let u=t.syncPointTree_.get(r);u?(l=l||tr(u),o=o||zs(u,Te())):(u=new _F,t.syncPointTree_=t.syncPointTree_.set(r,u));let h;o!=null?h=!0:(h=!1,o=ee.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((y,w)=>{const C=zs(w,Te());C&&(o=o.updateImmediateChild(y,C))}));const f=_I(u,e);if(!f&&!e._queryParams.loadsAllData()){const g=_h(e);j(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=NF();t.queryToTagMap.set(g,y),t.tagToQueryMap.set(y,g)}const m=x_(t.pendingWriteTree_,r);let _=EF(u,e,n,m,o,h);if(!f&&!l&&!i){const g=mI(u,e);_=_.concat(MF(t,e,g))}return _}function L_(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,u)=>{const h=Dt(l,e),f=zs(u,h);if(f)return f});return lI(r,e,o,n,!0)}function po(t,e){return vI(e,t.syncPointTree_,null,x_(t.pendingWriteTree_,Te()))}function vI(t,e,n,i){if(fe(t.path))return yI(t,e,n,i);{const r=e.get(Te());n==null&&r!=null&&(n=zs(r,Te()));let o=[];const l=he(t.path),u=t.operationForChild(l),h=e.children.get(l);if(h&&u){const f=n?n.getImmediateChild(l):null,m=uI(i,l);o=o.concat(vI(u,h,f,m))}return r&&(o=o.concat(O_(r,t,i,n))),o}}function yI(t,e,n,i){const r=e.get(Te());n==null&&r!=null&&(n=zs(r,Te()));let o=[];return e.children.inorderTraversal((l,u)=>{const h=n?n.getImmediateChild(l):null,f=uI(i,l),m=t.operationForChild(l);m&&(o=o.concat(yI(m,u,h,f)))}),r&&(o=o.concat(O_(r,t,i,n))),o}function wI(t,e){const n=e.query,i=yc(t,n);return{hashFn:()=>(dF(e)||ee.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?kF(t,n._path,i):bF(t,n._path);{const o=xM(r,n);return Lp(t,n,null,o)}}}}function yc(t,e){const n=_h(e);return t.queryToTagMap.get(n)}function _h(t){return t._path.toString()+"$"+t._queryIdentifier}function A_(t,e){return t.tagToQueryMap.get(e)}function N_(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function M_(t,e,n){const i=t.syncPointTree_.get(e);j(i,"Missing sync point for query tag that we're tracking");const r=x_(t.pendingWriteTree_,e);return O_(i,n,r,null)}function LF(t){return t.fold((e,n,i)=>{if(n&&tr(n))return[ph(n)];{let r=[];return n&&(r=pI(n)),mt(i,(o,l)=>{r=r.concat(l)}),r}})}function ma(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CF())(t._repo,t._path):t}function AF(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=_h(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function NF(){return IF++}function MF(t,e,n){const i=e._path,r=yc(t,e),o=wI(t,n),l=t.listenProvider_.startListening(ma(e),r,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(i);if(r)j(!tr(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,m,_)=>{if(!fe(f)&&m&&tr(m))return[ph(m).query];{let g=[];return m&&(g=g.concat(pI(m).map(y=>y.query))),mt(_,(y,w)=>{g=g.concat(w)}),g}});for(let f=0;f<h.length;++f){const m=h[f];t.listenProvider_.stopListening(ma(m),yc(t,m))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new D_(n)}node(){return this.node_}}class F_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new F_(this.syncTree_,n)}node(){return L_(this.syncTree_,this.path_)}}const DF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Qw=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return FF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return UF(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},FF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},UF=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&j(!1,"Unexpected increment value: "+i);const r=e.node();if(j(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return typeof l!="number"?i:l+i},EI=function(t,e,n,i){return U_(e,new F_(n,t),i)},TI=function(t,e,n){return U_(t,new D_(e),n)};function U_(t,e,n){const i=t.getPriority().val(),r=Qw(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,u=Qw(l.getValue(),e,n);return u!==l.getValue()||r!==l.getPriority().val()?new nt(u,ot(r)):t}else{const l=t;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new nt(r))),l.forEachChild(He,(u,h)=>{const f=U_(h,e.getImmediateChild(u),n);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function z_(t,e){let n=e instanceof Ie?e:new Ie(e),i=t,r=he(n);for(;r!==null;){const o=Js(i.node.children,r)||{children:{},childCount:0};i=new B_(r,i,o),n=ke(n),r=he(n)}return i}function mo(t){return t.node.value}function SI(t,e){t.node.value=e,Ap(t)}function CI(t){return t.node.childCount>0}function BF(t){return mo(t)===void 0&&!CI(t)}function gh(t,e){mt(t.node.children,(n,i)=>{e(new B_(n,t,i))})}function II(t,e,n,i){n&&!i&&e(t),gh(t,r=>{II(r,e,!0,i)}),n&&i&&e(t)}function zF(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function dl(t){return new Ie(t.parent===null?t.name:dl(t.parent)+"/"+t.name)}function Ap(t){t.parent!==null&&jF(t.parent,t.name,t)}function jF(t,e,n){const i=BF(n),r=qn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Ap(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Ap(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=/[\[\].#$\/\u0000-\u001F\u007F]/,WF=/[\[\].#$\u0000-\u001F\u007F]/,rf=10*1024*1024,j_=function(t){return typeof t=="string"&&t.length!==0&&!HF.test(t)},PI=function(t){return typeof t=="string"&&t.length!==0&&!WF.test(t)},$F=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PI(t)},VF=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!f_(t)||t&&typeof t=="object"&&qn(t,".sv")},qF=function(t,e,n,i){i&&e===void 0||vh(oh(t,"value"),e,n)},vh=function(t,e,n){const i=n instanceof Ie?new aD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pr(i));if(typeof e=="function")throw new Error(t+"contains a function "+pr(i)+" with contents = "+e.toString());if(f_(e))throw new Error(t+"contains "+e.toString()+" "+pr(i));if(typeof e=="string"&&e.length>rf/3&&ah(e)>rf)throw new Error(t+"contains a string greater than "+rf+" utf8 bytes "+pr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(mt(e,(l,u)=>{if(l===".value")r=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!j_(l)))throw new Error(t+" contains an invalid key ("+l+") "+pr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lD(i,l),vh(t,u,i),uD(i)}),r&&o)throw new Error(t+' contains ".value" child '+pr(i)+" in addition to actual children.")}},ZF=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=Wa(i);for(let l=0;l<o.length;l++)if(!(o[l]===".priority"&&l===o.length-1)){if(!j_(o[l]))throw new Error(t+"contains an invalid key ("+o[l]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(oD);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&rn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},GF=function(t,e,n,i){if(i&&e===void 0)return;const r=oh(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];mt(e,(l,u)=>{const h=new Ie(l);if(vh(r,u,je(n,h)),v_(h)===".priority"&&!VF(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),ZF(r,o)},xI=function(t,e,n,i){if(!(i&&n===void 0)&&!PI(n))throw new Error(oh(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},KF=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xI(t,e,n,i)},YF=function(t,e){if(he(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},QF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!j_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$F(n))throw new Error(oh(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yh(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!y_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function bI(t,e,n){yh(t,n),kI(t,i=>y_(i,e))}function Pn(t,e,n){yh(t,n),kI(t,i=>rn(i,e)||rn(e,i))}function kI(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(XF(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function XF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Pr&&dt("event: "+n.toString()),fo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="repo_interrupt",tU=25;class nU{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dc(),this.transactionQueueTree_=new B_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iU(t,e,n){if(t.stats_=__(t.repoInfo_),t.forceRestClient_||OM())t.server_=new hc(t.repoInfo_,(i,r,o,l)=>{Jw(t,i,r,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Xw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new li(t.repoInfo_,e,(i,r,o,l)=>{Jw(t,i,r,o,l)},i=>{Xw(t,i)},i=>{sU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=DM(t.repoInfo_,()=>new MD(t.stats_,t.server_)),t.infoData_=new RD,t.infoSyncTree_=new Kw({startListening:(i,r,o,l)=>{let u=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(u=mh(t.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),H_(t,"connected",!1),t.serverSyncTree_=new Kw({startListening:(i,r,o,l)=>(t.server_.listen(i,o,r,(u,h)=>{const f=l(u,h);Pn(t.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function rU(t){const n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wh(t){return DF({timestamp:rU(t)})}function Jw(t,e,n,i,r){t.dataUpdateCount++;const o=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(i){const h=rc(n,f=>ot(f));l=OF(t.serverSyncTree_,o,h,r)}else{const h=ot(n);l=RF(t.serverSyncTree_,o,h,r)}else if(i){const h=rc(n,f=>ot(f));l=xF(t.serverSyncTree_,o,h)}else{const h=ot(n);l=mh(t.serverSyncTree_,o,h)}let u=o;l.length>0&&(u=io(t,o)),Pn(t.eventQueue_,u,l)}function Xw(t,e){H_(t,"connected",e),e===!1&&lU(t)}function sU(t,e){mt(e,(n,i)=>{H_(t,n,i)})}function H_(t,e,n){const i=new Ie("/.info/"+e),r=ot(n);t.infoData_.updateSnapshot(i,r);const o=mh(t.infoSyncTree_,i,r);Pn(t.eventQueue_,i,o)}function W_(t){return t.nextWriteId_++}function oU(t,e,n,i,r){Eh(t,"set",{path:e.toString(),value:n,priority:i});const o=wh(t),l=ot(n,i),u=L_(t.serverSyncTree_,e),h=TI(l,u,o),f=W_(t),m=gI(t.serverSyncTree_,e,h,f,!0);yh(t.eventQueue_,m),t.server_.put(e.toString(),l.val(!0),(g,y)=>{const w=g==="ok";w||kt("set at "+e+" failed: "+g);const C=Ui(t.serverSyncTree_,f,!w);Pn(t.eventQueue_,e,C),Np(t,r,g,y)});const _=V_(t,e);io(t,_),Pn(t.eventQueue_,_,[])}function aU(t,e,n,i){Eh(t,"update",{path:e.toString(),value:n});let r=!0;const o=wh(t),l={};if(mt(n,(u,h)=>{r=!1,l[u]=EI(je(e,u),ot(h),t.serverSyncTree_,o)}),r)dt("update() called with empty data.  Don't do anything."),Np(t,i,"ok",void 0);else{const u=W_(t),h=PF(t.serverSyncTree_,e,l,u);yh(t.eventQueue_,h),t.server_.merge(e.toString(),n,(f,m)=>{const _=f==="ok";_||kt("update at "+e+" failed: "+f);const g=Ui(t.serverSyncTree_,u,!_),y=g.length>0?io(t,e):e;Pn(t.eventQueue_,y,g),Np(t,i,f,m)}),mt(n,f=>{const m=V_(t,je(e,f));io(t,m)}),Pn(t.eventQueue_,e,[])}}function lU(t){Eh(t,"onDisconnectEvents");const e=wh(t),n=dc();Ip(t.onDisconnect_,Te(),(r,o)=>{const l=EI(r,o,t.serverSyncTree_,e);rI(n,r,l)});let i=[];Ip(n,Te(),(r,o)=>{i=i.concat(mh(t.serverSyncTree_,r,o));const l=V_(t,r);io(t,l)}),t.onDisconnect_=dc(),Pn(t.eventQueue_,Te(),i)}function uU(t,e,n){let i;he(e._path)===".info"?i=Yw(t.infoSyncTree_,e,n):i=Yw(t.serverSyncTree_,e,n),bI(t.eventQueue_,e._path,i)}function e0(t,e,n){let i;he(e._path)===".info"?i=Lp(t.infoSyncTree_,e,n):i=Lp(t.serverSyncTree_,e,n),bI(t.eventQueue_,e._path,i)}function cU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eU)}function Eh(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function Np(t,e,n,i){e&&fo(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,e(l)}})}function RI(t,e,n){return L_(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function $_(t,e=t.transactionQueueTree_){if(e||Th(t,e),mo(e)){const n=LI(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&hU(t,dl(e),n)}else CI(e)&&gh(e,n=>{$_(t,n)})}function hU(t,e,n){const i=n.map(f=>f.currentWriteId),r=RI(t,e,i);let o=r;const l=r.hash();for(let f=0;f<n.length;f++){const m=n[f];j(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Dt(e,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,f=>{Eh(t,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const _=[];for(let g=0;g<n.length;g++)n[g].status=2,m=m.concat(Ui(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&_.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Th(t,z_(t.transactionQueueTree_,e)),$_(t,t.transactionQueueTree_),Pn(t.eventQueue_,e,m);for(let g=0;g<_.length;g++)fo(_[g])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{kt("transaction at "+h.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}io(t,e)}},l)}function io(t,e){const n=OI(t,e),i=dl(n),r=LI(t,n);return dU(t,r,i),i}function dU(t,e,n){if(e.length===0)return;const i=[];let r=[];const l=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],f=Dt(n,h.path);let m=!1,_;if(j(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,_=h.abortReason,r=r.concat(Ui(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=tU)m=!0,_="maxretry",r=r.concat(Ui(t.serverSyncTree_,h.currentWriteId,!0));else{const g=RI(t,h.path,l);h.currentInputSnapshot=g;const y=e[u].update(g.val());if(y!==void 0){vh("transaction failed: Data returned ",y,h.path);let w=ot(y);typeof y=="object"&&y!=null&&qn(y,".priority")||(w=w.updatePriority(g.getPriority()));const A=h.currentWriteId,T=wh(t),E=TI(w,g,T);h.currentOutputSnapshotRaw=w,h.currentOutputSnapshotResolved=E,h.currentWriteId=W_(t),l.splice(l.indexOf(A),1),r=r.concat(gI(t.serverSyncTree_,h.path,E,h.currentWriteId,h.applyLocally)),r=r.concat(Ui(t.serverSyncTree_,A,!0))}else m=!0,_="nodata",r=r.concat(Ui(t.serverSyncTree_,h.currentWriteId,!0))}Pn(t.eventQueue_,n,r),r=[],m&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(_==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(_),!1,null))))}Th(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)fo(i[u]);$_(t,t.transactionQueueTree_)}function OI(t,e){let n,i=t.transactionQueueTree_;for(n=he(e);n!==null&&mo(i)===void 0;)i=z_(i,n),e=ke(e),n=he(e);return i}function LI(t,e){const n=[];return AI(t,e,n),n.sort((i,r)=>i.order-r.order),n}function AI(t,e,n){const i=mo(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);gh(e,r=>{AI(t,r,n)})}function Th(t,e){const n=mo(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,SI(e,n.length>0?n:void 0)}gh(e,i=>{Th(t,i)})}function V_(t,e){const n=dl(OI(t,e)),i=z_(t.transactionQueueTree_,e);return zF(i,r=>{sf(t,r)}),sf(t,i),II(i,r=>{sf(t,r)}),n}function sf(t,e){const n=mo(e);if(n){const i=[];let r=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(j(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(j(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(Ui(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?SI(e,void 0):n.length=o+1,Pn(t.eventQueue_,dl(e),r);for(let l=0;l<i.length;l++)fo(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function pU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):kt(`Invalid query segment '${n}' in query '${t}'`)}return e}const t0=function(t,e){const n=mU(t),i=n.namespace;n.domain==="firebase.com"&&pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||TM();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jC(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Ie(n.pathString)}},mU=function(t){let e="",n="",i="",r="",o="",l=!0,u="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(m,_)),m<_&&(r=fU(t.substring(m,_)));const g=pU(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(l=u==="https"||u==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const y=e.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=i}"ns"in g&&(o=g.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:l,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class MI{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return fe(this._path)?null:v_(this._path)}get ref(){return new gi(this._repo,this._path)}get _queryIdentifier(){const e=Bw(this._queryParams),n=p_(e);return n==="{}"?"default":n}get _queryObject(){return Bw(this._queryParams)}isEqual(e){if(e=$e(e),!(e instanceof q_))return!1;const n=this._repo===e._repo,i=y_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+sD(this._path)}}class gi extends q_{constructor(e,n){super(e,n,new S_,!1)}get parent(){const e=YC(this._path);return e===null?null:new gi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ga{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ie(e),i=wc(this.ref,e);return new Ga(this._node.getChild(n),i,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Ga(r,wc(this.ref,i),He)))}hasChild(e){const n=new Ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function DI(t,e){return t=$e(t),t._checkNotDeleted("ref"),e!==void 0?wc(t._root,e):t._root}function wc(t,e){return t=$e(t),he(t._path)===null?KF("child","path",e,!1):xI("child","path",e,!1),new gi(t._repo,je(t._path,e))}function gU(t,e){t=$e(t),YF("set",t._path),qF("set",e,t._path,!1);const n=new ll;return oU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function vU(t,e){GF("update",e,t._path,!1);const n=new ll;return aU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Z_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new NI("value",this,new Ga(e.snapshotNode,new gi(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MI(this,e,n):null}matches(e){return e instanceof Z_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class G_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new MI(this,e,n):null}createEvent(e,n){j(e.childName!=null,"Child events should have a childName.");const i=wc(new gi(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new NI(e.type,this,new Ga(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof G_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function yU(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,f=(m,_)=>{e0(t._repo,t,u),h(m,_)};f.userCallback=n.userCallback,f.context=n.context,n=f}const l=new _U(n,o||void 0),u=e==="value"?new Z_(l):new G_(e,l);return uU(t._repo,t,u),()=>e0(t._repo,t,u)}function wU(t,e,n,i){return yU(t,"value",e,n,i)}gF(gi);SF(gi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="FIREBASE_DATABASE_EMULATOR_HOST",Mp={};let TU=!1;function SU(t,e,n,i){t.repoInfo_=new jC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function CU(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=t0(o,r),u=l.repoInfo,h,f;typeof process<"u"&&process.env&&(f=process.env[EU]),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,l=t0(o,r),u=l.repoInfo):h=!l.repoInfo.secure;const m=r&&h?new Us(Us.OWNER):new AM(t.name,t.options,e);QF("Invalid Firebase Database URL",l),fe(l.path)||pi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=PU(u,t,m,new LM(t.name,n));return new xU(_,t)}function IU(t,e){const n=Mp[e];(!n||n[t.key]!==t)&&pi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cU(t),delete n[t.key]}function PU(t,e,n,i){let r=Mp[e.name];r||(r={},Mp[e.name]=r);let o=r[t.toURLString()];return o&&pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new nU(t,TU,n,i),r[t.toURLString()]=o,o}class xU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(iU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gi(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pi("Cannot call "+e+" on a deleted database.")}}function bU(t=uh(),e){const n=sr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=HS("database");i&&kU(n,...i)}return n}function kU(t,e,n,i={}){t=$e(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&pi("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Us(Us.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:VS(i.mockUserToken,t.app.options.projectId);o=new Us(l)}SU(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t){gM(Xr),In(new un("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return CU(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),jt(Tw,Sw,t),jt(Tw,Sw,"esm2017")}li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};RU();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebasestorage.googleapis.com",UI="storageBucket",OU=2*60*1e3,LU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve extends bn{constructor(e,n,i=0){super(of(e),`Firebase Storage: ${n} (${of(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ve.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return of(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var We;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(We||(We={}));function of(t){return"storage/"+t}function K_(){const t="An unknown error occurred, please check the error payload for server response.";return new Ve(We.UNKNOWN,t)}function AU(t){return new Ve(We.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function NU(t){return new Ve(We.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ve(We.UNAUTHENTICATED,t)}function DU(){return new Ve(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FU(t){return new Ve(We.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function UU(){return new Ve(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BU(){return new Ve(We.CANCELED,"User canceled the upload/download.")}function zU(t){return new Ve(We.INVALID_URL,"Invalid URL '"+t+"'.")}function jU(t){return new Ve(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HU(){return new Ve(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UI+"' property when initializing the app?")}function WU(){return new Ve(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $U(){return new Ve(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function VU(t){return new Ve(We.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dp(t){return new Ve(We.INVALID_ARGUMENT,t)}function BI(){return new Ve(We.APP_DELETED,"The Firebase app was deleted.")}function qU(t){return new Ve(We.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _a(t,e){return new Ve(We.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function qo(t){throw new Ve(We.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=xt.makeFromUrl(e,n)}catch{return new xt(e,"")}if(i.path==="")return i;throw jU(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(O){O.path_=decodeURIComponent(O.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${_}/${m}/b/${r}/o${g}`,"i"),w={bucket:1,path:3},C=n===FI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",T=new RegExp(`^https?://${C}/${r}/${A}`,"i"),I=[{regex:u,indices:h,postModify:o},{regex:y,indices:w,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let O=0;O<I.length;O++){const B=I[O],H=B.regex.exec(e);if(H){const V=H[B.indices.bucket];let z=H[B.indices.path];z||(z=""),i=new xt(V,z),B.postModify(i);break}}if(i==null)throw zU(e);return i}}class ZU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t,e,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...A){f||(f=!0,e.apply(null,A))}function _(A){r=setTimeout(()=>{r=null,t(y,h())},A)}function g(){o&&clearTimeout(o)}function y(A,...T){if(f){g();return}if(A){g(),m.call(null,A,...T);return}if(h()||l){g(),m.call(null,A,...T);return}i<64&&(i*=2);let I;u===1?(u=2,I=0):I=(i+Math.random())*1e3,_(I)}let w=!1;function C(A){w||(w=!0,g(),!f&&(r!==null?(A||(u=2),clearTimeout(r),_(0)):A||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,C(!0)},n),C}function KU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){return t!==void 0}function QU(t){return typeof t=="object"&&!Array.isArray(t)}function Y_(t){return typeof t=="string"||t instanceof String}function n0(t){return Q_()&&t instanceof Blob}function Q_(){return typeof Blob<"u"&&!gL()}function Fp(t,e,n,i){if(i<e)throw Dp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Dp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function zI(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xr||(xr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,i,r,o,l,u,h,f,m,_,g=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new iu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===xr.NO_ERROR,h=o.getStatus();if(!u||JU(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===xr.ABORT;i(!1,new iu(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new iu(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());YU(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=K_();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?BI():BU();l(h)}else{const h=UU();l(h)}};this.canceled_?n(!1,new iu(!1,null,!0)):this.backoffId_=GU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class iu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function e2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function t2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function i2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r2(t,e,n,i,r,o,l=!0){const u=zI(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return n2(f,e),e2(f,n),t2(f,o),i2(f,i),new XU(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function o2(...t){const e=s2();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(Q_())return new Blob(t);throw new Ve(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function a2(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){if(typeof atob>"u")throw VU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class af{constructor(e,n){this.data=e,this.contentType=n||null}}function u2(t,e){switch(t){case zn.RAW:return new af(jI(e));case zn.BASE64:case zn.BASE64URL:return new af(HI(t,e));case zn.DATA_URL:return new af(h2(e),d2(e))}throw K_()}function jI(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function c2(t){let e;try{e=decodeURIComponent(t)}catch{throw _a(zn.DATA_URL,"Malformed data URL.")}return jI(e)}function HI(t,e){switch(t){case zn.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw _a(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case zn.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw _a(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=l2(e)}catch(r){throw r.message.includes("polyfill")?r:_a(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class WI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _a(zn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=f2(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function h2(t){const e=new WI(t);return e.base64?HI(zn.BASE64,e.rest):c2(e.rest)}function d2(t){return new WI(t).contentType}function f2(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){let i=0,r="";n0(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(n0(this.data_)){const i=this.data_,r=a2(i,e,n);return r===null?null:new Ri(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ri(i,!0)}}static getBlob(...e){if(Q_()){const n=e.map(i=>i instanceof Ri?i.data_:i);return new Ri(o2.apply(null,n))}else{const n=e.map(l=>Y_(l)?u2(zn.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new Ri(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e;try{e=JSON.parse(t)}catch{return null}return QU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function m2(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function $I(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e){return e}class It{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||_2}}let ru=null;function g2(t){return!Y_(t)||t.length<2?t:$I(t)}function VI(){if(ru)return ru;const t=[];t.push(new It("bucket")),t.push(new It("generation")),t.push(new It("metageneration")),t.push(new It("name","fullPath",!0));function e(o,l){return g2(l)}const n=new It("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new It("size");return r.xform=i,t.push(r),t.push(new It("timeCreated")),t.push(new It("updated")),t.push(new It("md5Hash",null,!0)),t.push(new It("cacheControl",null,!0)),t.push(new It("contentDisposition",null,!0)),t.push(new It("contentEncoding",null,!0)),t.push(new It("contentLanguage",null,!0)),t.push(new It("contentType",null,!0)),t.push(new It("metadata","customMetadata",!0)),ru=t,ru}function v2(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new xt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function y2(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return v2(i,t),i}function qI(t,e,n){const i=J_(e);return i===null?null:y2(t,i,n)}function w2(t,e,n,i){const r=J_(e);if(r===null||!Y_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,_=t.fullPath,g="/b/"+l(m)+"/o/"+l(_),y=Sh(g,n,i),w=zI({alt:"media",token:f});return y+w})[0]}function E2(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="prefixes",r0="items";function T2(t,e,n){const i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[i0])for(const r of n[i0]){const o=r.replace(/\/$/,""),l=t._makeStorageReference(new xt(e,o));i.prefixes.push(l)}if(n[r0])for(const r of n[r0]){const o=t._makeStorageReference(new xt(e,r.name));i.items.push(o)}return i}function S2(t,e,n){const i=J_(n);return i===null?null:T2(t,e,i)}class X_{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){if(!t)throw K_()}function C2(t,e){function n(i,r){const o=qI(t,r,e);return eg(o!==null),o}return n}function I2(t,e){function n(i,r){const o=S2(t,e,r);return eg(o!==null),o}return n}function P2(t,e){function n(i,r){const o=qI(t,r,e);return eg(o!==null),w2(o,r,t.host,t._protocol)}return n}function tg(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=DU():r=MU():n.getStatus()===402?r=NU(t.bucket):n.getStatus()===403?r=FU(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function x2(t){const e=tg(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=AU(t.path)),o.serverResponse=r.serverResponse,o}return n}function b2(t,e,n,i,r){const o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),i&&(o.pageToken=i),r&&(o.maxResults=r);const l=e.bucketOnlyServerUrl(),u=Sh(l,t.host,t._protocol),h="GET",f=t.maxOperationRetryTime,m=new X_(u,h,I2(t,e.bucket),f);return m.urlParams=o,m.errorHandler=tg(e),m}function k2(t,e,n){const i=e.fullServerUrl(),r=Sh(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new X_(r,o,P2(t,n),l);return u.errorHandler=x2(e),u}function R2(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function O2(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=R2(null,e)),i}function L2(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let O=0;O<2;O++)I=I+Math.random().toString().slice(2);return I}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=O2(e,i,r),m=E2(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+h+"--",y=Ri.getBlob(_,i,g);if(y===null)throw WU();const w={name:f.fullPath},C=Sh(o,t.host,t._protocol),A="POST",T=t.maxUploadRetryTime,E=new X_(C,A,C2(t,n),T);return E.urlParams=w,E.headers=l,E.body=y.uploadData(),E.errorHandler=tg(e),E}class A2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw qo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class N2 extends A2{initXhr(){this.xhr_.responseType="text"}}function ng(){return new N2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n){this._service=e,n instanceof xt?this._location=n:this._location=xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wr(e,n)}get root(){const e=new xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $I(this._location.path)}get storage(){return this._service}get parent(){const e=p2(this._location.path);if(e===null)return null;const n=new xt(this._location.bucket,e);return new Wr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qU(e)}}function M2(t,e,n){t._throwIfRoot("uploadBytes");const i=L2(t.storage,t._location,VI(),new Ri(e,!0),n);return t.storage.makeRequestWithTokens(i,ng).then(r=>({metadata:r,ref:t}))}function D2(t){const e={prefixes:[],items:[]};return ZI(t,e).then(()=>e)}async function ZI(t,e,n){const r=await F2(t,{pageToken:n});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&await ZI(t,e,r.nextPageToken)}function F2(t,e){e!=null&&typeof e.maxResults=="number"&&Fp("options.maxResults",1,1e3,e.maxResults);const n=e||{},i=b2(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(i,ng)}function U2(t){t._throwIfRoot("getDownloadURL");const e=k2(t.storage,t._location,VI());return t.storage.makeRequestWithTokens(e,ng).then(n=>{if(n===null)throw $U();return n})}function B2(t,e){const n=m2(t._location.path,e),i=new xt(t._location.bucket,n);return new Wr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){return/^[A-Za-z]+:\/\//.test(t)}function j2(t,e){return new Wr(t,e)}function GI(t,e){if(t instanceof ig){const n=t;if(n._bucket==null)throw HU();const i=new Wr(n,n._bucket);return e!=null?GI(i,e):i}else return e!==void 0?B2(t,e):t}function H2(t,e){if(e&&z2(e)){if(t instanceof ig)return j2(t,e);throw Dp("To use ref(service, url), the first argument must be a Storage instance.")}else return GI(t,e)}function s0(t,e){const n=e==null?void 0:e[UI];return n==null?null:xt.makeFromBucketSpec(n,t)}function W2(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:VS(r,t.app.options.projectId))}class ig{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=FI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OU,this._maxUploadRetryTime=LU,this._requests=new Set,r!=null?this._bucket=xt.makeFromBucketSpec(r,this._host):this._bucket=s0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xt.makeFromBucketSpec(this._url,e):this._bucket=s0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Fp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Fp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wr(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new ZU(BI());{const l=r2(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const o0="@firebase/storage",a0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="storage";function $2(t,e,n){return t=$e(t),M2(t,e,n)}function V2(t){return t=$e(t),D2(t)}function YI(t){return t=$e(t),U2(t)}function Up(t,e){return t=$e(t),H2(t,e)}function q2(t=uh(),e){t=$e(t);const i=sr(t,KI).getImmediate({identifier:e}),r=HS("storage");return r&&Z2(i,...r),i}function Z2(t,e,n,i={}){W2(t,e,n,i)}function G2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new ig(n,i,r,e,Xr)}function K2(){In(new un(KI,G2,"PUBLIC").setMultipleInstances(!0)),jt(o0,a0,""),jt(o0,a0,"esm2017")}K2();function rg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function QI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y2=QI,JI=new Jr("auth","Firebase",QI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new lh("@firebase/auth");function Q2(t,...e){Ec.logLevel<=Ce.WARN&&Ec.warn(`Auth (${Xr}): ${t}`,...e)}function Su(t,...e){Ec.logLevel<=Ce.ERROR&&Ec.error(`Auth (${Xr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw sg(t,...e)}function Wn(t,...e){return sg(t,...e)}function J2(t,e,n){const i=Object.assign(Object.assign({},Y2()),{[e]:n});return new Jr("auth","Firebase",i).create(e,{appName:t.name})}function sg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return JI.create(t,...e)}function J(t,e,...n){if(!t)throw sg(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Su(e),new Error(e)}function mi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X2(){return l0()==="http:"||l0()==="https:"}function l0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||qS()||"connection"in navigator)?navigator.onLine:!0}function tB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=s_()||ZS()}get(){return eB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new fl(3e4,6e4);function vi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yi(t,e,n,i,r={}){return eP(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=ho(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),XI.fetch()(tP(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function eP(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},nB),e);try{const r=new sB(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw su(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw su(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw su(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw su(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw J2(t,m,f);xn(t,m)}}catch(r){if(r instanceof bn)throw r;xn(t,"network-request-failed",{message:String(r)})}}async function pl(t,e,n,i,r={}){const o=await yi(t,e,n,i,r);return"mfaPendingCredential"in o&&xn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function tP(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?og(t.config,r):`${t.config.apiScheme}://${r}`}function rB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sB{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Wn(this.auth,"network-request-failed")),iB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function su(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Wn(t,e,i);return r.customData._tokenResponse=n,r}function u0(t){return t!==void 0&&t.enterprise!==void 0}class oB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function aB(t,e){return yi(t,"GET","/v2/recaptchaConfig",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(t,e){return yi(t,"POST","/v1/accounts:delete",e)}async function uB(t,e){return yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cB(t,e=!1){const n=$e(t),i=await n.getIdToken(e),r=ag(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ga(lf(r.auth_time)),issuedAtTime:ga(lf(r.iat)),expirationTime:ga(lf(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function lf(t){return Number(t)*1e3}function ag(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Su("JWT malformed, contained fewer than 3 sections"),null;try{const r=ic(n);return r?JSON.parse(r):(Su("Failed to decode base64 JWT payload"),null)}catch(r){return Su("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function hB(t){const e=ag(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof bn&&dB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function dB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ka(t,uB(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_B(o.providerUserInfo):[],u=mB(t.providerData,l),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new nP(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function pB(t){const e=$e(t);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mB(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function _B(t){return t.map(e=>{var{providerId:n}=e,i=rg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e){const n=await eP(t,{},async()=>{const i=ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=tP(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",XI.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vB(t,e){return yi(t,"POST","/v2/accounts:revokeToken",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return J(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await gB(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Ya;return i&&(J(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(J(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nP(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cB(this,e)}reload(){return pB(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Tc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ka(this,lB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,l,u,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(l=n.photoURL)!==null&&l!==void 0?l:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:I,emailVerified:O,isAnonymous:B,providerData:H,stsTokenManager:V}=n;J(I&&V,e,"internal-error");const z=Ya.fromJSON(this.name,V);J(typeof I=="string",e,"internal-error"),Ii(_,e.name),Ii(g,e.name),J(typeof O=="boolean",e,"internal-error"),J(typeof B=="boolean",e,"internal-error"),Ii(y,e.name),Ii(w,e.name),Ii(C,e.name),Ii(A,e.name),Ii(T,e.name),Ii(E,e.name);const te=new br({uid:I,auth:e,email:g,emailVerified:O,displayName:_,isAnonymous:B,photoURL:w,phoneNumber:y,tenantId:C,stsTokenManager:z,createdAt:T,lastLoginAt:E});return H&&Array.isArray(H)&&(te.providerData=H.map(W=>Object.assign({},W))),A&&(te._redirectEventId=A),te}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ya;r.updateFromServerResponse(n);const o=new br({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Tc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;function ri(t){mi(t instanceof Function,"Expected a class definition");let e=c0.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,c0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iP.type="NONE";const h0=iP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Cu(this.userKey,r.apiKey,o),this.fullPersistenceKey=Cu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new js(ri(h0),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||ri(h0);const l=Cu(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){const _=br._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new js(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new js(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lP(e))return"Blackberry";if(uP(e))return"Webos";if(lg(e))return"Safari";if((e.includes("chrome/")||sP(e))&&!e.includes("edge/"))return"Chrome";if(aP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rP(t=St()){return/firefox\//i.test(t)}function lg(t=St()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sP(t=St()){return/crios\//i.test(t)}function oP(t=St()){return/iemobile/i.test(t)}function aP(t=St()){return/android/i.test(t)}function lP(t=St()){return/blackberry/i.test(t)}function uP(t=St()){return/webos/i.test(t)}function Ch(t=St()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yB(t=St()){var e;return Ch(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wB(){return vL()&&document.documentMode===10}function cP(t=St()){return Ch(t)||aP(t)||uP(t)||lP(t)||/windows phone/i.test(t)||oP(t)}function EB(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e=[]){let n;switch(t){case"Browser":n=d0(St());break;case"Worker":n=`${d0(St())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e={}){return yi(t,"GET","/v2/passwordPolicy",vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=6;class IB{constructor(e){var n,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:CB,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new TB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?$e(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SB(this),n=new IB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await vB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Q2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(t){return $e(t)}class f0{constructor(e){this.auth=e,this.observer=null,this.addObserver=PL(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function dP(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=Wn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",xB().appendChild(i)})}function bB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const kB="https://www.google.com/recaptcha/enterprise.js?render=",RB="recaptcha-enterprise",OB="NO_RECAPTCHA";class LB{constructor(e){this.type=RB,this.auth=ns(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{aB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new oB(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;u0(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(OB)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&u0(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}dP(kB+u).then(()=>{r(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function p0(t,e,n,i=!1){const r=new LB(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const l=Object.assign({},e);return i?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function zp(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await p0(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await p0(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t,e){const n=sr(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(za(o,e??{}))return r;xn(r,"already-initialized")}return n.initialize({options:e})}function NB(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MB(t,e,n){const i=ns(t);J(i._canInitEmulator,i,"emulator-config-failed"),J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=fP(e),{host:l,port:u}=DB(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||FB()}function fP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DB(t){const e=fP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:m0(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:m0(l)}}}function m0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function UB(t,e){return yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t,e){return pl(t,"POST","/v1/accounts:signInWithPassword",vi(t,e))}async function zB(t,e){return yi(t,"POST","/v1/accounts:sendOobCode",vi(t,e))}async function jB(t,e){return zB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HB(t,e){return pl(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))}async function WB(t,e){return pl(t,"POST","/v1/accounts:signInWithEmailLink",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends ug{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Qa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Qa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,n,"signInWithPassword",BB);case"emailLink":return HB(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,i,"signUpPassword",UB);case"emailLink":return WB(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return pl(t,"POST","/v1/accounts:signInWithIdp",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="http://localhost";class $r extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=rg(n,["providerId","signInMethod"]);if(!i||!r)return null;const l=new $r(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:$B,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ho(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qB(t){const e=ea(ta(t)).link,n=e?ea(ta(e)).deep_link_id:null,i=ea(ta(t)).deep_link_id;return(i?ea(ta(i)).link:null)||i||n||e||t}class cg{constructor(e){var n,i,r,o,l,u;const h=ea(ta(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=VB((r=h.mode)!==null&&r!==void 0?r:null);J(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=qB(e);try{return new cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,n){return Qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=cg.parseLink(n);return J(i,"argument-error"),Qa._fromEmailAndCode(e,i.code,i.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends pP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ml{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Li.credential(n,i)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ml{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends ml{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ni.credential(n,i)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZB(t,e){return pl(t,"POST","/v1/accounts:signUp",vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await br._fromIdTokenResponse(e,i,r),l=_0(i);return new Vr({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=_0(i);return new Vr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function _0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends bn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Sc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Sc(e,n,i,r)}}function mP(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sc._fromErrorAndOperation(t,o,e,i):o})}async function GB(t,e,n=!1){const i=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KB(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await Ka(t,mP(i,r,e,t),n);J(o.idToken,i,"internal-error");const l=ag(o.idToken);J(l,i,"internal-error");const{sub:u}=l;return J(t.uid===u,i,"user-mismatch"),Vr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e,n=!1){const i="signIn",r=await mP(t,i,e),o=await Vr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function YB(t,e){return _P(ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(t,e,n){var i;J(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t){const e=ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JB(t,e,n){const i=ns(t),l=await zp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZB).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&gP(t),h}),u=await Vr._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function XB(t,e,n){return YB($e(t),_o.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gP(t),i})}async function ez(t,e){const n=$e(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&QB(n.auth,r,e);const{email:o}=await jB(n.auth,r);o!==t.email&&await t.reload()}function tz(t,e,n,i){return $e(t).onIdTokenChanged(e,n,i)}function nz(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function vP(t,e,n,i){return $e(t).onAuthStateChanged(e,n,i)}function iz(t){return $e(t).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){const t=St();return lg(t)||Ch(t)}const sz=1e3,oz=10;class wP extends yP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=rz()&&EB(),this.fallbackToPolling=cP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(i);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);wB()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,oz):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},sz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wP.type="LOCAL";const az=wP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP extends yP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}EP.type="SESSION";const TP=EP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Ih(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await lz(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=hg("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const g=_;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function cz(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function hz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fz(){return SP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebaseLocalStorageDb",pz=1,Ic="firebaseLocalStorage",IP="fbase_key";class _l{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function mz(){const t=indexedDB.deleteDatabase(CP);return new _l(t).toPromise()}function jp(){const t=indexedDB.open(CP,pz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ic,{keyPath:IP})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ic)?e(i):(i.close(),await mz(),e(await jp()))})})}async function g0(t,e,n){const i=Ph(t,!0).put({[IP]:e,value:n});return new _l(i).toPromise()}async function _z(t,e){const n=Ph(t,!1).get(e),i=await new _l(n).toPromise();return i===void 0?null:i.value}function v0(t,e){const n=Ph(t,!0).delete(e);return new _l(n).toPromise()}const gz=800,vz=3;class PP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>vz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(fz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hz(),!this.activeServiceWorker)return;this.sender=new uz(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await g0(e,Cc,"1"),await v0(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_z(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ph(r,!1).getAll();return new _l(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PP.type="LOCAL";const yz=PP;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t,e){return e?ri(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ez(t){return _P(t.auth,new dg(t),t.bypassAuthState)}function Tz(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),KB(n,new dg(t),t.bypassAuthState)}async function Sz(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),GB(n,new dg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ez;case"linkViaPopup":case"linkViaRedirect":return Sz;case"reauthViaPopup":case"reauthViaRedirect":return Tz;default:xn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=new fl(2e3,1e4);class ks extends xP{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Cz.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz="pendingRedirect",Iu=new Map;class Pz extends xP{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const i=await xz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xz(t,e){const n=Rz(e),i=kz(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function bz(t,e){Iu.set(t._key(),e)}function kz(t){return ri(t._redirectPersistence)}function Rz(t){return Cu(Iz,t.config.apiKey,t.name)}async function Oz(t,e,n=!1){const i=ns(t),r=wz(i,e),l=await new Pz(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=10*60*1e3;class Az{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!bP(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Wn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(e))}saveEventToCache(e){this.cachedEventUids.add(y0(e)),this.lastProcessedEventTime=Date.now()}}function y0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(t,e={}){return yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fz=/^https?/;async function Uz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mz(t);for(const n of e)try{if(Bz(n))return}catch{}xn(t,"unauthorized-domain")}function Bz(t){const e=Bp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!Fz.test(n))return!1;if(Dz.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=new fl(3e4,6e4);function w0(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jz(t){return new Promise((e,n)=>{var i,r,o;function l(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Wn(t,"network-request-failed"))},timeout:zz.get()})}if(!((r=(i=$n().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=$n().gapi)===null||o===void 0)&&o.load)l();else{const u=bB("iframefcb");return $n()[u]=()=>{gapi.load?l():n(Wn(t,"network-request-failed"))},dP(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw Pu=null,e})}let Pu=null;function Hz(t){return Pu=Pu||jz(t),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new fl(5e3,15e3),$z="__/auth/iframe",Vz="emulator/auth/iframe",qz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gz(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?og(e,Vz):`https://${t.config.authDomain}/${$z}`,i={apiKey:e.apiKey,appName:t.name,v:Xr},r=Zz.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${ho(i).slice(1)}`}async function Kz(t){const e=await Hz(t),n=$n().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:Gz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qz,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Wn(t,"network-request-failed"),u=$n().setTimeout(()=>{o(l)},Wz.get());function h(){$n().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qz=500,Jz=600,Xz="_blank",ej="http://localhost";class E0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tj(t,e,n,i=Qz,r=Jz){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},Yz),{width:i.toString(),height:r.toString(),top:o,left:l}),f=St().toLowerCase();n&&(u=sP(f)?Xz:n),rP(f)&&(e=e||ej,h.scrollbars="yes");const m=Object.entries(h).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(yB(f)&&u!=="_self")return nj(e||"",u),new E0(null);const _=window.open(e||"",u,m);J(_,t,"popup-blocked");try{_.focus()}catch{}return new E0(_)}function nj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="__/auth/handler",rj="emulator/auth/handler",sj=encodeURIComponent("fac");async function T0(t,e,n,i,r,o){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Xr,eventId:r};if(e instanceof pP){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",dp(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))l[m]=_}if(e instanceof ml){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${sj}=${encodeURIComponent(h)}`:"";return`${oj(t)}?${ho(u).slice(1)}${f}`}function oj({config:t}){return t.emulator?og(t,rj):`https://${t.authDomain}/${ij}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="webStorageSupport";class aj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TP,this._completeRedirectFn=Oz,this._overrideRedirectResult=bz}async _openPopup(e,n,i,r){var o;mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await T0(e,n,i,Bp(),r);return tj(e,l,hg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await T0(e,n,i,Bp(),r);return cz(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(mi(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Kz(e),i=new Az(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uf,{type:uf},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[uf];l!==void 0&&n(!!l),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cP()||lg()||Ch()}}const lj=aj;var S0="@firebase/auth",C0="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function hj(t){In(new un("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;J(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hP(t)},f=new PB(i,r,o,h);return NB(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),In(new un("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(i=>new uj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jt(S0,C0,cj(t)),jt(S0,C0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=5*60,fj=$S("authIdTokenMaxAge")||dj;let I0=null;const pj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>fj)return;const r=n==null?void 0:n.token;I0!==r&&(I0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function mj(t=uh()){const e=sr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AB(t,{popupRedirectResolver:lj,persistence:[yz,az,TP]}),i=$S("authTokenSyncURL");if(i){const o=pj(i);nz(n,o,()=>o(n.currentUser)),tz(n,l=>o(l))}const r=jS("auth");return r&&MB(n,`http://${r}`),n}hj("Browser");const _j={apiKey:"AIzaSyBEfQt_JsW2jTY83A3EwRAVSn56--ESJ0M",authDomain:"skatespots-56bd6.firebaseapp.com",databaseURL:"https://skatespots-56bd6-default-rtdb.firebaseio.com",projectId:"skatespots-56bd6",storageBucket:"skatespots-56bd6.appspot.com",messagingSenderId:"439071919444",appId:"1:439071919444:web:211c9df6c6f6291bddccc1",measurementId:"G-GKPZW9GDTQ"},xh=eC(_j);fM(xh);const kP=bU(xh),Hp=q2(xh),qr=mj(xh);function bh(){Xc();const[t,e]=N.useState(null);N.useEffect(()=>{const i=vP(qr,r=>{e(r||null)});return()=>{i()}},[]);const n=()=>{iz(qr).then(()=>{console.log("Sign out successful."),e(null)}).catch(i=>console.log(i))};return P.jsxs("nav",{className:"nav",children:[P.jsx("a",{href:"/skateSpots/",className:"titleSite",children:"jonathan gooning"}),P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"/skateSpots/#submit",children:P.jsx("button",{className:"submitButton",children:"Submit a Spot"})})}),P.jsx("li",{children:t!==null?P.jsx("div",{children:P.jsx("button",{onClick:n,className:"submitButton",children:"Logout"})}):P.jsxs("ul",{children:[P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{className:"loginButton",children:"Login"})}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"regButton",children:"Register"})})]})})]})]})}function gj(){const[t,e]=N.useState(),[n,i]=N.useState(),r=Xc(),o={url:"https://johnson4500.github.io/skateSpots/",handleCodeInApp:!0},l=u=>{u.preventDefault(),JB(qr,t,n).then(h=>{console.log(h),ez(qr.currentUser,o).then(()=>{console.log("Email verification link sent!")}),r("/")}).catch(h=>{console.log(h)})};return P.jsxs(N.Fragment,{children:[P.jsx(bh,{}),P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsx("br",{}),P.jsx("h2",{id:"topText",children:"Register"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:l,children:[P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:u=>e(u.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:u=>i(u.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Register"})]}),P.jsx("a",{href:"/skateSpots/#login",children:P.jsx("button",{id:"regButt",className:"buttons",children:"Already Have an Account"})})]})})]})}function vj(){const[t,e]=N.useState(),[n,i]=N.useState(),r=Xc(),o=l=>{l.preventDefault(),XB(qr,t,n).then(u=>{u.user,r("/")}).catch(u=>{console.log(u)})};return P.jsxs(N.Fragment,{children:[P.jsx(bh,{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("div",{className:"Login",children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{id:"logintext",children:"Login"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:o,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:l=>e(l.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",onChange:l=>i(l.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",className:"buttons",type:"submit",children:"Login"})]}),P.jsx("a",{href:"/skateSpots/#register",children:P.jsx("button",{className:"buttons",id:"regButt",children:"Register"})})]})})]})}function RP(t,e){const n=N.useRef(e);N.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const yj=1;function wj(t){return Object.freeze({__version:yj,map:t})}function Ej(t,e){return Object.freeze({...t,...e})}const OP=N.createContext(null),LP=OP.Provider;function AP(){const t=N.useContext(OP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Tj(t){function e(n,i){const{instance:r,context:o}=t(n).current;return N.useImperativeHandle(i,()=>r),n.children==null?null:si.createElement(LP,{value:o},n.children)}return N.forwardRef(e)}function Sj(t){function e(n,i){const[r,o]=N.useState(!1),{instance:l}=t(n,o).current;N.useImperativeHandle(i,()=>l),N.useEffect(function(){r&&l.update()},[l,r,n.children]);const u=l._contentNode;return u?Ym.createPortal(n.children,u):null}return N.forwardRef(e)}function Cj(t){function e(n,i){const{instance:r}=t(n).current;return N.useImperativeHandle(i,()=>r),null}return N.forwardRef(e)}function NP(t,e){const n=N.useRef();N.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function fg(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Ij(t,e){return function(i,r){const o=AP(),l=t(fg(i,o),o);return RP(o.map,i.attribution),NP(l.current,i.eventHandlers),e(l.current,o,i,r),l}}var Wp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(bb,function(n){var i="1.9.4";function r(s){var a,c,d,p;for(c=1,d=arguments.length;c<d;c++){p=arguments[c];for(a in p)s[a]=p[a]}return s}var o=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var d=c.call(arguments,2);return function(){return s.apply(a,d.length?d.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,a,c){var d,p,v,S;return S=function(){d=!1,p&&(v.apply(c,p),p=!1)},v=function(){d?p=arguments:(s.apply(c,arguments),setTimeout(S,a),d=!0)},v}function m(s,a,c){var d=a[1],p=a[0],v=d-p;return s===d&&c?s:((s-p)%v+v)%v+p}function _(){return!1}function g(s,a){if(a===!1)return s;var c=Math.pow(10,a===void 0?6:a);return Math.round(s*c)/c}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return y(s).split(/\s+/)}function C(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in a)s.options[c]=a[c];return s.options}function A(s,a,c){var d=[];for(var p in s)d.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!a||a.indexOf("?")===-1?"?":"&")+d.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function E(s,a){return s.replace(T,function(c,d){var p=a[d];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(a)),p})}var I=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function O(s,a){for(var c=0;c<s.length;c++)if(s[c]===a)return c;return-1}var B="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function z(s){var a=+new Date,c=Math.max(0,16-(a-V));return V=a+c,window.setTimeout(s,c)}var te=window.requestAnimationFrame||H("RequestAnimationFrame")||z,W=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function oe(s,a,c){if(c&&te===z)s.call(a);else return te.call(window,l(s,a))}function we(s){s&&W.call(window,s)}var _t={__proto__:null,extend:r,create:o,bind:l,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:g,trim:y,splitWords:w,setOptions:C,getParamString:A,template:E,isArray:I,indexOf:O,emptyImageUrl:B,requestFn:te,cancelFn:W,requestAnimFrame:oe,cancelAnimFrame:we};function G(){}G.extend=function(s){var a=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,d=o(c);d.constructor=a,a.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(a[p]=this[p]);return s.statics&&r(a,s.statics),s.includes&&(Q(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=c.options?o(c.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,S=d._initHooks.length;v<S;v++)d._initHooks[v].call(this)}},a},G.include=function(s){var a=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},G.mergeOptions=function(s){return r(this.prototype.options,s),this},G.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Q(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=I(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a);else{s=w(s);for(var p=0,v=s.length;p<v;p++)this._on(s[p],a,c)}return this},off:function(s,a,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],a);else{s=w(s);for(var p=arguments.length===1,v=0,S=s.length;v<S;v++)p?this._off(s[v]):this._off(s[v],a,c)}return this},_on:function(s,a,c,d){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,c)===!1){c===this&&(c=void 0);var p={fn:a,ctx:c};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,a,c){var d,p,v;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,v=d.length;p<v;p++)d[p].fn=_;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var S=this._listens(s,a,c);if(S!==!1){var b=d[S];this._firingCount&&(b.fn=_,this._events[s]=d=d.slice()),d.splice(S,1)}}},fire:function(s,a,c){if(!this.listens(s,c))return this;var d=r({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var v=0,S=p.length;v<S;v++){var b=p[v],k=b.fn;b.once&&this.off(s,k,b.ctx),k.call(b.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(s,a,c,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=a;typeof a!="function"&&(d=!!a,p=void 0,c=void 0);var v=this._events&&this._events[s];if(v&&v.length&&this._listens(s,p,c)!==!1)return!0;if(d){for(var S in this._eventParents)if(this._eventParents[S].listens(s,a,c,d))return!0}return!1},_listens:function(s,a,c){if(!this._events)return!1;var d=this._events[s]||[];if(!a)return!!d.length;c===this&&(c=void 0);for(var p=0,v=d.length;p<v;p++)if(d[p].fn===a&&d[p].ctx===c)return p;return!1},once:function(s,a,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],a,!0);else{s=w(s);for(var p=0,v=s.length;p<v;p++)this._on(s[p],a,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var R=G.extend(ne);function x(s,a,c){this.x=c?Math.round(s):s,this.y=c?Math.round(a):a}var $=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};x.prototype={clone:function(){return new x(this.x,this.y)},add:function(s){return this.clone()._add(F(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(F(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new x(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new x(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(s){s=F(s);var a=s.x-this.x,c=s.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(s){return s=F(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=F(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function F(s,a,c){return s instanceof x?s:I(s)?new x(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new x(s.x,s.y):new x(s,a,c)}function K(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}K.prototype={extend:function(s){var a,c;if(!s)return this;if(s instanceof x||typeof s[0]=="number"||"x"in s)a=c=F(s);else if(s=le(s),a=s.min,c=s.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,c;return typeof s[0]=="number"||s instanceof x?s=F(s):s=le(s),s instanceof K?(a=s.min,c=s.max):a=c=s,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=le(s);var a=this.min,c=this.max,d=s.min,p=s.max,v=p.x>=a.x&&d.x<=c.x,S=p.y>=a.y&&d.y<=c.y;return v&&S},overlaps:function(s){s=le(s);var a=this.min,c=this.max,d=s.min,p=s.max,v=p.x>a.x&&d.x<c.x,S=p.y>a.y&&d.y<c.y;return v&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,c=this.max,d=Math.abs(a.x-c.x)*s,p=Math.abs(a.y-c.y)*s;return le(F(a.x-d,a.y-p),F(c.x+d,c.y+p))},equals:function(s){return s?(s=le(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function le(s,a){return!s||s instanceof K?s:new K(s,a)}function Pe(s,a){if(s)for(var c=a?[s,a]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}Pe.prototype={extend:function(s){var a=this._southWest,c=this._northEast,d,p;if(s instanceof me)d=s,p=s;else if(s instanceof Pe){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(ie(s)||ve(s)):this;return!a&&!c?(this._southWest=new me(d.lat,d.lng),this._northEast=new me(p.lat,p.lng)):(a.lat=Math.min(d.lat,a.lat),a.lng=Math.min(d.lng,a.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(s){var a=this._southWest,c=this._northEast,d=Math.abs(a.lat-c.lat)*s,p=Math.abs(a.lng-c.lng)*s;return new Pe(new me(a.lat-d,a.lng-p),new me(c.lat+d,c.lng+p))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof me||"lat"in s?s=ie(s):s=ve(s);var a=this._southWest,c=this._northEast,d,p;return s instanceof Pe?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=a.lat&&p.lat<=c.lat&&d.lng>=a.lng&&p.lng<=c.lng},intersects:function(s){s=ve(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),v=p.lat>=a.lat&&d.lat<=c.lat,S=p.lng>=a.lng&&d.lng<=c.lng;return v&&S},overlaps:function(s){s=ve(s);var a=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),v=p.lat>a.lat&&d.lat<c.lat,S=p.lng>a.lng&&d.lng<c.lng;return v&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=ve(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(s,a){return s instanceof Pe?s:new Pe(s,a)}function me(s,a,c){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,c!==void 0&&(this.alt=+c)}me.prototype={equals:function(s,a){if(!s)return!1;s=ie(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return wi.distance(this,ie(s))},wrap:function(){return wi.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,c=a/Math.cos(Math.PI/180*this.lat);return ve([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function ie(s,a,c){return s instanceof me?s:I(s)&&typeof s[0]!="object"?s.length===3?new me(s[0],s[1],s[2]):s.length===2?new me(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new me(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new me(s,a,c)}var gt={latLngToPoint:function(s,a){var c=this.projection.project(s),d=this.scale(a);return this.transformation._transform(c,d)},pointToLatLng:function(s,a){var c=this.scale(a),d=this.transformation.untransform(s,c);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(s),d=this.transformation.transform(a.min,c),p=this.transformation.transform(a.max,c);return new K(d,p)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new me(c,a,d)},wrapLatLngBounds:function(s){var a=s.getCenter(),c=this.wrapLatLng(a),d=a.lat-c.lat,p=a.lng-c.lng;if(d===0&&p===0)return s;var v=s.getSouthWest(),S=s.getNorthEast(),b=new me(v.lat-d,v.lng-p),k=new me(S.lat-d,S.lng-p);return new Pe(b,k)}},wi=r({},gt,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var c=Math.PI/180,d=s.lat*c,p=a.lat*c,v=Math.sin((a.lat-s.lat)*c/2),S=Math.sin((a.lng-s.lng)*c/2),b=v*v+Math.cos(d)*Math.cos(p)*S*S,k=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*k}}),yg=6378137,Rh={R:yg,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,s.lat),-c),p=Math.sin(d*a);return new x(this.R*s.lng*a,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var a=180/Math.PI;return new me((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=yg*Math.PI;return new K([-s,-s],[s,s])}()};function Oh(s,a,c,d){if(I(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=c,this._d=d}Oh.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new x((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function yo(s,a,c,d){return new Oh(s,a,c,d)}var Lh=r({},wi,{code:"EPSG:3857",projection:Rh,transformation:function(){var s=.5/(Math.PI*Rh.R);return yo(s,.5,-s,.5)}()}),rx=r({},Lh,{code:"EPSG:900913"});function wg(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Eg(s,a){var c="",d,p,v,S,b,k;for(d=0,v=s.length;d<v;d++){for(b=s[d],p=0,S=b.length;p<S;p++)k=b[p],c+=(p?"L":"M")+k.x+" "+k.y;c+=a?Y.svg?"z":"x":""}return c||"M0 0"}var Ah=document.documentElement.style,yl="ActiveXObject"in window,sx=yl&&!document.addEventListener,Tg="msLaunchUri"in navigator&&!("documentMode"in document),Nh=On("webkit"),Sg=On("android"),Cg=On("android 2")||On("android 3"),ox=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ax=Sg&&On("Google")&&ox<537&&!("AudioNode"in window),Mh=!!window.opera,Ig=!Tg&&On("chrome"),Pg=On("gecko")&&!Nh&&!Mh&&!yl,lx=!Ig&&On("safari"),xg=On("phantom"),bg="OTransition"in Ah,ux=navigator.platform.indexOf("Win")===0,kg=yl&&"transition"in Ah,Dh="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Cg,Rg="MozPerspective"in Ah,cx=!window.L_DISABLE_3D&&(kg||Dh||Rg)&&!bg&&!xg,wo=typeof orientation<"u"||On("mobile"),hx=wo&&Nh,dx=wo&&Dh,Og=!window.PointerEvent&&window.MSPointerEvent,Lg=!!(window.PointerEvent||Og),Ag="ontouchstart"in window||!!window.TouchEvent,fx=!window.L_NO_TOUCH&&(Ag||Lg),px=wo&&Mh,mx=wo&&Pg,_x=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gx=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return s}(),vx=function(){return!!document.createElement("canvas").getContext}(),Fh=!!(document.createElementNS&&wg("svg").createSVGRect),yx=!!Fh&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wx=!Fh&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Ex=navigator.platform.indexOf("Mac")===0,Tx=navigator.platform.indexOf("Linux")===0;function On(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Y={ie:yl,ielt9:sx,edge:Tg,webkit:Nh,android:Sg,android23:Cg,androidStock:ax,opera:Mh,chrome:Ig,gecko:Pg,safari:lx,phantom:xg,opera12:bg,win:ux,ie3d:kg,webkit3d:Dh,gecko3d:Rg,any3d:cx,mobile:wo,mobileWebkit:hx,mobileWebkit3d:dx,msPointer:Og,pointer:Lg,touch:fx,touchNative:Ag,mobileOpera:px,mobileGecko:mx,retina:_x,passiveEvents:gx,canvas:vx,svg:Fh,vml:wx,inlineSvg:yx,mac:Ex,linux:Tx},Ng=Y.msPointer?"MSPointerDown":"pointerdown",Mg=Y.msPointer?"MSPointerMove":"pointermove",Dg=Y.msPointer?"MSPointerUp":"pointerup",Fg=Y.msPointer?"MSPointerCancel":"pointercancel",Uh={touchstart:Ng,touchmove:Mg,touchend:Dg,touchcancel:Fg},Ug={touchstart:bx,touchmove:wl,touchend:wl,touchcancel:wl},is={},Bg=!1;function Sx(s,a,c){return a==="touchstart"&&xx(),Ug[a]?(c=Ug[a].bind(this,c),s.addEventListener(Uh[a],c,!1),c):(console.warn("wrong event specified:",a),_)}function Cx(s,a,c){if(!Uh[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Uh[a],c,!1)}function Ix(s){is[s.pointerId]=s}function Px(s){is[s.pointerId]&&(is[s.pointerId]=s)}function zg(s){delete is[s.pointerId]}function xx(){Bg||(document.addEventListener(Ng,Ix,!0),document.addEventListener(Mg,Px,!0),document.addEventListener(Dg,zg,!0),document.addEventListener(Fg,zg,!0),Bg=!0)}function wl(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in is)a.touches.push(is[c]);a.changedTouches=[a],s(a)}}function bx(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ut(a),wl(s,a)}function kx(s){var a={},c,d;for(d in s)c=s[d],a[d]=c&&c.bind?c.bind(s):c;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Rx=200;function Ox(s,a){s.addEventListener("dblclick",a);var c=0,d;function p(v){if(v.detail!==1){d=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var S=Vg(v);if(!(S.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!S.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var b=Date.now();b-c<=Rx?(d++,d===2&&a(kx(v))):d=1,c=b}}}return s.addEventListener("click",p),{dblclick:a,simDblclick:p}}function Lx(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Bh=Sl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Eo=Sl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),jg=Eo==="webkitTransition"||Eo==="OTransition"?Eo+"End":"transitionend";function Hg(s){return typeof s=="string"?document.getElementById(s):s}function To(s,a){var c=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);c=d?d[a]:null}return c==="auto"?null:c}function Ee(s,a,c){var d=document.createElement(s);return d.className=a||"",c&&c.appendChild(d),d}function De(s){var a=s.parentNode;a&&a.removeChild(s)}function El(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function rs(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function ss(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function zh(s,a){if(s.classList!==void 0)return s.classList.contains(a);var c=Tl(s);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function ue(s,a){if(s.classList!==void 0)for(var c=w(a),d=0,p=c.length;d<p;d++)s.classList.add(c[d]);else if(!zh(s,a)){var v=Tl(s);jh(s,(v?v+" ":"")+a)}}function qe(s,a){s.classList!==void 0?s.classList.remove(a):jh(s,y((" "+Tl(s)+" ").replace(" "+a+" "," ")))}function jh(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function Tl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Yt(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&Ax(s,a)}function Ax(s,a){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(d)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):s.style.filter+=" progid:"+d+"(opacity="+a+")"}function Sl(s){for(var a=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in a)return s[c];return!1}function or(s,a,c){var d=a||new x(0,0);s.style[Bh]=(Y.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function Ge(s,a){s._leaflet_pos=a,Y.any3d?or(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function ar(s){return s._leaflet_pos||new x(0,0)}var So,Co,Hh;if("onselectstart"in document)So=function(){ae(window,"selectstart",ut)},Co=function(){xe(window,"selectstart",ut)};else{var Io=Sl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);So=function(){if(Io){var s=document.documentElement.style;Hh=s[Io],s[Io]="none"}},Co=function(){Io&&(document.documentElement.style[Io]=Hh,Hh=void 0)}}function Wh(){ae(window,"dragstart",ut)}function $h(){xe(window,"dragstart",ut)}var Cl,Vh;function qh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Il(),Cl=s,Vh=s.style.outlineStyle,s.style.outlineStyle="none",ae(window,"keydown",Il))}function Il(){Cl&&(Cl.style.outlineStyle=Vh,Cl=void 0,Vh=void 0,xe(window,"keydown",Il))}function Wg(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Zh(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var Nx={__proto__:null,TRANSFORM:Bh,TRANSITION:Eo,TRANSITION_END:jg,get:Hg,getStyle:To,create:Ee,remove:De,empty:El,toFront:rs,toBack:ss,hasClass:zh,addClass:ue,removeClass:qe,setClass:jh,getClass:Tl,setOpacity:Yt,testProp:Sl,setTransform:or,setPosition:Ge,getPosition:ar,get disableTextSelection(){return So},get enableTextSelection(){return Co},disableImageDrag:Wh,enableImageDrag:$h,preventOutline:qh,restoreOutline:Il,getSizedParentNode:Wg,getScale:Zh};function ae(s,a,c,d){if(a&&typeof a=="object")for(var p in a)Kh(s,p,a[p],c);else{a=w(a);for(var v=0,S=a.length;v<S;v++)Kh(s,a[v],c,d)}return this}var Ln="_leaflet_events";function xe(s,a,c,d){if(arguments.length===1)$g(s),delete s[Ln];else if(a&&typeof a=="object")for(var p in a)Yh(s,p,a[p],c);else if(a=w(a),arguments.length===2)$g(s,function(b){return O(a,b)!==-1});else for(var v=0,S=a.length;v<S;v++)Yh(s,a[v],c,d);return this}function $g(s,a){for(var c in s[Ln]){var d=c.split(/\d/)[0];(!a||a(d))&&Yh(s,d,null,null,c)}}var Gh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kh(s,a,c,d){var p=a+h(c)+(d?"_"+h(d):"");if(s[Ln]&&s[Ln][p])return this;var v=function(b){return c.call(d||s,b||window.event)},S=v;!Y.touchNative&&Y.pointer&&a.indexOf("touch")===0?v=Sx(s,a,v):Y.touch&&a==="dblclick"?v=Ox(s,v):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener(Gh[a]||a,v,Y.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(v=function(b){b=b||window.event,Jh(s,b)&&S(b)},s.addEventListener(Gh[a],v,!1)):s.addEventListener(a,S,!1):s.attachEvent("on"+a,v),s[Ln]=s[Ln]||{},s[Ln][p]=v}function Yh(s,a,c,d,p){p=p||a+h(c)+(d?"_"+h(d):"");var v=s[Ln]&&s[Ln][p];if(!v)return this;!Y.touchNative&&Y.pointer&&a.indexOf("touch")===0?Cx(s,a,v):Y.touch&&a==="dblclick"?Lx(s,v):"removeEventListener"in s?s.removeEventListener(Gh[a]||a,v,!1):s.detachEvent("on"+a,v),s[Ln][p]=null}function lr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Qh(s){return Kh(s,"wheel",lr),this}function Po(s){return ae(s,"mousedown touchstart dblclick contextmenu",lr),s._leaflet_disable_click=!0,this}function ut(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ur(s){return ut(s),lr(s),this}function Vg(s){if(s.composedPath)return s.composedPath();for(var a=[],c=s.target;c;)a.push(c),c=c.parentNode;return a}function qg(s,a){if(!a)return new x(s.clientX,s.clientY);var c=Zh(a),d=c.boundingClientRect;return new x((s.clientX-d.left)/c.x-a.clientLeft,(s.clientY-d.top)/c.y-a.clientTop)}var Mx=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Zg(s){return Y.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Mx:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Jh(s,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var Dx={__proto__:null,on:ae,off:xe,stopPropagation:lr,disableScrollPropagation:Qh,disableClickPropagation:Po,preventDefault:ut,stop:ur,getPropagationPath:Vg,getMousePosition:qg,getWheelDelta:Zg,isExternalTarget:Jh,addListener:ae,removeListener:xe},Gg=R.extend({run:function(s,a,c,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=ar(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=oe(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var c=this._startPos.add(this._offset.multiplyBy(s));a&&c._round(),Ge(this._el,c),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),_e=R.extend({options:{crs:Lh,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=C(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ie(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Eo&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ae(this._proxy,jg,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(ie(s),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,c.zoom):this._tryAnimatedPan(s,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,c){var d=this.getZoomScale(a),p=this.getSize().divideBy(2),v=s instanceof x?s:this.latLngToContainerPoint(s),S=v.subtract(p).multiplyBy(1-1/d),b=this.containerPointToLatLng(p.add(S));return this.setView(b,a,{zoom:c})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():ve(s);var c=F(a.paddingTopLeft||a.padding||[0,0]),d=F(a.paddingBottomRight||a.padding||[0,0]),p=this.getBoundsZoom(s,!1,c.add(d));if(p=typeof a.maxZoom=="number"?Math.min(a.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var v=d.subtract(c).divideBy(2),S=this.project(s.getSouthWest(),p),b=this.project(s.getNorthEast(),p),k=this.unproject(S.add(b).divideBy(2).add(v),p);return{center:k,zoom:p}},fitBounds:function(s,a){if(s=ve(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=F(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){ue(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,c){if(c=c||{},c.animate===!1||!Y.any3d)return this.setView(s,a,c);this._stop();var d=this.project(this.getCenter()),p=this.project(s),v=this.getSize(),S=this._zoom;s=ie(s),a=a===void 0?S:a;var b=Math.max(v.x,v.y),k=b*this.getZoomScale(S,a),D=p.distanceTo(d)||1,q=1.42,X=q*q;function ce(Ke){var Fl=Ke?-1:1,Cb=Ke?k:b,Ib=k*k-b*b+Fl*X*X*D*D,Pb=2*Cb*X*D,ud=Ib/Pb,bv=Math.sqrt(ud*ud+1)-ud,xb=bv<1e-9?-18:Math.log(bv);return xb}function Ct(Ke){return(Math.exp(Ke)-Math.exp(-Ke))/2}function tt(Ke){return(Math.exp(Ke)+Math.exp(-Ke))/2}function Jt(Ke){return Ct(Ke)/tt(Ke)}var Lt=ce(0);function hs(Ke){return b*(tt(Lt)/tt(Lt+q*Ke))}function wb(Ke){return b*(tt(Lt)*Jt(Lt+q*Ke)-Ct(Lt))/X}function Eb(Ke){return 1-Math.pow(1-Ke,1.5)}var Tb=Date.now(),Pv=(ce(1)-Lt)/q,Sb=c.duration?1e3*c.duration:1e3*Pv*.8;function xv(){var Ke=(Date.now()-Tb)/Sb,Fl=Eb(Ke)*Pv;Ke<=1?(this._flyToFrame=oe(xv,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(wb(Fl)/D)),S),this.getScaleZoom(b/hs(Fl),S),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),xv.call(this),this},flyToBounds:function(s,a){var c=this._getBoundsCenterZoom(s,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(s){return s=ve(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,ve(s));return c.equals(d)||this.panTo(d,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var c=F(a.paddingTopLeft||a.padding||[0,0]),d=F(a.paddingBottomRight||a.padding||[0,0]),p=this.project(this.getCenter()),v=this.project(s),S=this.getPixelBounds(),b=le([S.min.add(c),S.max.subtract(d)]),k=b.getSize();if(!b.contains(v)){this._enforcingBounds=!0;var D=v.subtract(b.getCenter()),q=b.extend(v).getSize().subtract(k);p.x+=D.x<0?-q.x:q.x,p.y+=D.y<0?-q.y:q.y,this.panTo(this.unproject(p),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=a.divideBy(2).round(),p=c.divideBy(2).round(),v=d.subtract(p);return!v.x&&!v.y?this:(s.animate&&s.pan?this.panBy(v):(s.pan&&this._rawPanBy(v),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,s):navigator.geolocation.getCurrentPosition(a,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,c=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,c=s.coords.longitude,d=new me(a,c),p=d.toBounds(s.coords.accuracy*2),v=this._locateOptions;if(v.setView){var S=this.getBoundsZoom(p);this.setView(d,v.maxZoom?Math.min(S,v.maxZoom):S)}var b={latlng:d,bounds:p,timestamp:s.timestamp};for(var k in s.coords)typeof s.coords[k]=="number"&&(b[k]=s.coords[k]);this.fire("locationfound",b)}},addHandler:function(s,a){if(!a)return this;var c=this[s]=new a(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),De(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)De(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=Ee("div",c,a||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new Pe(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,c){s=ve(s),c=F(c||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),v=this.getMaxZoom(),S=s.getNorthWest(),b=s.getSouthEast(),k=this.getSize().subtract(c),D=le(this.project(b,d),this.project(S,d)).getSize(),q=Y.any3d?this.options.zoomSnap:1,X=k.x/D.x,ce=k.y/D.y,Ct=a?Math.max(X,ce):Math.min(X,ce);return d=this.getScaleZoom(Ct,d),q&&(d=Math.round(d/(q/100))*(q/100),d=a?Math.ceil(d/q)*q:Math.floor(d/q)*q),Math.max(p,Math.min(v,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new x(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var c=this._getTopLeftPoint(s,a);return new K(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(s)/c.scale(a)},getScaleZoom:function(s,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var d=c.zoom(s*c.scale(a));return isNaN(d)?1/0:d},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ie(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(F(s),a)},layerPointToLatLng:function(s){var a=F(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(ie(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ve(s))},distance:function(s,a){return this.options.crs.distance(ie(s),ie(a))},containerPointToLayerPoint:function(s){return F(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return F(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(F(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(s)))},mouseEventToContainerPoint:function(s){return qg(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=Hg(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ae(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,ue(s,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=To(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ge(this._mapPane,new x(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ue(s.markerPane,"leaflet-zoom-hide"),ue(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,c){Ge(this._mapPane,new x(0,0));var d=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var p=this._zoom!==a;this._moveStart(p,c)._move(s,a)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,c,d){a===void 0&&(a=this._zoom);var p=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ge(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var a=s?xe:ae;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var c=[],d,p=a==="mouseout"||a==="mouseover",v=s.target||s.srcElement,S=!1;v;){if(d=this._targets[h(v)],d&&(a==="click"||a==="preclick")&&this._draggableMoved(d)){S=!0;break}if(d&&d.listens(a,!0)&&(p&&!Jh(v,s)||(c.push(d),p))||v===this._container)break;v=v.parentNode}return!c.length&&!S&&!p&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var c=s.type;c==="mousedown"&&qh(a),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,c){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var p=this._findEventTargets(s,a);if(c){for(var v=[],S=0;S<c.length;S++)c[S].listens(a,!0)&&v.push(c[S]);p=v.concat(p)}if(p.length){a==="contextmenu"&&ut(s);var b=p[0],k={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var D=b.getLatLng&&(!b._radius||b._radius<=10);k.containerPoint=D?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(s),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=D?b.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(S=0;S<p.length;S++)if(p[S].fire(a,k,!0),k.originalEvent._stopped||p[S].options.bubblingMouseEvents===!1&&O(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return ar(this._mapPane)||new x(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var c=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var c=this.getSize()._divideBy(2);return this.project(s,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return this.project(s,a)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,a,c){var d=this._getNewPixelOrigin(c,a);return le([this.project(s.getSouthWest(),a)._subtract(d),this.project(s.getNorthWest(),a)._subtract(d),this.project(s.getSouthEast(),a)._subtract(d),this.project(s.getNorthEast(),a)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,c){if(!c)return s;var d=this.project(s,a),p=this.getSize().divideBy(2),v=new K(d.subtract(p),d.add(p)),S=this._getBoundsOffset(v,c,a);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?s:this.unproject(d.add(S),a)},_limitOffset:function(s,a){if(!a)return s;var c=this.getPixelBounds(),d=new K(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(d,a))},_getBoundsOffset:function(s,a,c){var d=le(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),p=d.min.subtract(s.min),v=d.max.subtract(s.max),S=this._rebound(p.x,-v.x),b=this._rebound(p.y,-v.y);return new x(S,b)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),c=this.getMaxZoom(),d=Y.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(a,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var c=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var s=this._proxy=Ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var c=Bh,d=this._proxy.style[c];or(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){De(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();or(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(a),p=this._getCenterOffset(s)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(p)?!1:(oe(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fx(s,a){return new _e(s,a)}var cn=G.extend({options:{position:"topright"},initialize:function(s){C(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),c=this.getPosition(),d=s._controlCorners[c];return ue(a,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(a,d.firstChild):d.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(De(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),xo=function(s){return new cn(s)};_e.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",c=this._controlContainer=Ee("div",a+"control-container",this._container);function d(p,v){var S=a+p+" "+a+v;s[p+v]=Ee("div",S,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)De(this._controlCorners[s]);De(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kg=cn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,c,d){return c<d?-1:d<c?1:0}},initialize:function(s,a,c){C(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in a)this._addLayer(a[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return cn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=Ee("div",s),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Po(a),Qh(a);var d=this._section=Ee("section",s+"-list");c&&(this._map.on("click",this.collapse,this),ae(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=Ee("a",s+"-toggle",a);p.href="#",p.title="Layers",p.setAttribute("role","button"),ae(p,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ut(v),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Ee("div",s+"-base",d),this._separator=Ee("div",s+"-separator",d),this._overlaysList=Ee("div",s+"-overlays",d),a.appendChild(d)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;El(this._baseLayersList),El(this._overlaysList),this._layerControlInputs=[];var s,a,c,d,p=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),a=a||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(h(s.target)),c=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(s,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(s){var a=document.createElement("label"),c=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(d),d.layerId=h(s.layer),ae(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var v=document.createElement("span");a.appendChild(v),v.appendChild(d),v.appendChild(p);var S=s.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,c,d=[],p=[];this._handlingClick=!0;for(var v=s.length-1;v>=0;v--)a=s[v],c=this._getLayer(a.layerId).layer,a.checked?d.push(c):a.checked||p.push(c);for(v=0;v<p.length;v++)this._map.hasLayer(p[v])&&this._map.removeLayer(p[v]);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])||this._map.addLayer(d[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,c,d=this._map.getZoom(),p=s.length-1;p>=0;p--)a=s[p],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ae(s,"click",ut),this.expand();var a=this;setTimeout(function(){xe(s,"click",ut),a._preventClick=!1})}}),Ux=function(s,a,c){return new Kg(s,a,c)},Xh=cn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",c=Ee("div",a+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,c,d,p){var v=Ee("a",c,d);return v.innerHTML=s,v.href="#",v.title=a,v.setAttribute("role","button"),v.setAttribute("aria-label",a),Po(v),ae(v,"click",ur),ae(v,"click",p,this),ae(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";qe(this._zoomInButton,a),qe(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(ue(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(ue(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});_e.mergeOptions({zoomControl:!0}),_e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xh,this.addControl(this.zoomControl))});var Bx=function(s){return new Xh(s)},Yg=cn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",c=Ee("div",a),d=this.options;return this._addScales(d,a+"-line",c),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,c){s.metric&&(this._mScale=Ee("div",a,c)),s.imperial&&(this._iScale=Ee("div",a,c))},_update:function(){var s=this._map,a=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/s)},_updateImperial:function(s){var a=s*3.2808399,c,d,p;a>5280?(c=a/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(p=this._getRoundNum(a),this._updateScale(this._iScale,p+" ft",p/a))},_updateScale:function(s,a,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),c=s/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),zx=function(s){return new Yg(s)},jx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ed=cn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?jx+" ":"")+"Leaflet</a>"},initialize:function(s){C(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ee("div","leaflet-control-attribution"),Po(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});_e.mergeOptions({attributionControl:!0}),_e.addInitHook(function(){this.options.attributionControl&&new ed().addTo(this)});var Hx=function(s){return new ed(s)};cn.Layers=Kg,cn.Zoom=Xh,cn.Scale=Yg,cn.Attribution=ed,xo.layers=Ux,xo.zoom=Bx,xo.scale=zx,xo.attribution=Hx;var An=G.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});An.addTo=function(s,a){return s.addHandler(a,this),this};var Wx={Events:ne},Qg=Y.touch?"touchstart mousedown":"mousedown",Ei=R.extend({options:{clickTolerance:3},initialize:function(s,a,c,d){C(this,d),this._element=s,this._dragStartTarget=a||s,this._preventOutline=c},enable:function(){this._enabled||(ae(this._dragStartTarget,Qg,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),xe(this._dragStartTarget,Qg,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!zh(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ei._dragging=this,this._preventOutline&&qh(this._element),Wh(),So(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,c=Wg(this._element);this._startPoint=new x(a.clientX,a.clientY),this._startPos=ar(this._element),this._parentScale=Zh(c);var d=s.type==="mousedown";ae(document,d?"mousemove":"touchmove",this._onMove,this),ae(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,c=new x(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ut(s),this._moved||(this.fire("dragstart"),this._moved=!0,ue(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ge(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){qe(document.body,"leaflet-dragging"),this._lastTarget&&(qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xe(document,"mousemove touchmove",this._onMove,this),xe(document,"mouseup touchend touchcancel",this._onUp,this),$h(),Co();var a=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Jg(s,a,c){var d,p=[1,4,2,8],v,S,b,k,D,q,X,ce;for(v=0,q=s.length;v<q;v++)s[v]._code=cr(s[v],a);for(b=0;b<4;b++){for(X=p[b],d=[],v=0,q=s.length,S=q-1;v<q;S=v++)k=s[v],D=s[S],k._code&X?D._code&X||(ce=Pl(D,k,X,a,c),ce._code=cr(ce,a),d.push(ce)):(D._code&X&&(ce=Pl(D,k,X,a,c),ce._code=cr(ce,a),d.push(ce)),d.push(k));s=d}return s}function Xg(s,a){var c,d,p,v,S,b,k,D,q;if(!s||s.length===0)throw new Error("latlngs not passed");Qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var X=ie([0,0]),ce=ve(s),Ct=ce.getNorthWest().distanceTo(ce.getSouthWest())*ce.getNorthEast().distanceTo(ce.getNorthWest());Ct<1700&&(X=td(s));var tt=s.length,Jt=[];for(c=0;c<tt;c++){var Lt=ie(s[c]);Jt.push(a.project(ie([Lt.lat-X.lat,Lt.lng-X.lng])))}for(b=k=D=0,c=0,d=tt-1;c<tt;d=c++)p=Jt[c],v=Jt[d],S=p.y*v.x-v.y*p.x,k+=(p.x+v.x)*S,D+=(p.y+v.y)*S,b+=S*3;b===0?q=Jt[0]:q=[k/b,D/b];var hs=a.unproject(F(q));return ie([hs.lat+X.lat,hs.lng+X.lng])}function td(s){for(var a=0,c=0,d=0,p=0;p<s.length;p++){var v=ie(s[p]);a+=v.lat,c+=v.lng,d++}return ie([a/d,c/d])}var $x={__proto__:null,clipPolygon:Jg,polygonCenter:Xg,centroid:td};function ev(s,a){if(!a||!s.length)return s.slice();var c=a*a;return s=Zx(s,c),s=qx(s,c),s}function tv(s,a,c){return Math.sqrt(bo(s,a,c,!0))}function Vx(s,a,c){return bo(s,a,c)}function qx(s,a){var c=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(c);p[0]=p[c-1]=1,nd(s,p,a,0,c-1);var v,S=[];for(v=0;v<c;v++)p[v]&&S.push(s[v]);return S}function nd(s,a,c,d,p){var v=0,S,b,k;for(b=d+1;b<=p-1;b++)k=bo(s[b],s[d],s[p],!0),k>v&&(S=b,v=k);v>c&&(a[S]=1,nd(s,a,c,d,S),nd(s,a,c,S,p))}function Zx(s,a){for(var c=[s[0]],d=1,p=0,v=s.length;d<v;d++)Gx(s[d],s[p])>a&&(c.push(s[d]),p=d);return p<v-1&&c.push(s[v-1]),c}var nv;function iv(s,a,c,d,p){var v=d?nv:cr(s,c),S=cr(a,c),b,k,D;for(nv=S;;){if(!(v|S))return[s,a];if(v&S)return!1;b=v||S,k=Pl(s,a,b,c,p),D=cr(k,c),b===v?(s=k,v=D):(a=k,S=D)}}function Pl(s,a,c,d,p){var v=a.x-s.x,S=a.y-s.y,b=d.min,k=d.max,D,q;return c&8?(D=s.x+v*(k.y-s.y)/S,q=k.y):c&4?(D=s.x+v*(b.y-s.y)/S,q=b.y):c&2?(D=k.x,q=s.y+S*(k.x-s.x)/v):c&1&&(D=b.x,q=s.y+S*(b.x-s.x)/v),new x(D,q,p)}function cr(s,a){var c=0;return s.x<a.min.x?c|=1:s.x>a.max.x&&(c|=2),s.y<a.min.y?c|=4:s.y>a.max.y&&(c|=8),c}function Gx(s,a){var c=a.x-s.x,d=a.y-s.y;return c*c+d*d}function bo(s,a,c,d){var p=a.x,v=a.y,S=c.x-p,b=c.y-v,k=S*S+b*b,D;return k>0&&(D=((s.x-p)*S+(s.y-v)*b)/k,D>1?(p=c.x,v=c.y):D>0&&(p+=S*D,v+=b*D)),S=s.x-p,b=s.y-v,d?S*S+b*b:new x(p,v)}function Qt(s){return!I(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function rv(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Qt(s)}function sv(s,a){var c,d,p,v,S,b,k,D;if(!s||s.length===0)throw new Error("latlngs not passed");Qt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var q=ie([0,0]),X=ve(s),ce=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());ce<1700&&(q=td(s));var Ct=s.length,tt=[];for(c=0;c<Ct;c++){var Jt=ie(s[c]);tt.push(a.project(ie([Jt.lat-q.lat,Jt.lng-q.lng])))}for(c=0,d=0;c<Ct-1;c++)d+=tt[c].distanceTo(tt[c+1])/2;if(d===0)D=tt[0];else for(c=0,v=0;c<Ct-1;c++)if(S=tt[c],b=tt[c+1],p=S.distanceTo(b),v+=p,v>d){k=(v-d)/p,D=[b.x-k*(b.x-S.x),b.y-k*(b.y-S.y)];break}var Lt=a.unproject(F(D));return ie([Lt.lat+q.lat,Lt.lng+q.lng])}var Kx={__proto__:null,simplify:ev,pointToSegmentDistance:tv,closestPointOnSegment:Vx,clipSegment:iv,_getEdgeIntersection:Pl,_getBitCode:cr,_sqClosestPointOnSegment:bo,isFlat:Qt,_flat:rv,polylineCenter:sv},id={project:function(s){return new x(s.lng,s.lat)},unproject:function(s){return new me(s.y,s.x)},bounds:new K([-180,-90],[180,90])},rd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,c=this.R,d=s.lat*a,p=this.R_MINOR/c,v=Math.sqrt(1-p*p),S=v*Math.sin(d),b=Math.tan(Math.PI/4-d/2)/Math.pow((1-S)/(1+S),v/2);return d=-c*Math.log(Math.max(b,1e-10)),new x(s.lng*a*c,d)},unproject:function(s){for(var a=180/Math.PI,c=this.R,d=this.R_MINOR/c,p=Math.sqrt(1-d*d),v=Math.exp(-s.y/c),S=Math.PI/2-2*Math.atan(v),b=0,k=.1,D;b<15&&Math.abs(k)>1e-7;b++)D=p*Math.sin(S),D=Math.pow((1-D)/(1+D),p/2),k=Math.PI/2-2*Math.atan(v*D)-S,S+=k;return new me(S*a,s.x*a/c)}},Yx={__proto__:null,LonLat:id,Mercator:rd,SphericalMercator:Rh},Qx=r({},wi,{code:"EPSG:3395",projection:rd,transformation:function(){var s=.5/(Math.PI*rd.R);return yo(s,.5,-s,.5)}()}),ov=r({},wi,{code:"EPSG:4326",projection:id,transformation:yo(1/180,1,-1/180,.5)}),Jx=r({},gt,{projection:id,transformation:yo(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var c=a.lng-s.lng,d=a.lat-s.lat;return Math.sqrt(c*c+d*d)},infinite:!0});gt.Earth=wi,gt.EPSG3395=Qx,gt.EPSG3857=Lh,gt.EPSG900913=rx,gt.EPSG4326=ov,gt.Simple=Jx;var hn=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});_e.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=h(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},_addLayers:function(s){s=s?I(s)?s:[s]:[];for(var a=0,c=s.length;a<c;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=h(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),a=p.maxZoom===void 0?a:Math.max(a,p.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var os=hn.extend({initialize:function(s,a){C(this,a),this._layers={};var c,d;if(s)for(c=0,d=s.length;c<d;c++)this.addLayer(s[c])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[s]&&d[s].apply(d,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var c in this._layers)s.call(a,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),Xx=function(s,a){return new os(s,a)},Zn=os.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),os.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),os.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Pe;for(var a in this._layers){var c=this._layers[a];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),eb=function(s,a){return new Zn(s,a)},as=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){C(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,a){var c=this.options,d=c[a+"Size"];typeof d=="number"&&(d=[d,d]);var p=F(d),v=F(a==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(c.className||""),v&&(s.style.marginLeft=-v.x+"px",s.style.marginTop=-v.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return Y.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function tb(s){return new as(s)}var ko=as.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ko.imagePath!="string"&&(ko.imagePath=this._detectIconPath()),(this.options.imagePath||ko.imagePath)+as.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(c,d,p){var v=d.exec(c);return v&&v[p]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ee("div","leaflet-default-icon-path",document.body),a=To(s,"background-image")||To(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),av=An.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ei(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ue(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,c=a._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,v=ar(a._icon),S=c.getPixelBounds(),b=c.getPixelOrigin(),k=le(S.min._subtract(b).add(p),S.max._subtract(b).subtract(p));if(!k.contains(v)){var D=F((Math.max(k.max.x,v.x)-k.max.x)/(S.max.x-k.max.x)-(Math.min(k.min.x,v.x)-k.min.x)/(S.min.x-k.min.x),(Math.max(k.max.y,v.y)-k.max.y)/(S.max.y-k.max.y)-(Math.min(k.min.y,v.y)-k.min.y)/(S.min.y-k.min.y)).multiplyBy(d);c.panBy(D,{animate:!1}),this._draggable._newPos._add(D),this._draggable._startPos._add(D),Ge(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=oe(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=oe(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,c=a._shadow,d=ar(a._icon),p=a._map.layerPointToLatLng(d);c&&Ge(c,d),a._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),xl=hn.extend({options:{icon:new ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){C(this,a),this._latlng=ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=ie(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),ue(c,a),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(c,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),v=!1;p!==this._shadow&&(this._removeShadow(),v=!0),p&&(ue(p,a),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&v&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xe(this._icon,"focus",this._panOnFocus,this),De(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&De(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ge(this._icon,s),this._shadow&&Ge(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),av)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new av(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Yt(this._icon,s),this._shadow&&Yt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,c=a.iconSize?F(a.iconSize):F(0,0),d=a.iconAnchor?F(a.iconAnchor):F(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nb(s,a){return new xl(s,a)}var Ti=hn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return C(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bl=Ti.extend({options:{fill:!0,radius:10},initialize:function(s,a){C(this,a),this._latlng=ie(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=ie(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return Ti.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,c=this._clickTolerance(),d=[s+c,a+c];this._pxBounds=new K(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ib(s,a){return new bl(s,a)}var sd=bl.extend({initialize:function(s,a,c){if(typeof a=="number"&&(a=r({},c,{radius:a})),C(this,a),this._latlng=ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ti.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===wi.distance){var p=Math.PI/180,v=this._mRadius/wi.R/p,S=c.project([a+v,s]),b=c.project([a-v,s]),k=S.add(b).divideBy(2),D=c.unproject(k).lat,q=Math.acos((Math.cos(v*p)-Math.sin(a*p)*Math.sin(D*p))/(Math.cos(a*p)*Math.cos(D*p)))/p;(isNaN(q)||q===0)&&(q=v/Math.cos(Math.PI/180*a)),this._point=k.subtract(c.getPixelOrigin()),this._radius=isNaN(q)?0:k.x-c.project([D,s-q]).x,this._radiusY=k.y-S.y}else{var X=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(X).x}this._updateBounds()}});function rb(s,a,c){return new sd(s,a,c)}var Gn=Ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){C(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,c=null,d=bo,p,v,S=0,b=this._parts.length;S<b;S++)for(var k=this._parts[S],D=1,q=k.length;D<q;D++){p=k[D-1],v=k[D];var X=d(s,p,v,!0);X<a&&(a=X,c=d(s,p,v))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sv(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=ie(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Pe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],c=Qt(s),d=0,p=s.length;d<p;d++)c?(a[d]=ie(s[d]),this._bounds.extend(a[d])):a[d]=this._convertLatLngs(s[d]);return a},_project:function(){var s=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new x(s,s);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,c){var d=s[0]instanceof me,p=s.length,v,S;if(d){for(S=[],v=0;v<p;v++)S[v]=this._map.latLngToLayerPoint(s[v]),c.extend(S[v]);a.push(S)}else for(v=0;v<p;v++)this._projectLatlngs(s[v],a,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,d,p,v,S,b,k;for(c=0,p=0,v=this._rings.length;c<v;c++)for(k=this._rings[c],d=0,S=k.length;d<S-1;d++)b=iv(k[d],k[d+1],s,d,!0),b&&(a[p]=a[p]||[],a[p].push(b[0]),(b[1]!==k[d+1]||d===S-2)&&(a[p].push(b[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,c=0,d=s.length;c<d;c++)s[c]=ev(s[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var c,d,p,v,S,b,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,v=this._parts.length;c<v;c++)for(b=this._parts[c],d=0,S=b.length,p=S-1;d<S;p=d++)if(!(!a&&d===0)&&tv(s,b[p],b[d])<=k)return!0;return!1}});function sb(s,a){return new Gn(s,a)}Gn._flat=rv;var ls=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xg(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=Gn.prototype._convertLatLngs.call(this,s),c=a.length;return c>=2&&a[0]instanceof me&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(s){Gn.prototype._setLatLngs.call(this,s),Qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,c=new x(a,a);if(s=new K(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,v;d<p;d++)v=Jg(this._rings[d],s,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,c,d,p,v,S,b,k,D;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,k=this._parts.length;v<k;v++)for(c=this._parts[v],S=0,D=c.length,b=D-1;S<D;b=S++)d=c[S],p=c[b],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(a=!a);return a||Gn.prototype._containsPoint.call(this,s,!0)}});function ob(s,a){return new ls(s,a)}var Kn=Zn.extend({initialize:function(s,a){C(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=I(s)?s:s.features,c,d,p;if(a){for(c=0,d=a.length;c<d;c++)p=a[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var v=this.options;if(v.filter&&!v.filter(s))return this;var S=kl(s,v);return S?(S.feature=Ll(s),S.defaultOptions=S.options,this.resetStyle(S),v.onEachFeature&&v.onEachFeature(s,S),this.addLayer(S)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function kl(s,a){var c=s.type==="Feature"?s.geometry:s,d=c?c.coordinates:null,p=[],v=a&&a.pointToLayer,S=a&&a.coordsToLatLng||od,b,k,D,q;if(!d&&!c)return null;switch(c.type){case"Point":return b=S(d),lv(v,s,b,a);case"MultiPoint":for(D=0,q=d.length;D<q;D++)b=S(d[D]),p.push(lv(v,s,b,a));return new Zn(p);case"LineString":case"MultiLineString":return k=Rl(d,c.type==="LineString"?0:1,S),new Gn(k,a);case"Polygon":case"MultiPolygon":return k=Rl(d,c.type==="Polygon"?1:2,S),new ls(k,a);case"GeometryCollection":for(D=0,q=c.geometries.length;D<q;D++){var X=kl({geometry:c.geometries[D],type:"Feature",properties:s.properties},a);X&&p.push(X)}return new Zn(p);case"FeatureCollection":for(D=0,q=c.features.length;D<q;D++){var ce=kl(c.features[D],a);ce&&p.push(ce)}return new Zn(p);default:throw new Error("Invalid GeoJSON object.")}}function lv(s,a,c,d){return s?s(a,c):new xl(c,d&&d.markersInheritOptions&&d)}function od(s){return new me(s[1],s[0],s[2])}function Rl(s,a,c){for(var d=[],p=0,v=s.length,S;p<v;p++)S=a?Rl(s[p],a-1,c):(c||od)(s[p]),d.push(S);return d}function ad(s,a){return s=ie(s),s.alt!==void 0?[g(s.lng,a),g(s.lat,a),g(s.alt,a)]:[g(s.lng,a),g(s.lat,a)]}function Ol(s,a,c,d){for(var p=[],v=0,S=s.length;v<S;v++)p.push(a?Ol(s[v],Qt(s[v])?0:a-1,c,d):ad(s[v],d));return!a&&c&&p.length>0&&p.push(p[0].slice()),p}function us(s,a){return s.feature?r({},s.feature,{geometry:a}):Ll(a)}function Ll(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var ld={toGeoJSON:function(s){return us(this,{type:"Point",coordinates:ad(this.getLatLng(),s)})}};xl.include(ld),sd.include(ld),bl.include(ld),Gn.include({toGeoJSON:function(s){var a=!Qt(this._latlngs),c=Ol(this._latlngs,a?1:0,!1,s);return us(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),ls.include({toGeoJSON:function(s){var a=!Qt(this._latlngs),c=a&&!Qt(this._latlngs[0]),d=Ol(this._latlngs,c?2:a?1:0,!0,s);return a||(d=[d]),us(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),os.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(s).geometry.coordinates)}),us(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var c=a==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var v=p.toGeoJSON(s);if(c)d.push(v.geometry);else{var S=Ll(v);S.type==="FeatureCollection"?d.push.apply(d,S.features):d.push(S)}}}),c?us(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function uv(s,a){return new Kn(s,a)}var ab=uv,Al=hn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,c){this._url=s,this._bounds=ve(a),C(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){De(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&rs(this._image),this},bringToBack:function(){return this._map&&ss(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ve(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:Ee("img");if(ue(a,"leaflet-image-layer"),this._zoomAnimated&&ue(a,"leaflet-zoom-animated"),this.options.className&&ue(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;or(this._image,c,a)},_reset:function(){var s=this._image,a=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Ge(s,a.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),lb=function(s,a,c){return new Al(s,a,c)},cv=Al.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:Ee("video");if(ue(a,"leaflet-image-layer"),this._zoomAnimated&&ue(a,"leaflet-zoom-animated"),this.options.className&&ue(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),s){for(var c=a.getElementsByTagName("source"),d=[],p=0;p<c.length;p++)d.push(c[p].src);this._url=c.length>0?d:[a.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var S=Ee("source");S.src=this._url[v],a.appendChild(S)}}});function ub(s,a,c){return new cv(s,a,c)}var hv=Al.extend({_initImage:function(){var s=this._image=this._url;ue(s,"leaflet-image-layer"),this._zoomAnimated&&ue(s,"leaflet-zoom-animated"),this.options.className&&ue(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function cb(s,a,c){return new hv(s,a,c)}var Nn=hn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof me||I(s))?(this._latlng=ie(s),C(this,a)):(C(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(l(De,void 0,this._container),200)):De(this._container),this.options.interactive&&(qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rs(this._container),this},bringToBack:function(){return this._map&&ss(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof Zn){a=null;var c=this._source._layers;for(var d in c)if(c[d]._map){a=c[d];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=F(this.options.offset),c=this._getAnchor();this._zoomAnimated?Ge(this._container,s.add(c)):a=a.add(s).add(c);var d=this._containerBottom=-a.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});_e.include({_initOverlay:function(s,a,c,d){var p=a;return p instanceof s||(p=new s(d).setContent(a)),c&&p.setLatLng(c),p}}),hn.include({_initOverlay:function(s,a,c,d){var p=c;return p instanceof s?(C(p,d),p._source=this):(p=a&&!d?a:new s(d,this),p.setContent(c)),p}});var Nl=Nn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Nn.prototype.openOn.call(this,s)},onAdd:function(s){Nn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ti||this._source.on("preclick",lr))},onRemove:function(s){Nn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ti||this._source.off("preclick",lr))},getEvents:function(){var s=Nn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=Ee("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Ee("div",s+"-content-wrapper",a);if(this._contentNode=Ee("div",s+"-content",c),Po(a),Qh(this._contentNode),ae(a,"contextmenu",lr),this._tipContainer=Ee("div",s+"-tip-container",a),this._tip=Ee("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=Ee("a",s+"-close-button",a);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',ae(d,"click",function(p){ut(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var d=s.offsetHeight,p=this.options.maxHeight,v="leaflet-popup-scrolled";p&&d>p?(a.height=p+"px",ue(s,v)):qe(s,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Ge(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(To(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,d=this._containerWidth,p=new x(this._containerLeft,-c-this._containerBottom);p._add(ar(this._container));var v=s.layerPointToContainerPoint(p),S=F(this.options.autoPanPadding),b=F(this.options.autoPanPaddingTopLeft||S),k=F(this.options.autoPanPaddingBottomRight||S),D=s.getSize(),q=0,X=0;v.x+d+k.x>D.x&&(q=v.x+d-D.x+k.x),v.x-q-b.x<0&&(q=v.x-b.x),v.y+c+k.y>D.y&&(X=v.y+c-D.y+k.y),v.y-X-b.y<0&&(X=v.y-b.y),(q||X)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([q,X]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hb=function(s,a){return new Nl(s,a)};_e.mergeOptions({closePopupOnClick:!0}),_e.include({openPopup:function(s,a,c){return this._initOverlay(Nl,s,a,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),hn.include({bindPopup:function(s,a){return this._popup=this._initOverlay(Nl,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ur(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof Ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ml=Nn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Nn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Nn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Nn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ee("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,c,d=this._map,p=this._container,v=d.latLngToContainerPoint(d.getCenter()),S=d.layerPointToContainerPoint(s),b=this.options.direction,k=p.offsetWidth,D=p.offsetHeight,q=F(this.options.offset),X=this._getAnchor();b==="top"?(a=k/2,c=D):b==="bottom"?(a=k/2,c=0):b==="center"?(a=k/2,c=D/2):b==="right"?(a=0,c=D/2):b==="left"?(a=k,c=D/2):S.x<v.x?(b="right",a=0,c=D/2):(b="left",a=k+(q.x+X.x)*2,c=D/2),s=s.subtract(F(a,c,!0)).add(q).add(X),qe(p,"leaflet-tooltip-right"),qe(p,"leaflet-tooltip-left"),qe(p,"leaflet-tooltip-top"),qe(p,"leaflet-tooltip-bottom"),ue(p,"leaflet-tooltip-"+b),Ge(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Yt(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),db=function(s,a){return new Ml(s,a)};_e.include({openTooltip:function(s,a,c){return this._initOverlay(Ml,s,a,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),hn.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ml,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(ae(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ae(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,c,d;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(a)}});var dv=as.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(El(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=F(c.bgPos);a.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function fb(s){return new dv(s)}as.Default=ko;var Ro=hn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){C(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),De(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ss(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof x?s:new x(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,c=-s(-1/0,1/0),d=0,p=a.length,v;d<p;d++)v=a[d].style.zIndex,a[d]!==this._container&&v&&(c=s(c,+v));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){Yt(this._container,this.options.opacity);var s=+new Date,a=!1,c=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var v=Math.min(1,(s-p.loaded)/200);Yt(p.el,v),v<1?a=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(we(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=a-Math.abs(s-c),this._onUpdateLevel(c)):(De(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=Ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=a,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var d=a.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)De(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,c,d){var p=Math.floor(s/2),v=Math.floor(a/2),S=c-1,b=new x(+p,+v);b.z=+S;var k=this._tileCoordsToKey(b),D=this._tiles[k];return D&&D.active?(D.retain=!0,!0):(D&&D.loaded&&(D.retain=!0),S>d?this._retainParent(p,v,S,d):!1)},_retainChildren:function(s,a,c,d){for(var p=2*s;p<2*s+2;p++)for(var v=2*a;v<2*a+2;v++){var S=new x(p,v);S.z=c+1;var b=this._tileCoordsToKey(S),k=this._tiles[b];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);c+1<d&&this._retainChildren(p,v,c+1,d)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,c,d){var p=Math.round(a);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var v=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||v)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,a)},_setZoomTransform:function(s,a,c){var d=this._map.getZoomScale(c,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(a,c)).round();Y.any3d?or(s.el,p,d):Ge(s.el,p)},_resetGrid:function(){var s=this._map,a=s.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],d).x/c.x),Math.ceil(s.project([0,a.wrapLng[1]],d).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],d).y/c.x),Math.ceil(s.project([a.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),d=a.getZoomScale(c,this._tileZoom),p=a.project(s,this._tileZoom).floor(),v=a.getSize().divideBy(d*2);return new K(p.subtract(v),p.add(v))},_update:function(s){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),v=p.getCenter(),S=[],b=this.options.keepBuffer,k=new K(p.getBottomLeft().subtract([b,-b]),p.getTopRight().add([b,-b]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var D in this._tiles){var q=this._tiles[D].coords;(q.z!==this._tileZoom||!k.contains(new x(q.x,q.y)))&&(this._tiles[D].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var X=p.min.y;X<=p.max.y;X++)for(var ce=p.min.x;ce<=p.max.x;ce++){var Ct=new x(ce,X);if(Ct.z=this._tileZoom,!!this._isValidTile(Ct)){var tt=this._tiles[this._tileCoordsToKey(Ct)];tt?tt.current=!0:S.push(Ct)}}if(S.sort(function(Lt,hs){return Lt.distanceTo(v)-hs.distanceTo(v)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jt=document.createDocumentFragment();for(ce=0;ce<S.length;ce++)this._addTile(S[ce],Jt);this._level.el.appendChild(Jt)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!a.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return ve(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,c=this.getTileSize(),d=s.scaleBy(c),p=d.add(c),v=a.unproject(d,s.z),S=a.unproject(p,s.z);return[v,S]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),c=new Pe(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),c=new x(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(s){var a=this._tiles[s];a&&(De(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){ue(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=_,s.onmousemove=_,Y.ielt9&&this.options.opacity<1&&Yt(s,this.options.opacity)},_addTile:function(s,a){var c=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&oe(l(this._tileReady,this,s,null,p)),Ge(p,c),this._tiles[d]={el:p,coords:s,current:!0},a.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:s});var d=this._tileCoordsToKey(s);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Yt(c.el,0),we(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(ue(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?oe(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new x(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new K(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function pb(s){return new Ro(s)}var cs=Ro.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=C(this,a),a.detectRetina&&Y.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var c=document.createElement("img");return ae(c,"load",l(this._tileOnLoad,this,a,c)),ae(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var a={r:Y.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=c),a["-y"]=c}return E(this._url,r(a,this.options))},_tileOnLoad:function(s,a){Y.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,c){var d=this.options.errorTileUrl;d&&a.getAttribute("src")!==d&&(a.src=d),s(c,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(s=a-s),s+d},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=_,a.onerror=_,!a.complete)){a.src=B;var c=this._tiles[s].coords;De(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",B),Ro.prototype._removeTile.call(this,s)},_tileReady:function(s,a,c){if(!(!this._map||c&&c.getAttribute("src")===B))return Ro.prototype._tileReady.call(this,s,a,c)}});function fv(s,a){return new cs(s,a)}var pv=cs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var c=r({},this.defaultWmsParams);for(var d in a)d in this.options||(c[d]=a[d]);a=C(this,a);var p=a.detectRetina&&Y.retina?2:1,v=this.getTileSize();c.width=v.x*p,c.height=v.y*p,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,cs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),c=this._crs,d=le(c.project(a[0]),c.project(a[1])),p=d.min,v=d.max,S=(this._wmsVersion>=1.3&&this._crs===ov?[p.y,p.x,v.y,v.x]:[p.x,p.y,v.x,v.y]).join(","),b=cs.prototype.getTileUrl.call(this,s);return b+A(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(s,a){return r(this.wmsParams,s),a||this.redraw(),this}});function mb(s,a){return new pv(s,a)}cs.WMS=pv,fv.wms=mb;var Yn=hn.extend({options:{padding:.1},initialize:function(s){C(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var c=this._map.getZoomScale(a,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,a),v=d.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(s,a));Y.any3d?or(this._container,v,c):Ge(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new K(c,c.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mv=Yn.extend({options:{tolerance:0},getEvents:function(){var s=Yn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ae(s,"mousemove",this._onMouseMove,this),ae(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ae(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,De(this._container),xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var s=this._bounds,a=this._container,c=s.getSize(),d=Y.retina?2:1;Ge(a,s.min),a.width=d*c.x,a.height=d*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,c=a.next,d=a.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),c=[],d,p;for(p=0;p<a.length;p++){if(d=Number(a[p]),isNaN(d))return;c.push(d)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||oe(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var c,d,p,v,S=s._parts,b=S.length,k=this._ctx;if(b){for(k.beginPath(),c=0;c<b;c++){for(d=0,p=S[c].length;d<p;d++)v=S[c][d],k[d?"lineTo":"moveTo"](v.x,v.y);a&&k.closePath()}this._fillStroke(k,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,c=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(a.x,a.y/p,d,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,a){var c=a.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(qe(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(a)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(ue(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,c){this._map._fireDOMEvent(a,c||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var c=a.next,d=a.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function _v(s){return Y.canvas?new mv(s):null}var Oo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_b={_initContainer:function(){this._container=Ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=Oo("shape");ue(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=Oo("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;De(a),s.removeInteractiveTarget(a),delete this._layers[h(s)]},_updateStyle:function(s){var a=s._stroke,c=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(a||(a=s._stroke=Oo("stroke")),p.appendChild(a),a.weight=d.weight+"px",a.color=d.color,a.opacity=d.opacity,d.dashArray?a.dashStyle=I(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=d.lineCap.replace("butt","flat"),a.joinstyle=d.lineJoin):a&&(p.removeChild(a),s._stroke=null),d.fill?(c||(c=s._fill=Oo("fill")),p.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(p.removeChild(c),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),c=Math.round(s._radius),d=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){rs(s._container)},_bringToBack:function(s){ss(s._container)}},Dl=Y.vml?Oo:wg,Lo=Yn.extend({_initContainer:function(){this._container=Dl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Dl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){De(this._container),xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var s=this._bounds,a=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Ge(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=Dl("path");s.options.className&&ue(a,s.options.className),s.options.interactive&&ue(a,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){De(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,c=s.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,Eg(s._parts,a))},_updateCircle:function(s){var a=s._point,c=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||c,p="a"+c+","+d+" 0 1,0 ",v=s._empty()?"M0 0":"M"+(a.x-c)+","+a.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(s,v)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){rs(s._path)},_bringToBack:function(s){ss(s._path)}});Y.vml&&Lo.include(_b);function gv(s){return Y.svg||Y.vml?new Lo(s):null}_e.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&_v(s)||gv(s)}});var vv=ls.extend({initialize:function(s,a){ls.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ve(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function gb(s,a){return new vv(s,a)}Lo.create=Dl,Lo.pointsToPath=Eg,Kn.geometryToLayer=kl,Kn.coordsToLatLng=od,Kn.coordsToLatLngs=Rl,Kn.latLngToCoords=ad,Kn.latLngsToCoords=Ol,Kn.getFeature=us,Kn.asFeature=Ll,_e.mergeOptions({boxZoom:!0});var yv=An.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){De(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),So(),Wh(),this._startPoint=this._map.mouseEventToContainerPoint(s),ae(document,{contextmenu:ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ee("div","leaflet-zoom-box",this._container),ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new K(this._point,this._startPoint),c=a.getSize();Ge(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(De(this._box),qe(this._container,"leaflet-crosshair")),Co(),$h(),xe(document,{contextmenu:ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_e.addInitHook("addHandler","boxZoom",yv),_e.mergeOptions({doubleClickZoom:!0});var wv=An.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,c=a.getZoom(),d=a.options.zoomDelta,p=s.originalEvent.shiftKey?c-d:c+d;a.options.doubleClickZoom==="center"?a.setZoom(p):a.setZoomAround(s.containerPoint,p)}});_e.addInitHook("addHandler","doubleClickZoom",wv),_e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ev=An.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ei(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qe(this._map._container,"leaflet-grab"),qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ve(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-a+c)%s+a-c,v=(d+a+c)%s-a-c,S=Math.abs(p+c)<Math.abs(v+c)?p:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var a=this._map,c=a.options,d=!c.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),d)a.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,S=c.easeLinearity,b=p.multiplyBy(S/v),k=b.distanceTo([0,0]),D=Math.min(c.inertiaMaxSpeed,k),q=b.multiplyBy(D/k),X=D/(c.inertiaDeceleration*S),ce=q.multiplyBy(-X/2).round();!ce.x&&!ce.y?a.fire("moveend"):(ce=a._limitOffset(ce,a.options.maxBounds),oe(function(){a.panBy(ce,{duration:X,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});_e.addInitHook("addHandler","dragging",Ev),_e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Tv=An.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ae(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,c=s.scrollTop||a.scrollTop,d=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},c=this.keyCodes,d,p;for(d=0,p=c.left.length;d<p;d++)a[c.left[d]]=[-1*s,0];for(d=0,p=c.right.length;d<p;d++)a[c.right[d]]=[s,0];for(d=0,p=c.down.length;d<p;d++)a[c.down[d]]=[0,s];for(d=0,p=c.up.length;d<p;d++)a[c.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},c=this.keyCodes,d,p;for(d=0,p=c.zoomIn.length;d<p;d++)a[c.zoomIn[d]]=s;for(d=0,p=c.zoomOut.length;d<p;d++)a[c.zoomOut[d]]=-s},_addHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,c=this._map,d;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[a],s.shiftKey&&(d=F(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(F(d),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(p)}else c.panBy(d)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;ur(s)}}});_e.addInitHook("addHandler","keyboard",Tv),_e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sv=An.extend({addHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=Zg(s),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),ur(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,v=c?Math.ceil(p/c)*c:p,S=s._limitZoom(a+(this._delta>0?v:-v))-a;this._delta=0,this._startTime=null,S&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+S):s.setZoomAround(this._lastMousePos,a+S))}});_e.addInitHook("addHandler","scrollWheelZoom",Sv);var vb=600;_e.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var Cv=An.extend({addHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new x(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ae(document,"touchend",ut),ae(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),vb),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){xe(document,"touchend",ut),xe(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),xe(document,"touchend touchcancel contextmenu",this._cancel,this),xe(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new x(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});_e.addInitHook("addHandler","tapHold",Cv),_e.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var Iv=An.extend({addHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qe(this._map._container,"leaflet-touch-zoom"),xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),ut(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(s.touches[0]),d=a.mouseEventToContainerPoint(s.touches[1]),p=c.distanceTo(d)/this._startDist;if(this._zoom=a.getScaleZoom(p,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&p<1||this._zoom>a.getMaxZoom()&&p>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var v=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&v.x===0&&v.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var S=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=oe(S,this,!0),ut(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),xe(document,"touchmove",this._onTouchMove,this),xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_e.addInitHook("addHandler","touchZoom",Iv),_e.BoxZoom=yv,_e.DoubleClickZoom=wv,_e.Drag=Ev,_e.Keyboard=Tv,_e.ScrollWheelZoom=Sv,_e.TapHold=Cv,_e.TouchZoom=Iv,n.Bounds=K,n.Browser=Y,n.CRS=gt,n.Canvas=mv,n.Circle=sd,n.CircleMarker=bl,n.Class=G,n.Control=cn,n.DivIcon=dv,n.DivOverlay=Nn,n.DomEvent=Dx,n.DomUtil=Nx,n.Draggable=Ei,n.Evented=R,n.FeatureGroup=Zn,n.GeoJSON=Kn,n.GridLayer=Ro,n.Handler=An,n.Icon=as,n.ImageOverlay=Al,n.LatLng=me,n.LatLngBounds=Pe,n.Layer=hn,n.LayerGroup=os,n.LineUtil=Kx,n.Map=_e,n.Marker=xl,n.Mixin=Wx,n.Path=Ti,n.Point=x,n.PolyUtil=$x,n.Polygon=ls,n.Polyline=Gn,n.Popup=Nl,n.PosAnimation=Gg,n.Projection=Yx,n.Rectangle=vv,n.Renderer=Yn,n.SVG=Lo,n.SVGOverlay=hv,n.TileLayer=cs,n.Tooltip=Ml,n.Transformation=Oh,n.Util=_t,n.VideoOverlay=cv,n.bind=l,n.bounds=le,n.canvas=_v,n.circle=rb,n.circleMarker=ib,n.control=xo,n.divIcon=fb,n.extend=r,n.featureGroup=eb,n.geoJSON=uv,n.geoJson=ab,n.gridLayer=pb,n.icon=tb,n.imageOverlay=lb,n.latLng=ie,n.latLngBounds=ve,n.layerGroup=Xx,n.map=Fx,n.marker=nb,n.point=F,n.polygon=ob,n.polyline=sb,n.popup=hb,n.rectangle=gb,n.setOptions=C,n.stamp=h,n.svg=gv,n.svgOverlay=cb,n.tileLayer=fv,n.tooltip=db,n.transformation=yo,n.version=i,n.videoOverlay=ub;var yb=window.L;n.noConflict=function(){return window.L=yb,this},window.L=n})})(Wp,Wp.exports);var st=Wp.exports;const Pj=Gr(st),pg=V0({__proto__:null,default:Pj},[st]);function mg(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function _g(t,e){return e==null?function(i,r){const o=N.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=N.useRef();o.current||(o.current=t(i,r));const l=N.useRef(i),{instance:u}=o.current;return N.useEffect(function(){l.current!==i&&(e(u,i,l.current),l.current=i)},[u,i,r]),o}}function xj(t,e){N.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function MP(t){return function(n){const i=AP(),r=t(fg(n,i),i);return RP(i.map,n.attribution),NP(r.current,n.eventHandlers),xj(r.current,i),r}}function bj(t,e){const n=_g(t,e),i=MP(n);return Tj(i)}function kj(t,e){const n=_g(t),i=Ij(n,e);return Sj(i)}function Rj(t,e){const n=_g(t,e),i=MP(n);return Cj(i)}function Oj(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function $p(){return $p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$p.apply(this,arguments)}function Lj({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:l,style:u,whenReady:h,zoom:f,...m},_){const[g]=N.useState({className:r,id:o,style:u}),[y,w]=N.useState(null);N.useImperativeHandle(_,()=>(y==null?void 0:y.map)??null,[y]);const C=N.useCallback(T=>{if(T!==null&&y===null){const E=new st.Map(T,m);n!=null&&f!=null?E.setView(n,f):t!=null&&E.fitBounds(t,e),h!=null&&E.whenReady(h),w(wj(E))}},[]);N.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const A=y?si.createElement(LP,{value:y},i):l??null;return si.createElement("div",$p({},g,{ref:C}),A)}const P0=N.forwardRef(Lj),x0=bj(function({position:e,...n},i){const r=new st.Marker(e,n);return mg(r,Ej(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),b0=kj(function(e,n){const i=new st.Popup(e,n.overlayContainer);return mg(i,n)},function(e,n,{position:i},r){N.useEffect(function(){const{instance:l}=e;function u(f){f.popup===l&&(l.update(),r(!0))}function h(f){f.popup===l&&r(!1)}return n.map.on({popupopen:u,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:u,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[e,n,r,i])}),k0=Rj(function({url:e,...n},i){const r=new st.TileLayer(e,fg(n,i));return mg(r,i)},function(e,n,i){Oj(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)});var DP={exports:{}},Aj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Nj=Aj,Mj=Nj;function FP(){}function UP(){}UP.resetWarningCache=FP;var Dj=function(){function t(i,r,o,l,u,h){if(h!==Mj){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UP,resetWarningCache:FP};return n.PropTypes=n,n};DP.exports=Dj();var Fj=DP.exports;const Ae=Gr(Fj);function Uj(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var BP=N,Bj=Uj(BP);function R0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var jj=!!(typeof window<"u"&&window.document&&window.document.createElement);function Hj(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function i(r){return r.displayName||r.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var l=[],u;function h(){u=t(l.map(function(m){return m.props})),f.canUseDOM?e(u):n&&(u=n(u))}var f=function(m){zj(_,m);function _(){return m.apply(this,arguments)||this}_.peek=function(){return u},_.rewind=function(){if(_.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=u;return u=void 0,l=[],w};var g=_.prototype;return g.UNSAFE_componentWillMount=function(){l.push(this),h()},g.componentDidUpdate=function(){h()},g.componentWillUnmount=function(){var w=l.indexOf(this);l.splice(w,1),h()},g.render=function(){return Bj.createElement(o,this.props)},_}(BP.PureComponent);return R0(f,"displayName","SideEffect("+i(o)+")"),R0(f,"canUseDOM",jj),f}}var Wj=Hj;const $j=Gr(Wj);var Vj=typeof Element<"u",qj=typeof Map=="function",Zj=typeof Set=="function",Gj=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!xu(t[i],e[i]))return!1;return!0}var o;if(qj&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;for(o=t.entries();!(i=o.next()).done;)if(!xu(i.value[1],e.get(i.value[0])))return!1;return!0}if(Zj&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(Gj&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;if(Vj&&t instanceof Element)return!1;for(i=n;i--!==0;)if(!((r[i]==="_owner"||r[i]==="__v"||r[i]==="__o")&&t.$$typeof)&&!xu(t[r[i]],e[r[i]]))return!1;return!0}return t!==t&&e!==e}var Kj=function(e,n){try{return xu(e,n)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const Yj=Gr(Kj);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var O0=Object.getOwnPropertySymbols,Qj=Object.prototype.hasOwnProperty,Jj=Object.prototype.propertyIsEnumerable;function Xj(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function eH(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(i.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var tH=eH()?Object.assign:function(t,e){for(var n,i=Xj(t),r,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var l in n)Qj.call(n,l)&&(i[l]=n[l]);if(O0){r=O0(n);for(var u=0;u<r.length;u++)Jj.call(n,r[u])&&(i[r[u]]=n[r[u]])}}return i};const nH=Gr(tH);var kr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},se={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(se).map(function(t){return se[t]});var Ne={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Pc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ja={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},iH=Object.keys(Pc).reduce(function(t,e){return t[Pc[e]]=e,t},{}),rH=[se.NOSCRIPT,se.SCRIPT,se.STYLE],yn="data-react-helmet",sH=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oH=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},aH=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),At=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lH=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},L0=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},uH=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Vp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},cH=function(e){var n=Ws(e,se.TITLE),i=Ws(e,Ja.TITLE_TEMPLATE);if(i&&n)return i.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=Ws(e,Ja.DEFAULT_TITLE);return n||r||void 0},hH=function(e){return Ws(e,Ja.ON_CHANGE_CLIENT_STATE)||function(){}},cf=function(e,n){return n.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return At({},i,r)},{})},dH=function(e,n){return n.filter(function(i){return typeof i[se.BASE]<"u"}).map(function(i){return i[se.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var o=Object.keys(r),l=0;l<o.length;l++){var u=o[l],h=u.toLowerCase();if(e.indexOf(h)!==-1&&r[h])return i.concat(r)}return i},[])},Zo=function(e,n,i){var r={};return i.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&_H("Helmet: "+e+' should be of type "Array". Instead found type "'+sH(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,l){var u={};l.filter(function(g){for(var y=void 0,w=Object.keys(g),C=0;C<w.length;C++){var A=w[C],T=A.toLowerCase();n.indexOf(T)!==-1&&!(y===Ne.REL&&g[y].toLowerCase()==="canonical")&&!(T===Ne.REL&&g[T].toLowerCase()==="stylesheet")&&(y=T),n.indexOf(A)!==-1&&(A===Ne.INNER_HTML||A===Ne.CSS_TEXT||A===Ne.ITEM_PROP)&&(y=A)}if(!y||!g[y])return!1;var E=g[y].toLowerCase();return r[y]||(r[y]={}),u[y]||(u[y]={}),r[y][E]?!1:(u[y][E]=!0,!0)}).reverse().forEach(function(g){return o.push(g)});for(var h=Object.keys(u),f=0;f<h.length;f++){var m=h[f],_=nH({},r[m],u[m]);r[m]=_}return o},[]).reverse()},Ws=function(e,n){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(n))return r[n]}return null},fH=function(e){return{baseTag:dH([Ne.HREF,Ne.TARGET],e),bodyAttributes:cf(kr.BODY,e),defer:Ws(e,Ja.DEFER),encode:Ws(e,Ja.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cf(kr.HTML,e),linkTags:Zo(se.LINK,[Ne.REL,Ne.HREF],e),metaTags:Zo(se.META,[Ne.NAME,Ne.CHARSET,Ne.HTTPEQUIV,Ne.PROPERTY,Ne.ITEM_PROP],e),noscriptTags:Zo(se.NOSCRIPT,[Ne.INNER_HTML],e),onChangeClientState:hH(e),scriptTags:Zo(se.SCRIPT,[Ne.SRC,Ne.INNER_HTML],e),styleTags:Zo(se.STYLE,[Ne.CSS_TEXT],e),title:cH(e),titleAttributes:cf(kr.TITLE,e)}},qp=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){qp(e)},0)}}(),A0=function(e){return clearTimeout(e)},pH=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||qp:global.requestAnimationFrame||qp,mH=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||A0:global.cancelAnimationFrame||A0,_H=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Go=null,gH=function(e){Go&&mH(Go),e.defer?Go=pH(function(){N0(e,function(){Go=null})}):(N0(e),Go=null)},N0=function(e,n){var i=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,l=e.linkTags,u=e.metaTags,h=e.noscriptTags,f=e.onChangeClientState,m=e.scriptTags,_=e.styleTags,g=e.title,y=e.titleAttributes;Zp(se.BODY,r),Zp(se.HTML,o),vH(g,y);var w={baseTag:ps(se.BASE,i),linkTags:ps(se.LINK,l),metaTags:ps(se.META,u),noscriptTags:ps(se.NOSCRIPT,h),scriptTags:ps(se.SCRIPT,m),styleTags:ps(se.STYLE,_)},C={},A={};Object.keys(w).forEach(function(T){var E=w[T],I=E.newTags,O=E.oldTags;I.length&&(C[T]=I),O.length&&(A[T]=w[T].oldTags)}),n&&n(),f(e,C,A)},zP=function(e){return Array.isArray(e)?e.join(""):e},vH=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=zP(e)),Zp(se.TITLE,n)},Zp=function(e,n){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(yn),o=r?r.split(","):[],l=[].concat(o),u=Object.keys(n),h=0;h<u.length;h++){var f=u[h],m=n[f]||"";i.getAttribute(f)!==m&&i.setAttribute(f,m),o.indexOf(f)===-1&&o.push(f);var _=l.indexOf(f);_!==-1&&l.splice(_,1)}for(var g=l.length-1;g>=0;g--)i.removeAttribute(l[g]);o.length===l.length?i.removeAttribute(yn):i.getAttribute(yn)!==u.join(",")&&i.setAttribute(yn,u.join(","))}},ps=function(e,n){var i=document.head||document.querySelector(se.HEAD),r=i.querySelectorAll(e+"["+yn+"]"),o=Array.prototype.slice.call(r),l=[],u=void 0;return n&&n.length&&n.forEach(function(h){var f=document.createElement(e);for(var m in h)if(h.hasOwnProperty(m))if(m===Ne.INNER_HTML)f.innerHTML=h.innerHTML;else if(m===Ne.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{var _=typeof h[m]>"u"?"":h[m];f.setAttribute(m,_)}f.setAttribute(yn,"true"),o.some(function(g,y){return u=y,f.isEqualNode(g)})?o.splice(u,1):l.push(f)}),o.forEach(function(h){return h.parentNode.removeChild(h)}),l.forEach(function(h){return i.appendChild(h)}),{oldTags:o,newTags:l}},jP=function(e){return Object.keys(e).reduce(function(n,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return n?n+" "+r:r},"")},yH=function(e,n,i,r){var o=jP(i),l=zP(n);return o?"<"+e+" "+yn+'="true" '+o+">"+Vp(l,r)+"</"+e+">":"<"+e+" "+yn+'="true">'+Vp(l,r)+"</"+e+">"},wH=function(e,n,i){return n.reduce(function(r,o){var l=Object.keys(o).filter(function(f){return!(f===Ne.INNER_HTML||f===Ne.CSS_TEXT)}).reduce(function(f,m){var _=typeof o[m]>"u"?m:m+'="'+Vp(o[m],i)+'"';return f?f+" "+_:_},""),u=o.innerHTML||o.cssText||"",h=rH.indexOf(e)===-1;return r+"<"+e+" "+yn+'="true" '+l+(h?"/>":">"+u+"</"+e+">")},"")},HP=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[Pc[r]||r]=e[r],i},n)},EH=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[iH[r]||r]=e[r],i},n)},TH=function(e,n,i){var r,o=(r={key:n},r[yn]=!0,r),l=HP(i,o);return[si.createElement(se.TITLE,l,n)]},SH=function(e,n){return n.map(function(i,r){var o,l=(o={key:r},o[yn]=!0,o);return Object.keys(i).forEach(function(u){var h=Pc[u]||u;if(h===Ne.INNER_HTML||h===Ne.CSS_TEXT){var f=i.innerHTML||i.cssText;l.dangerouslySetInnerHTML={__html:f}}else l[h]=i[u]}),si.createElement(e,l)})},Qn=function(e,n,i){switch(e){case se.TITLE:return{toComponent:function(){return TH(e,n.title,n.titleAttributes)},toString:function(){return yH(e,n.title,n.titleAttributes,i)}};case kr.BODY:case kr.HTML:return{toComponent:function(){return HP(n)},toString:function(){return jP(n)}};default:return{toComponent:function(){return SH(e,n)},toString:function(){return wH(e,n,i)}}}},WP=function(e){var n=e.baseTag,i=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,l=e.linkTags,u=e.metaTags,h=e.noscriptTags,f=e.scriptTags,m=e.styleTags,_=e.title,g=_===void 0?"":_,y=e.titleAttributes;return{base:Qn(se.BASE,n,r),bodyAttributes:Qn(kr.BODY,i,r),htmlAttributes:Qn(kr.HTML,o,r),link:Qn(se.LINK,l,r),meta:Qn(se.META,u,r),noscript:Qn(se.NOSCRIPT,h,r),script:Qn(se.SCRIPT,f,r),style:Qn(se.STYLE,m,r),title:Qn(se.TITLE,{title:g,titleAttributes:y},r)}},CH=function(e){var n,i;return i=n=function(r){lH(o,r);function o(){return oH(this,o),uH(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(u){return!Yj(this.props,u)},o.prototype.mapNestedChildrenToProps=function(u,h){if(!h)return null;switch(u.type){case se.SCRIPT:case se.NOSCRIPT:return{innerHTML:h};case se.STYLE:return{cssText:h}}throw new Error("<"+u.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(u){var h,f=u.child,m=u.arrayTypeChildren,_=u.newChildProps,g=u.nestedChildren;return At({},m,(h={},h[f.type]=[].concat(m[f.type]||[],[At({},_,this.mapNestedChildrenToProps(f,g))]),h))},o.prototype.mapObjectTypeChildren=function(u){var h,f,m=u.child,_=u.newProps,g=u.newChildProps,y=u.nestedChildren;switch(m.type){case se.TITLE:return At({},_,(h={},h[m.type]=y,h.titleAttributes=At({},g),h));case se.BODY:return At({},_,{bodyAttributes:At({},g)});case se.HTML:return At({},_,{htmlAttributes:At({},g)})}return At({},_,(f={},f[m.type]=At({},g),f))},o.prototype.mapArrayTypeChildrenToProps=function(u,h){var f=At({},h);return Object.keys(u).forEach(function(m){var _;f=At({},f,(_={},_[m]=u[m],_))}),f},o.prototype.warnOnInvalidChildren=function(u,h){return!0},o.prototype.mapChildrenToProps=function(u,h){var f=this,m={};return si.Children.forEach(u,function(_){if(!(!_||!_.props)){var g=_.props,y=g.children,w=L0(g,["children"]),C=EH(w);switch(f.warnOnInvalidChildren(_,y),_.type){case se.LINK:case se.META:case se.NOSCRIPT:case se.SCRIPT:case se.STYLE:m=f.flattenArrayTypeChildren({child:_,arrayTypeChildren:m,newChildProps:C,nestedChildren:y});break;default:h=f.mapObjectTypeChildren({child:_,newProps:h,newChildProps:C,nestedChildren:y});break}}}),h=this.mapArrayTypeChildrenToProps(m,h),h},o.prototype.render=function(){var u=this.props,h=u.children,f=L0(u,["children"]),m=At({},f);return h&&(m=this.mapChildrenToProps(h,m)),si.createElement(e,m)},aH(o,null,[{key:"canUseDOM",set:function(u){e.canUseDOM=u}}]),o}(si.Component),n.propTypes={base:Ae.object,bodyAttributes:Ae.object,children:Ae.oneOfType([Ae.arrayOf(Ae.node),Ae.node]),defaultTitle:Ae.string,defer:Ae.bool,encodeSpecialCharacters:Ae.bool,htmlAttributes:Ae.object,link:Ae.arrayOf(Ae.object),meta:Ae.arrayOf(Ae.object),noscript:Ae.arrayOf(Ae.object),onChangeClientState:Ae.func,script:Ae.arrayOf(Ae.object),style:Ae.arrayOf(Ae.object),title:Ae.string,titleAttributes:Ae.object,titleTemplate:Ae.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=WP({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},IH=function(){return null},PH=$j(fH,gH,WP)(IH),Gp=CH(PH);Gp.renderStatic=Gp.rewind;function xH(){const t=[],[e,n]=N.useState(0),[i,r]=N.useState(!1),[o,l]=N.useState(),[u,h]=N.useState([]),[f,m]=N.useState(null),_=Up(Hp,"images/"),g=DI(kP,"spots/"),[y,w]=N.useState(0),[C,A]=N.useState(!1);let T=()=>{window.innerWidth<700?A(!0):A(!1)};N.useEffect(()=>{window.addEventListener("resize",T),T()},[]);function E(z){y<z-1?w(y+1):w(0)}function I(z){y>0?w(y-1):w(z-1)}N.useEffect(()=>{vP(qr,z=>{m(z||null)}),wU(g,z=>{z.forEach(te=>{t.push(te.val())}),l(t)}),V2(_).then(z=>{z.items.forEach(te=>{YI(te).then(W=>{h(oe=>[...oe,W])})})})},[]);function O(z){r(!0),n(z.currentTarget.id)}function B(z){r(!0),n(z)}function H(){r(!1)}const V=new st.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]});return P.jsxs(N.Fragment,{children:[P.jsx(Gp,{children:P.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})}),P.jsx(bh,{}),P.jsxs("div",{className:"bigContainer",children:[i?P.jsx(P.Fragment,{children:C?P.jsx("div",{}):P.jsxs(P0,{center:[43.747474670410156,-79.49417877197266],zoom:12,scrollWheelZoom:!1,children:[P.jsx(k0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o?P.jsx("div",{children:o.map((z,te)=>P.jsx(x0,{id:te,position:[z.lat,z.long],icon:V,eventHandlers:{click:W=>{console.log("marker clicked",W),B(W.target.options.id)}},children:P.jsx(b0,{children:z.spotDescription})}))}):P.jsx("div",{})]})}):P.jsxs(P0,{center:[43.747474670410156,-79.49417877197266],zoom:12,scrollWheelZoom:!1,children:[P.jsx(k0,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o?P.jsx("div",{children:o.map((z,te)=>P.jsx(x0,{id:te,position:[z.lat,z.long],icon:V,eventHandlers:{click:W=>{console.log("marker clicked",W),B(W.target.options.id)}},children:P.jsx(b0,{children:z.spotDescription})}))}):P.jsx("div",{})]}),i?P.jsx("div",{className:"spotWindow",children:o?P.jsxs("div",{className:"spotInfoContainer",children:[P.jsx("br",{}),P.jsxs("div",{className:"imageContainer",children:[P.jsx("img",{className:"spotImage",src:o[e].uploadedImgURLs[y]}),P.jsx("br",{}),P.jsx("div",{className:"button-container left",children:P.jsx("button",{className:"button",onClick:()=>I(o[e].uploadedImgURLs.length),children:"<"})}),P.jsx("div",{className:"button-container right",children:P.jsx("button",{className:"button",onClick:()=>E(o[e].uploadedImgURLs.length),children:">"})})]}),P.jsx("br",{}),P.jsxs("strong",{id:"spotTitleText",children:["Spot Name: ",o[e].spotName]}),P.jsxs("p",{id:"spotAddress",children:["Address: ",o[e].spotAddress]}),P.jsx("div",{className:"spotDescription",children:P.jsx("p",{id:"spotDescriptionText",children:o[e].spotDescription})}),P.jsx("br",{}),P.jsx("button",{id:"backButton",onClick:H,children:" Back"})]}):P.jsx("div",{})}):P.jsx("div",{className:"spotContainer",children:o?P.jsxs("div",{className:"spotContainer",children:[P.jsx("h2",{id:"text1",children:"View Skate Spots!"}),o.map((z,te)=>P.jsxs("div",{id:te,className:"element-container",onClick:O,children:[P.jsx("img",{src:z.uploadedImgURLs[0],className:"image"}),P.jsxs("div",{className:"overlay",children:[P.jsx("div",{className:"element-text",children:o[te].spotName}),P.jsx("div",{className:"element-textAddress",children:o[te].spotAddress})]})]}))]}):P.jsx("p",{className:"errorText",children:"Loading spots...."})})]})]})}var Kp={exports:{}},Zr={},$P={exports:{}},bH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kH=bH,RH=kH;function VP(){}function qP(){}qP.resetWarningCache=VP;var OH=function(){function t(i,r,o,l,u,h){if(h!==RH){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qP,resetWarningCache:VP};return n.PropTypes=n,n};$P.exports=OH();var ZP=$P.exports,Yp={exports:{}},kn={},Qp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",r=/input|select|textarea|button|object|iframe/;function o(_,g){return g.getPropertyValue("overflow")!=="visible"||_.scrollWidth<=0&&_.scrollHeight<=0}function l(_){var g=_.offsetWidth<=0&&_.offsetHeight<=0;if(g&&!_.innerHTML)return!0;try{var y=window.getComputedStyle(_),w=y.getPropertyValue("display");return g?w!==i&&o(_,y):w===n}catch{return console.warn("Failed to inspect element style"),!1}}function u(_){for(var g=_,y=_.getRootNode&&_.getRootNode();g&&g!==document.body;){if(y&&g===y&&(g=y.host.parentNode),l(g))return!1;g=g.parentNode}return!0}function h(_,g){var y=_.nodeName.toLowerCase(),w=r.test(y)&&!_.disabled||y==="a"&&_.href||g;return w&&u(_)}function f(_){var g=_.getAttribute("tabindex");g===null&&(g=void 0);var y=isNaN(g);return(y||g>=0)&&h(_,!y)}function m(_){var g=[].slice.call(_.querySelectorAll("*"),0).reduce(function(y,w){return y.concat(w.shadowRoot?m(w.shadowRoot):[w])},[]);return g.filter(f)}t.exports=e.default})(Qp,Qp.exports);var GP=Qp.exports;Object.defineProperty(kn,"__esModule",{value:!0});kn.resetState=MH;kn.log=DH;kn.handleBlur=Xa;kn.handleFocus=el;kn.markForFocusLater=FH;kn.returnFocus=UH;kn.popWithoutFocus=BH;kn.setupScopedFocus=zH;kn.teardownScopedFocus=jH;var LH=GP,AH=NH(LH);function NH(t){return t&&t.__esModule?t:{default:t}}var ro=[],Rs=null,Jp=!1;function MH(){ro=[]}function DH(){}function Xa(){Jp=!0}function el(){if(Jp){if(Jp=!1,!Rs)return;setTimeout(function(){if(!Rs.contains(document.activeElement)){var t=(0,AH.default)(Rs)[0]||Rs;t.focus()}},0)}}function FH(){ro.push(document.activeElement)}function UH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{ro.length!==0&&(e=ro.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function BH(){ro.length>0&&ro.pop()}function zH(t){Rs=t,window.addEventListener?(window.addEventListener("blur",Xa,!1),document.addEventListener("focus",el,!0)):(window.attachEvent("onBlur",Xa),document.attachEvent("onFocus",el))}function jH(){Rs=null,window.addEventListener?(window.removeEventListener("blur",Xa),document.removeEventListener("focus",el)):(window.detachEvent("onBlur",Xa),document.detachEvent("onFocus",el))}var Xp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=GP,i=r(n);function r(u){return u&&u.__esModule?u:{default:u}}function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return u.activeElement.shadowRoot?o(u.activeElement.shadowRoot):u.activeElement}function l(u,h){var f=(0,i.default)(u);if(!f.length){h.preventDefault();return}var m=void 0,_=h.shiftKey,g=f[0],y=f[f.length-1],w=o();if(u===w){if(!_)return;m=y}if(y===w&&!_&&(m=g),g===w&&_&&(m=y),m){h.preventDefault(),m.focus();return}var C=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),A=C!=null&&C[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(A){var T=f.indexOf(w);if(T>-1&&(T+=_?-1:1),m=f[T],typeof m>"u"){h.preventDefault(),m=_?y:g,m.focus();return}h.preventDefault(),m.focus()}}t.exports=e.default})(Xp,Xp.exports);var HH=Xp.exports,Rn={},WH=function(){},$H=WH,Sn={},KP={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(KP);var VH=KP.exports;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.canUseDOM=Sn.SafeNodeList=Sn.SafeHTMLCollection=void 0;var qH=VH,ZH=GH(qH);function GH(t){return t&&t.__esModule?t:{default:t}}var kh=ZH.default,KH=kh.canUseDOM?window.HTMLElement:{};Sn.SafeHTMLCollection=kh.canUseDOM?window.HTMLCollection:{};Sn.SafeNodeList=kh.canUseDOM?window.NodeList:{};Sn.canUseDOM=kh.canUseDOM;Sn.default=KH;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.resetState=eW;Rn.log=tW;Rn.assertNodeList=YP;Rn.setElement=nW;Rn.validateElement=gg;Rn.hide=iW;Rn.show=rW;Rn.documentNotReadyOrSSRTesting=sW;var YH=$H,QH=XH(YH),JH=Sn;function XH(t){return t&&t.__esModule?t:{default:t}}var Xt=null;function eW(){Xt&&(Xt.removeAttribute?Xt.removeAttribute("aria-hidden"):Xt.length!=null?Xt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Xt).forEach(function(t){return t.removeAttribute("aria-hidden")})),Xt=null}function tW(){}function YP(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function nW(t){var e=t;if(typeof e=="string"&&JH.canUseDOM){var n=document.querySelectorAll(e);YP(n,e),e=n}return Xt=e||Xt,Xt}function gg(t){var e=t||Xt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,QH.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function iW(t){var e=!0,n=!1,i=void 0;try{for(var r=gg(t)[Symbol.iterator](),o;!(e=(o=r.next()).done);e=!0){var l=o.value;l.setAttribute("aria-hidden","true")}}catch(u){n=!0,i=u}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}function rW(t){var e=!0,n=!1,i=void 0;try{for(var r=gg(t)[Symbol.iterator](),o;!(e=(o=r.next()).done);e=!0){var l=o.value;l.removeAttribute("aria-hidden")}}catch(u){n=!0,i=u}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}}function sW(){Xt=null}var go={};Object.defineProperty(go,"__esModule",{value:!0});go.resetState=oW;go.log=aW;var va={},ya={};function M0(t,e){t.classList.remove(e)}function oW(){var t=document.getElementsByTagName("html")[0];for(var e in va)M0(t,va[e]);var n=document.body;for(var i in ya)M0(n,ya[i]);va={},ya={}}function aW(){}var lW=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},uW=function(e,n){return e[n]&&(e[n]-=1),n},cW=function(e,n,i){i.forEach(function(r){lW(n,r),e.add(r)})},hW=function(e,n,i){i.forEach(function(r){uW(n,r),n[r]===0&&e.remove(r)})};go.add=function(e,n){return cW(e.classList,e.nodeName.toLowerCase()=="html"?va:ya,n.split(" "))};go.remove=function(e,n){return hW(e.classList,e.nodeName.toLowerCase()=="html"?va:ya,n.split(" "))};var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.log=fW;vo.resetState=pW;function dW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var QP=function t(){var e=this;dW(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var i=e.openInstances.indexOf(n);i!==-1&&(e.openInstances.splice(i,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(i){return i(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},xc=new QP;function fW(){console.log("portalOpenInstances ----------"),console.log(xc.openInstances.length),xc.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function pW(){xc=new QP}vo.default=xc;var vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.resetState=vW;vg.log=yW;var mW=vo,_W=gW(mW);function gW(t){return t&&t.__esModule?t:{default:t}}var wt=void 0,pn=void 0,Rr=[];function vW(){for(var t=[wt,pn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}wt=pn=null,Rr=[]}function yW(){console.log("bodyTrap ----------"),console.log(Rr.length);for(var t=[wt,pn],e=0;e<t.length;e++){var n=t[e],i=n||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function D0(){Rr.length!==0&&Rr[Rr.length-1].focusContent()}function wW(t,e){!wt&&!pn&&(wt=document.createElement("div"),wt.setAttribute("data-react-modal-body-trap",""),wt.style.position="absolute",wt.style.opacity="0",wt.setAttribute("tabindex","0"),wt.addEventListener("focus",D0),pn=wt.cloneNode(),pn.addEventListener("focus",D0)),Rr=e,Rr.length>0?(document.body.firstChild!==wt&&document.body.insertBefore(wt,document.body.firstChild),document.body.lastChild!==pn&&document.body.appendChild(pn)):(wt.parentElement&&wt.parentElement.removeChild(wt),pn.parentElement&&pn.parentElement.removeChild(pn))}_W.default.subscribe(wW);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(G){for(var Q=1;Q<arguments.length;Q++){var ne=arguments[Q];for(var R in ne)Object.prototype.hasOwnProperty.call(ne,R)&&(G[R]=ne[R])}return G},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},r=function(){function G(Q,ne){for(var R=0;R<ne.length;R++){var x=ne[R];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(Q,x.key,x)}}return function(Q,ne,R){return ne&&G(Q.prototype,ne),R&&G(Q,R),Q}}(),o=N,l=ZP,u=B(l),h=kn,f=O(h),m=HH,_=B(m),g=Rn,y=O(g),w=go,C=O(w),A=Sn,T=B(A),E=vo,I=B(E);function O(G){if(G&&G.__esModule)return G;var Q={};if(G!=null)for(var ne in G)Object.prototype.hasOwnProperty.call(G,ne)&&(Q[ne]=G[ne]);return Q.default=G,Q}function B(G){return G&&G.__esModule?G:{default:G}}function H(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function V(G,Q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:G}function z(G,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}var te={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},W=function(Q){return Q.code==="Tab"||Q.keyCode===9},oe=function(Q){return Q.code==="Escape"||Q.keyCode===27},we=0,_t=function(G){z(Q,G);function Q(ne){H(this,Q);var R=V(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ne));return R.setOverlayRef=function(x){R.overlay=x,R.props.overlayRef&&R.props.overlayRef(x)},R.setContentRef=function(x){R.content=x,R.props.contentRef&&R.props.contentRef(x)},R.afterClose=function(){var x=R.props,$=x.appElement,F=x.ariaHideApp,K=x.htmlOpenClassName,le=x.bodyOpenClassName,Pe=x.parentSelector,ve=Pe&&Pe().ownerDocument||document;le&&C.remove(ve.body,le),K&&C.remove(ve.getElementsByTagName("html")[0],K),F&&we>0&&(we-=1,we===0&&y.show($)),R.props.shouldFocusAfterRender&&(R.props.shouldReturnFocusAfterClose?(f.returnFocus(R.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),R.props.onAfterClose&&R.props.onAfterClose(),I.default.deregister(R)},R.open=function(){R.beforeOpen(),R.state.afterOpen&&R.state.beforeClose?(clearTimeout(R.closeTimer),R.setState({beforeClose:!1})):(R.props.shouldFocusAfterRender&&(f.setupScopedFocus(R.node),f.markForFocusLater()),R.setState({isOpen:!0},function(){R.openAnimationFrame=requestAnimationFrame(function(){R.setState({afterOpen:!0}),R.props.isOpen&&R.props.onAfterOpen&&R.props.onAfterOpen({overlayEl:R.overlay,contentEl:R.content})})}))},R.close=function(){R.props.closeTimeoutMS>0?R.closeWithTimeout():R.closeWithoutTimeout()},R.focusContent=function(){return R.content&&!R.contentHasFocus()&&R.content.focus({preventScroll:!0})},R.closeWithTimeout=function(){var x=Date.now()+R.props.closeTimeoutMS;R.setState({beforeClose:!0,closesAt:x},function(){R.closeTimer=setTimeout(R.closeWithoutTimeout,R.state.closesAt-Date.now())})},R.closeWithoutTimeout=function(){R.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},R.afterClose)},R.handleKeyDown=function(x){W(x)&&(0,_.default)(R.content,x),R.props.shouldCloseOnEsc&&oe(x)&&(x.stopPropagation(),R.requestClose(x))},R.handleOverlayOnClick=function(x){R.shouldClose===null&&(R.shouldClose=!0),R.shouldClose&&R.props.shouldCloseOnOverlayClick&&(R.ownerHandlesClose()?R.requestClose(x):R.focusContent()),R.shouldClose=null},R.handleContentOnMouseUp=function(){R.shouldClose=!1},R.handleOverlayOnMouseDown=function(x){!R.props.shouldCloseOnOverlayClick&&x.target==R.overlay&&x.preventDefault()},R.handleContentOnClick=function(){R.shouldClose=!1},R.handleContentOnMouseDown=function(){R.shouldClose=!1},R.requestClose=function(x){return R.ownerHandlesClose()&&R.props.onRequestClose(x)},R.ownerHandlesClose=function(){return R.props.onRequestClose},R.shouldBeClosed=function(){return!R.state.isOpen&&!R.state.beforeClose},R.contentHasFocus=function(){return document.activeElement===R.content||R.content.contains(document.activeElement)},R.buildClassName=function(x,$){var F=(typeof $>"u"?"undefined":i($))==="object"?$:{base:te[x],afterOpen:te[x]+"--after-open",beforeClose:te[x]+"--before-close"},K=F.base;return R.state.afterOpen&&(K=K+" "+F.afterOpen),R.state.beforeClose&&(K=K+" "+F.beforeClose),typeof $=="string"&&$?K+" "+$:K},R.attributesFromObject=function(x,$){return Object.keys($).reduce(function(F,K){return F[x+"-"+K]=$[K],F},{})},R.state={afterOpen:!1,beforeClose:!1},R.shouldClose=null,R.moveFromContentToOverlay=null,R}return r(Q,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(R,x){this.props.isOpen&&!R.isOpen?this.open():!this.props.isOpen&&R.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!x.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var R=this.props,x=R.appElement,$=R.ariaHideApp,F=R.htmlOpenClassName,K=R.bodyOpenClassName,le=R.parentSelector,Pe=le&&le().ownerDocument||document;K&&C.add(Pe.body,K),F&&C.add(Pe.getElementsByTagName("html")[0],F),$&&(we+=1,y.hide(x)),I.default.register(this)}},{key:"render",value:function(){var R=this.props,x=R.id,$=R.className,F=R.overlayClassName,K=R.defaultStyles,le=R.children,Pe=$?{}:K.content,ve=F?{}:K.overlay;if(this.shouldBeClosed())return null;var me={ref:this.setOverlayRef,className:this.buildClassName("overlay",F),style:n({},ve,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ie=n({id:x,ref:this.setContentRef,style:n({},Pe,this.props.style.content),className:this.buildClassName("content",$),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),gt=this.props.contentElement(ie,le);return this.props.overlayElement(me,gt)}}]),Q}(o.Component);_t.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_t.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),parentSelector:u.default.func,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.oneOfType([u.default.instanceOf(T.default),u.default.instanceOf(A.SafeHTMLCollection),u.default.instanceOf(A.SafeNodeList),u.default.arrayOf(u.default.instanceOf(T.default))]),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func,testId:u.default.string},e.default=_t,t.exports=e.default})(Yp,Yp.exports);var EW=Yp.exports;function JP(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function XP(t){function e(n){var i=this.constructor.getDerivedStateFromProps(t,n);return i??null}this.setState(e.bind(this))}function ex(t,e){try{var n=this.props,i=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}JP.__suppressDeprecationWarning=!0;XP.__suppressDeprecationWarning=!0;ex.__suppressDeprecationWarning=!0;function TW(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,i=null,r=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||i!==null||r!==null){var o=t.displayName||t.name,l=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+l+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=JP,e.componentWillReceiveProps=XP),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=ex;var u=e.componentDidUpdate;e.componentDidUpdate=function(f,m,_){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;u.call(this,f,m,g)}}return t}const SW=Object.freeze(Object.defineProperty({__proto__:null,polyfill:TW},Symbol.toStringTag,{value:"Module"})),CW=kb(SW);Object.defineProperty(Zr,"__esModule",{value:!0});Zr.bodyOpenClassName=Zr.portalClassName=void 0;var F0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},IW=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),tx=N,bc=gl(tx),PW=Ym,kc=gl(PW),xW=ZP,re=gl(xW),bW=EW,U0=gl(bW),kW=Rn,RW=LW(kW),Bi=Sn,B0=gl(Bi),OW=CW;function LW(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function gl(t){return t&&t.__esModule?t:{default:t}}function AW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z0(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var MW=Zr.portalClassName="ReactModalPortal",DW=Zr.bodyOpenClassName="ReactModal__Body--open",mr=Bi.canUseDOM&&kc.default.createPortal!==void 0,j0=function(e){return document.createElement(e)},H0=function(){return mr?kc.default.createPortal:kc.default.unstable_renderSubtreeIntoContainer};function ou(t){return t()}var vl=function(t){NW(e,t);function e(){var n,i,r,o;AW(this,e);for(var l=arguments.length,u=Array(l),h=0;h<l;h++)u[h]=arguments[h];return o=(i=(r=z0(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(u))),r),r.removePortal=function(){!mr&&kc.default.unmountComponentAtNode(r.node);var f=ou(r.props.parentSelector);f&&f.contains(r.node)?f.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(f){r.portal=f},r.renderPortal=function(f){var m=H0(),_=m(r,bc.default.createElement(U0.default,F0({defaultStyles:e.defaultStyles},f)),r.node);r.portalRef(_)},i),z0(r,o)}return IW(e,[{key:"componentDidMount",value:function(){if(Bi.canUseDOM){mr||(this.node=j0("div")),this.node.className=this.props.portalClassName;var i=ou(this.props.parentSelector);i.appendChild(this.node),!mr&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var r=ou(i.parentSelector),o=ou(this.props.parentSelector);return{prevParent:r,nextParent:o}}},{key:"componentDidUpdate",value:function(i,r,o){if(Bi.canUseDOM){var l=this.props,u=l.isOpen,h=l.portalClassName;i.portalClassName!==h&&(this.node.className=h);var f=o.prevParent,m=o.nextParent;m!==f&&(f.removeChild(this.node),m.appendChild(this.node)),!(!i.isOpen&&!u)&&!mr&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Bi.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,r=Date.now(),o=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||r+this.props.closeTimeoutMS);o?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-r)):this.removePortal()}}},{key:"render",value:function(){if(!Bi.canUseDOM||!mr)return null;!this.node&&mr&&(this.node=j0("div"));var i=H0();return i(bc.default.createElement(U0.default,F0({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){RW.setElement(i)}}]),e}(tx.Component);vl.propTypes={isOpen:re.default.bool.isRequired,style:re.default.shape({content:re.default.object,overlay:re.default.object}),portalClassName:re.default.string,bodyOpenClassName:re.default.string,htmlOpenClassName:re.default.string,className:re.default.oneOfType([re.default.string,re.default.shape({base:re.default.string.isRequired,afterOpen:re.default.string.isRequired,beforeClose:re.default.string.isRequired})]),overlayClassName:re.default.oneOfType([re.default.string,re.default.shape({base:re.default.string.isRequired,afterOpen:re.default.string.isRequired,beforeClose:re.default.string.isRequired})]),appElement:re.default.oneOfType([re.default.instanceOf(B0.default),re.default.instanceOf(Bi.SafeHTMLCollection),re.default.instanceOf(Bi.SafeNodeList),re.default.arrayOf(re.default.instanceOf(B0.default))]),onAfterOpen:re.default.func,onRequestClose:re.default.func,closeTimeoutMS:re.default.number,ariaHideApp:re.default.bool,shouldFocusAfterRender:re.default.bool,shouldCloseOnOverlayClick:re.default.bool,shouldReturnFocusAfterClose:re.default.bool,preventScroll:re.default.bool,parentSelector:re.default.func,aria:re.default.object,data:re.default.object,role:re.default.string,contentLabel:re.default.string,shouldCloseOnEsc:re.default.bool,overlayRef:re.default.func,contentRef:re.default.func,id:re.default.string,overlayElement:re.default.func,contentElement:re.default.func};vl.defaultProps={isOpen:!1,portalClassName:MW,bodyOpenClassName:DW,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return bc.default.createElement("div",e,n)},contentElement:function(e,n){return bc.default.createElement("div",e,n)}};vl.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,OW.polyfill)(vl);Zr.default=vl;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Zr,i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}e.default=i.default,t.exports=e.default})(Kp,Kp.exports);var FW=Kp.exports;const UW=Gr(FW),BW=({isOpen:t,onRequestClose:e})=>{const[n,i]=N.useState(""),[r,o]=N.useState(""),l=u=>{u.preventDefault(),DS.get("http://localhost:3001/test",{email:n,password:r}).then(h=>{console.log(h),h.data==="Success"&&navigate("/home")}).catch(h=>console.log(h))};return P.jsxs(UW,{isOpen:t,onRequestClose:e,contentLabel:"Login Modal",children:[P.jsx("h2",{children:"Login"}),P.jsxs("form",{children:[P.jsxs("label",{children:["Email:",P.jsx("input",{type:"email",name:"email",onChange:u=>i(u.target.value)})]}),P.jsxs("label",{children:["Password:",P.jsx("input",{type:"password",name:"password",onChange:u=>o(u.target.value)})]}),P.jsx("button",{type:"button",onClick:l,children:"Login"})]})]})},zW=()=>{const[t,e]=N.useState(!1),n=()=>{e(!0)},i=()=>{e(!1)};return P.jsxs("div",{children:[P.jsx("h1",{children:"Welcome to the Homepage"}),P.jsx("button",{onClick:n,children:"Login"}),P.jsx(BW,{isOpen:t,onRequestClose:i})]})};function Er(){return Er=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Er.apply(this,arguments)}function jW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rc(t,e)}function Rc(t,e){return Rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rc(t,e)}function HW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function em(t,e,n){return em=HW()?Reflect.construct.bind():function(i,r,o){var l=[null];l.push.apply(l,r);var u=new(Function.bind.apply(i,l));return o&&Rc(u,o.prototype),u},em.apply(null,arguments)}function ui(t,e,n,i){e===void 0&&(e=""),i===void 0&&(i={});var r=document.createElement(t);return e&&(r.className=e),Object.keys(i).forEach(function(o){if(typeof i[o]=="function"){var l=o.indexOf("on")===0?o.substr(2).toLowerCase():o;r.addEventListener(l,i[o])}else o==="html"?r.innerHTML=i[o]:o==="text"?r.innerText=i[o]:r.setAttribute(o,i[o])}),n&&n.appendChild(r),r}function Ko(t){t.preventDefault(),t.stopPropagation()}var bu=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function Tr(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)||t.classList.add(n)})}function Un(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)&&t.classList.remove(n)})}var Oc,Lc=13,tm=40,nx=38,WW=[Lc,27,tm,nx,37,39],$W=function(){function t(n){var i=this,r=n.handleSubmit,o=n.searchLabel,l=n.classNames,u=l===void 0?{}:l;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=ui("div",bu("geosearch",u.container)),this.form=ui("form",["",u.form].join(" "),this.container,{autocomplete:"none",onClick:Ko,onDblClick:Ko,touchStart:Ko,touchEnd:Ko}),this.input=ui("input",["glass",u.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(h){return i.onKeyUp(h)},onKeyPress:function(h){return i.onKeyPress(h)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){i.input.focus(),i.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=r}var e=t.prototype;return e.onFocus=function(){Tr(this.form,"active")},e.onBlur=function(){Un(this.form,"active")},e.onSubmit=function(n){try{var i=this;return Ko(n),Un(r=i.container,"error"),Tr(r,"pending"),Promise.resolve(i.handleSubmit({query:i.input.value})).then(function(){Un(i.container,"pending")})}catch(o){return Promise.reject(o)}var r},e.onInput=function(){this.hasError&&(Un(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(n){n.keyCode===27&&(Un(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(n){n.keyCode===Lc&&this.onSubmit(n)},e.setQuery=function(n){this.input.value=n},t}(),VW=function(){function t(n){var i=this,r=n.handleClick,o=n.classNames,l=o===void 0?{}:o,u=n.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(h){if(typeof i.handleClick=="function"){var f=h.target;if(f&&i.container.contains(f)&&f.hasAttribute("data-key")){var m=Number(f.getAttribute("data-key"));i.handleClick({result:i.results[m]})}}},this.handleClick=r,this.notFoundMessage=u?ui("div",bu(l.notfound),void 0,{html:u}):void 0,this.container=ui("div",bu("results",l.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=ui("div",bu(l.item))}var e=t.prototype;return e.render=function(n,i){var r=this;n===void 0&&(n=[]),this.clear(),n.forEach(function(o,l){var u=r.resultItem.cloneNode(!0);u.setAttribute("data-key",""+l),u.innerHTML=i({result:o}),r.container.appendChild(u)}),n.length>0?(Tr(this.container.parentElement,"open"),Tr(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),Tr(this.container.parentElement,"open")),this.results=n},e.select=function(n){return Array.from(this.container.children).forEach(function(i,r){return r===n?Tr(i,"active"):Un(i,"active")}),this.selected=n,this.results[n]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);Un(this.container.parentElement,"open"),Un(this.container,"active")},t}(),hf={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:pg&&st.Icon?new st.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},ix="Leaflet must be loaded before instantiating the GeoSearch control",qW={options:Er({},hf),classNames:Er({},hf.classNames),initialize:function(t){var e,n,i,r,o=this;if(!pg)throw new Error(ix);if(!t.provider)throw new Error("Provider is missing from options");this.options=Er({},hf,t),this.classNames=Er({},this.classNames,t.classNames),this.markers=new st.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new $W({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(l){return o.onSubmit(l)}}),this.button=ui("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(l){return o.onClick(l)}}),st.DomEvent.disableClickPropagation(this.button),this.resetButton=ui("button",this.classNames.resetButton,this.searchElement.form,{text:"","aria-label":this.options.clearSearchLabel,onClick:function(){o.searchElement.input.value===""?o.close():o.clearResults(null,!0)}}),st.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new VW({handleClick:function(l){var u=l.result;o.searchElement.input.value=u.label,o.onSubmit({query:u.label,data:u})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(l){return o.autoSearch(l)},(n=this.options.autoCompleteDelay)===void 0&&(n=250),i===void 0&&(i=!1),function(){var l=[].slice.call(arguments);r&&clearTimeout(r),r=setTimeout(function(){r=null,i||e.apply(void 0,l)},n),i&&!r&&e.apply(void 0,l)}),!0),this.searchElement.input.addEventListener("keydown",function(l){return o.selectResult(l)},!0),this.searchElement.input.addEventListener("keydown",function(l){return o.clearResults(l,!0)},!0)),this.searchElement.form.addEventListener("click",function(l){l.preventDefault()},!1)},onAdd:function(t){var e=this.options,n=e.showMarker,i=e.style;if(this.map=t,n&&this.markers.addTo(t),i==="bar"){var r=t.getContainer().querySelector(".leaflet-control-container");this.container=ui("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),r.appendChild(this.container)}return st.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;Tr(t.container,"active"),e.focus()},close:function(){Un(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([Lc,tm,nx].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==Lc){var e=this.resultList.count()-1;if(!(e<0)){var n=this.resultList.selected,i=t.keyCode===tm?n+1:n-1,r=this.resultList.select(i<0?e:i>e?0:i);this.searchElement.input.value=r.label}}else{var o=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:o})}},clearResults:function(t,e){if(e===void 0&&(e=!1),!t||t.keyCode===27){var n=this.options,i=n.autoComplete;!e&&n.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),i&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(WW.indexOf(t.keyCode)>-1)return Promise.resolve();var n=t.target.value,i=e.options.provider,r=function(){if(n.length)return Promise.resolve(i.search({query:n})).then(function(o){o=o.slice(0,e.options.maxSuggestions),e.resultList.render(o,e.options.resultFormat)});e.resultList.clear()}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},onSubmit:function(t){try{var e=this;return e.resultList.clear(),Promise.resolve(e.options.provider.search(t)).then(function(n){n&&n.length>0&&e.showResult(n[0],t)})}catch(n){return Promise.reject(n)}},showResult:function(t,e){var n=this.options,i=n.autoClose,r=n.updateMap,o=this.markers.getLayers();o.length>=this.options.maxMarkers&&this.markers.removeLayer(o[0]);var l=this.addMarker(t,e);r&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:l}),i&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&Un(t,"active"),this.clearResults()},addMarker:function(t,e){var n=this,i=this.options,r=i.marker,o=i.showPopup,l=i.popupFormat,u=new st.Marker([t.y,t.x],r),h=t.label;return typeof l=="function"&&(h=l({query:e,result:t})),u.bindPopup(h),this.markers.addLayer(u),o&&u.openPopup(),r.draggable&&u.on("dragend",function(f){n.map.fireEvent("geosearch/marker/dragend",{location:u.getLatLng(),event:f})}),u},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,i=e.animateZoom,r=t.bounds?new st.LatLngBounds(t.bounds):new st.LatLng(t.y,t.x).toBounds(10),o=r.isValid()?r:this.markers.getBounds();!n&&r.isValid()&&!t.bounds||n||!r.isValid()?this.map.setView(o.getCenter(),this.getZoom(),{animate:i}):this.map.fitBounds(o,{animate:i})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function ZW(){if(!pg)throw new Error(ix);var t=st.Control.extend(qW);return em(t,[].slice.call(arguments))}(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(Oc||(Oc={}));var W0,GW=function(){function t(n){n===void 0&&(n={}),this.options=void 0,this.options=n}var e=t.prototype;return e.getParamString=function(n){n===void 0&&(n={});var i=Er({},this.options.params,n);return Object.keys(i).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(i[r])}).join("&")},e.getUrl=function(n,i){return n+"?"+this.getParamString(i)},e.search=function(n){try{var i=this,r=i.endpoint({query:n.query,type:Oc.SEARCH});return Promise.resolve(fetch(r)).then(function(o){return Promise.resolve(o.json()).then(function(l){return i.parse({data:l})})})}catch(o){return Promise.reject(o)}},t}();(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(W0||(W0={}));var KW=function(t){function e(i){var r;i===void 0&&(i={}),(r=t.call(this,i)||this).searchUrl=void 0,r.reverseUrl=void 0;var o="https://nominatim.openstreetmap.org";return r.searchUrl=i.searchUrl||o+"/search",r.reverseUrl=i.reverseUrl||o+"/reverse",r}jW(e,t);var n=e.prototype;return n.endpoint=function(i){var r=i.query,o=i.type,l=typeof r=="string"?{q:r}:r;return l.format="json",this.getUrl(o===Oc.REVERSE?this.reverseUrl:this.searchUrl,l)},n.parse=function(i){return(Array.isArray(i.data)?i.data:[i.data]).map(function(r){return{x:Number(r.lon),y:Number(r.lat),label:r.display_name,bounds:[[parseFloat(r.boundingbox[0]),parseFloat(r.boundingbox[2])],[parseFloat(r.boundingbox[1]),parseFloat(r.boundingbox[3])]],raw:r}})},e}(GW);let au;const YW=new Uint8Array(16);function QW(){if(!au&&(au=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!au))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return au(YW)}const ct=[];for(let t=0;t<256;++t)ct.push((t+256).toString(16).slice(1));function JW(t,e=0){return ct[t[e+0]]+ct[t[e+1]]+ct[t[e+2]]+ct[t[e+3]]+"-"+ct[t[e+4]]+ct[t[e+5]]+"-"+ct[t[e+6]]+ct[t[e+7]]+"-"+ct[t[e+8]]+ct[t[e+9]]+"-"+ct[t[e+10]]+ct[t[e+11]]+ct[t[e+12]]+ct[t[e+13]]+ct[t[e+14]]+ct[t[e+15]]}const XW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$0={randomUUID:XW};function e3(t,e,n){if($0.randomUUID&&!e&&!t)return $0.randomUUID();t=t||{};const i=t.random||(t.rng||QW)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return JW(i)}function t3(){const[t,e]=N.useState(1),n=Xc(),[i,r]=N.useState(),[o,l]=N.useState(),[u,h]=N.useState(),[f,m]=N.useState(),[_,g]=N.useState([]),[y,w]=N.useState(),[C,A]=N.useState(!1),[T,E]=N.useState(!1);N.useState();const[I,O]=N.useState(null),B=DI(kP,"spots/"+i);N.useEffect(()=>{qr.onAuthStateChanged(W=>{W&&W.emailVerified?(A(!0),E(!0),te()):W&&!W.emailVerified?(A(!0),E(!1)):(A(!1),E(!1))})},[]);const H=()=>{e(t+1),document.getElementById("map2").style.height="0px"},V=W=>{W.preventDefault();var oe=["test"];function we(){const _t=[];for(let G=0;G<I.length;G++){const Q=Up(Hp,`images/${I[G].name+e3()}`),ne=$2(Q,I[G]).then(R=>YI(Up(Hp,R.metadata.fullPath))).then(R=>{oe[G]=R});_t.push(ne)}Promise.all(_t).then(()=>{vU(B,{uploadedImgURLs:oe})}).catch(G=>{console.error("Error uploading images:",G)})}gU(B,{spotName:i,spotDescription:y,spotDescription:y,lat:o,long:u,spotAddress:f,uploadedImgURLs:[""]}).then(()=>{console.log("Spot added."),n("/")}),we()};function z(W){let oe=[];for(let we=0;we<W.length;we++)oe[we]=URL.createObjectURL(W[we]);g(oe)}function te(){const W=L.map("map2").setView([43.747474670410156,-79.49417877197266],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap"}).addTo(W);const oe=new st.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]}),we=new ZW({provider:new KW,style:"bar",showMarker:!1,marker:{icon:oe,draggable:!1}});W.addControl(we);var _t={clickable:!0,icon:oe},G=L.marker(new L.LatLng(0,0),_t);G.addTo(W),W.on("click",function(ne){var R=ne.latlng,x=R.lat,$=R.lng,F=new L.LatLng(x,$);G.setLatLng(F),l(x),h($),Q(x,$)});function Q(ne,R){DS.get("https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+ne+"&lon="+R).then(x=>{console.log(x.data);let $=x.data.address;m(($.house_number?$.house_number+" ":"")+$.road+", "+$.city+", "+$.state+", "+$.country)}).catch(x=>{console.log(x)})}W.on("geosearch/showlocation",function(ne){var R=ne.location.y,x=ne.location.x;l(R),h(x);var $=new L.LatLng(R,x);G.setLatLng($),Q(R,x)})}return P.jsxs(N.Fragment,{children:[P.jsx(bh,{}),C==!0?P.jsx("div",{children:T==!0?P.jsx("div",{}):P.jsx("p",{className:"verText",children:"Please verify your email!"})}):P.jsx("p",{className:"verText",children:"Please login to submit!"}),P.jsxs("div",{className:"map-container",children:[T==!0&&t==1?P.jsxs("div",{children:[P.jsx("h2",{id:"topText",children:"Add Your Own Skatespot!"}),P.jsx("p",{id:"text2",children:"Enter an address using the search bar, then drop a pin at the approximate location."})]}):P.jsx("div",{}),P.jsx("div",{id:"map2"}),T==!0&&t==1?P.jsxs("div",{children:[P.jsx("br",{}),P.jsxs("div",{children:[o!=null?P.jsx("div",{children:P.jsxs("p",{className:"fade-in",children:["Your coordinates are ",o,", ",u]})}):P.jsx("div",{}),f!=null?P.jsxs("p",{className:"fade-in",children:["The address of this location is ",f]}):P.jsx("div",{}),f!=null&&o!=null?P.jsx("div",{className:"fade-in",children:P.jsx("button",{id:"logButt",onClick:H,className:"buttons",children:"Next!"})}):P.jsx("div",{})]})]}):P.jsx("div",{})]}),t==2?P.jsx("div",{className:"bigahcontainer",children:P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsxs("form",{onSubmit:V,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"name",children:P.jsx("strong",{children:"Name"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter Spot Name",autoComplete:"off",id:"name",accept:".png, .jpg, .jpeg, .webp, .mp4",onChange:W=>r(W.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"files",children:P.jsx("strong",{children:"Upload Images"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"file",placeholder:"Upload Images",autoComplete:"off",id:"image",multiple:!0,onChange:W=>{O(W.target.files),z(W.target.files)}}),_.length>0?P.jsx("div",{className:"filePreviewContainer",children:_.map((W,oe)=>P.jsx("img",{id:"fileImage",src:_[oe]},oe))}):P.jsx("div",{})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"spotDescription",children:P.jsx("strong",{children:"Description"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter a Description",autoComplete:"off",id:"spotDescription",onChange:W=>w(W.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Submit!"})]})]})})}):P.jsx("div",{})]})}function n3(){return P.jsx(VR,{children:P.jsxs(WR,{children:[P.jsx(ms,{exact:!0,path:"/",element:P.jsx(xH,{})}),P.jsx(ms,{exact:!0,path:"/register",element:P.jsx(gj,{})}),P.jsx(ms,{exact:!0,path:"/login",element:P.jsx(vj,{})}),P.jsx(ms,{exact:!0,path:"/test",element:P.jsx(zW,{})}),P.jsx(ms,{exact:!0,path:"/submit",element:P.jsx(t3,{})})]})})}df.createRoot(document.getElementById("root")).render(P.jsx(n3,{}));

function a0(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l0={exports:{}},bc={},u0={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),Gx=Symbol.for("react.portal"),Kx=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),eb=Symbol.for("react.forward_ref"),tb=Symbol.for("react.suspense"),nb=Symbol.for("react.memo"),ib=Symbol.for("react.lazy"),tv=Symbol.iterator;function rb(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var c0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h0=Object.assign,d0={};function so(t,e,n){this.props=t,this.context=e,this.refs=d0,this.updater=n||c0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f0(){}f0.prototype=so.prototype;function jp(t,e,n){this.props=t,this.context=e,this.refs=d0,this.updater=n||c0}var Hp=jp.prototype=new f0;Hp.constructor=jp;h0(Hp,so.prototype);Hp.isPureReactComponent=!0;var nv=Array.isArray,p0=Object.prototype.hasOwnProperty,Wp={current:null},m0={key:!0,ref:!0,__self:!0,__source:!0};function _0(t,e,n){var i,r={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)p0.call(e,i)&&!m0.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];r.children=h}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Ja,type:t,key:o,ref:a,props:r,_owner:Wp.current}}function sb(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $p(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function ob(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iv=/\/+/g;function td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ob(""+t.key):e.toString(36)}function ru(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ja:case Gx:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+td(a,0):i,nv(r)?(n="",t!=null&&(n=t.replace(iv,"$&/")+"/"),ru(r,e,n,"",function(f){return f})):r!=null&&($p(r)&&(r=sb(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(iv,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",nv(t))for(var u=0;u<t.length;u++){o=t[u];var h=i+td(o,u);a+=ru(o,e,n,h,r)}else if(h=rb(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=i+td(o,u++),a+=ru(o,e,n,h,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ml(t,e,n){if(t==null)return t;var i=[],r=0;return ru(t,i,"","",function(o){return e.call(n,o,r++)}),i}function ab(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},su={transition:null},lb={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:su,ReactCurrentOwner:Wp};pe.Children={map:Ml,forEach:function(t,e,n){Ml(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ml(t,function(){e++}),e},toArray:function(t){return Ml(t,function(e){return e})||[]},only:function(t){if(!$p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=so;pe.Fragment=Kx;pe.Profiler=Qx;pe.PureComponent=jp;pe.StrictMode=Yx;pe.Suspense=tb;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lb;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=h0({},t.props),r=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Wp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)p0.call(e,h)&&!m0.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:Ja,type:t.type,key:r,ref:o,props:i,_owner:a}};pe.createContext=function(t){return t={$$typeof:Jx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xx,_context:t},t.Consumer=t};pe.createElement=_0;pe.createFactory=function(t){var e=_0.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:eb,render:t}};pe.isValidElement=$p;pe.lazy=function(t){return{$$typeof:ib,_payload:{_status:-1,_result:t},_init:ab}};pe.memo=function(t,e){return{$$typeof:nb,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=su.transition;su.transition={};try{t()}finally{su.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return Lt.current.useCallback(t,e)};pe.useContext=function(t){return Lt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Lt.current.useEffect(t,e)};pe.useId=function(){return Lt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Lt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};pe.useRef=function(t){return Lt.current.useRef(t)};pe.useState=function(t){return Lt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Lt.current.useTransition()};pe.version="18.2.0";u0.exports=pe;var b=u0.exports;const Q=ro(b),ub=a0({__proto__:null,default:Q},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb=b,hb=Symbol.for("react.element"),db=Symbol.for("react.fragment"),fb=Object.prototype.hasOwnProperty,pb=cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mb={key:!0,ref:!0,__self:!0,__source:!0};function g0(t,e,n){var i,r={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)fb.call(e,i)&&!mb.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:hb,type:t,key:o,ref:a,props:r,_owner:pb.current}}bc.Fragment=db;bc.jsx=g0;bc.jsxs=g0;l0.exports=bc;var P=l0.exports,nf={},v0={exports:{}},Yt={},y0={exports:{}},w0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,G){var D=A.length;A.push(G);e:for(;0<D;){var J=D-1>>>1,me=A[J];if(0<r(me,G))A[J]=G,A[D]=me,D=J;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var G=A[0],D=A.pop();if(D!==G){A[0]=D;e:for(var J=0,me=A.length,Ge=me>>>1;J<Ge;){var Ee=2*(J+1)-1,he=A[Ee],ie=Ee+1,nt=A[ie];if(0>r(he,D))ie<me&&0>r(nt,he)?(A[J]=nt,A[ie]=D,J=ie):(A[J]=he,A[Ee]=D,J=Ee);else if(ie<me&&0>r(nt,D))A[J]=nt,A[ie]=D,J=ie;else break e}}return G}function r(A,G){var D=A.sortIndex-G.sortIndex;return D!==0?D:A.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],f=[],m=1,_=null,g=3,E=!1,w=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(A){for(var G=n(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=A)i(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=n(f)}}function R(A){if(C=!1,I(A),!w)if(n(h)!==null)w=!0,xe(U);else{var G=n(f);G!==null&&Me(R,G.startTime-A)}}function U(A,G){w=!1,C&&(C=!1,T(F),F=-1),E=!0;var D=g;try{for(I(G),_=n(h);_!==null&&(!(_.expirationTime>G)||A&&!Z());){var J=_.callback;if(typeof J=="function"){_.callback=null,g=_.priorityLevel;var me=J(_.expirationTime<=G);G=t.unstable_now(),typeof me=="function"?_.callback=me:_===n(h)&&i(h),I(G)}else i(h);_=n(h)}if(_!==null)var Ge=!0;else{var Ee=n(f);Ee!==null&&Me(R,Ee.startTime-G),Ge=!1}return Ge}finally{_=null,g=D,E=!1}}var j=!1,H=null,F=-1,W=5,$=-1;function Z(){return!(t.unstable_now()-$<W)}function ae(){if(H!==null){var A=t.unstable_now();$=A;var G=!0;try{G=H(!0,A)}finally{G?be():(j=!1,H=null)}}else j=!1}var be;if(typeof y=="function")be=function(){y(ae)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Pe=te.port2;te.port1.onmessage=ae,be=function(){Pe.postMessage(null)}}else be=function(){O(ae,0)};function xe(A){H=A,j||(j=!0,be())}function Me(A,G){F=O(function(){A(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,xe(U))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(A){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var D=g;g=G;try{return A()}finally{g=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,G){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=g;g=A;try{return G()}finally{g=D}},t.unstable_scheduleCallback=function(A,G,D){var J=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,A){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=D+me,A={id:m++,callback:G,priorityLevel:A,startTime:D,expirationTime:me,sortIndex:-1},D>J?(A.sortIndex=D,e(f,A),n(h)===null&&A===n(f)&&(C?(T(F),F=-1):C=!0,Me(R,D-J))):(A.sortIndex=me,e(h,A),w||E||(w=!0,xe(U))),A},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(A){var G=g;return function(){var D=g;g=G;try{return A.apply(this,arguments)}finally{g=D}}}})(w0);y0.exports=w0;var _b=y0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=b,Kt=_b;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T0=new Set,ya={};function Gr(t,e){Ws(t,e),Ws(t+"Capture",e)}function Ws(t,e){for(ya[t]=e,t=0;t<e.length;t++)T0.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=Object.prototype.hasOwnProperty,gb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},sv={};function vb(t){return rf.call(sv,t)?!0:rf.call(rv,t)?!1:gb.test(t)?sv[t]=!0:(rv[t]=!0,!1)}function yb(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wb(t,e,n,i){if(e===null||typeof e>"u"||yb(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,i,r,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vp=/[\-:]([a-z])/g;function Zp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vp,Zp);yt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vp,Zp);yt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vp,Zp);yt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,e,n,i){var r=yt.hasOwnProperty(e)?yt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wb(e,n,r,i)&&(n=null),i||r===null?vb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var gi=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),_s=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),S0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),of=Symbol.for("react.suspense"),af=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),I0=Symbol.for("react.offscreen"),ov=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,nd;function Ko(t){if(nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nd=e&&e[1]||""}return`
`+nd+t}var id=!1;function rd(t,e){if(!t||id)return"";id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),o=i.stack.split(`
`),a=r.length-1,u=o.length-1;1<=a&&0<=u&&r[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(r[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||r[a]!==o[u]){var h=`
`+r[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{id=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ko(t):""}function Eb(t){switch(t.tag){case 5:return Ko(t.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return t=rd(t.type,!1),t;case 11:return t=rd(t.type.render,!1),t;case 1:return t=rd(t.type,!0),t;default:return""}}function lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case _s:return"Portal";case sf:return"Profiler";case Gp:return"StrictMode";case of:return"Suspense";case af:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C0:return(t.displayName||"Context")+".Consumer";case S0:return(t._context.displayName||"Context")+".Provider";case Kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:lf(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return lf(t(e))}catch{}}return null}function Tb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lf(e);case 8:return e===Gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sb(t){var e=P0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fl(t){t._valueTracker||(t._valueTracker=Sb(t))}function x0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=P0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uf(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function av(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b0(t,e){e=e.checked,e!=null&&qp(t,"checked",e,!1)}function cf(t,e){b0(t,e);var n=Xi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hf(t,e.type,n):e.hasOwnProperty("defaultValue")&&hf(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hf(t,e,n){(e!=="number"||Iu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function Rs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function df(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Yo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function k0(t,e){var n=Xi(e.value),i=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ff(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ul,L0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cb=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){Cb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ia[e]=ia[t]})});function O0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ia.hasOwnProperty(t)&&ia[t]?(""+e).trim():e+"px"}function A0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=O0(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Ib=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pf(t,e){if(e){if(Ib[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function mf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function Qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gf=null,Ls=null,Os=null;function hv(t){if(t=nl(t)){if(typeof gf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Ac(e),gf(t.stateNode,t.type,e))}}function N0(t){Ls?Os?Os.push(t):Os=[t]:Ls=t}function M0(){if(Ls){var t=Ls,e=Os;if(Os=Ls=null,hv(t),e)for(t=0;t<e.length;t++)hv(e[t])}}function D0(t,e){return t(e)}function F0(){}var sd=!1;function U0(t,e,n){if(sd)return t(e,n);sd=!0;try{return D0(t,e,n)}finally{sd=!1,(Ls!==null||Os!==null)&&(F0(),M0())}}function Ea(t,e){var n=t.stateNode;if(n===null)return null;var i=Ac(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var vf=!1;if(hi)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){vf=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{vf=!1}function Pb(t,e,n,i,r,o,a,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var ra=!1,Pu=null,xu=!1,yf=null,xb={onError:function(t){ra=!0,Pu=t}};function bb(t,e,n,i,r,o,a,u,h){ra=!1,Pu=null,Pb.apply(xb,arguments)}function kb(t,e,n,i,r,o,a,u,h){if(bb.apply(this,arguments),ra){if(ra){var f=Pu;ra=!1,Pu=null}else throw Error(z(198));xu||(xu=!0,yf=f)}}function Kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dv(t){if(Kr(t)!==t)throw Error(z(188))}function Rb(t){var e=t.alternate;if(!e){if(e=Kr(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return dv(r),t;if(o===i)return dv(r),e;o=o.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,i=o;break}if(u===i){a=!0,i=r,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,i=r;break}if(u===i){a=!0,i=o,n=r;break}u=u.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function B0(t){return t=Rb(t),t!==null?j0(t):null}function j0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j0(t);if(e!==null)return e;t=t.sibling}return null}var H0=Kt.unstable_scheduleCallback,fv=Kt.unstable_cancelCallback,Lb=Kt.unstable_shouldYield,Ob=Kt.unstable_requestPaint,Ye=Kt.unstable_now,Ab=Kt.unstable_getCurrentPriorityLevel,Xp=Kt.unstable_ImmediatePriority,W0=Kt.unstable_UserBlockingPriority,bu=Kt.unstable_NormalPriority,Nb=Kt.unstable_LowPriority,$0=Kt.unstable_IdlePriority,kc=null,Hn=null;function Mb(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(kc,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Ub,Db=Math.log,Fb=Math.LN2;function Ub(t){return t>>>=0,t===0?32:31-(Db(t)/Fb|0)|0}var zl=64,Bl=4194304;function Qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~r;u!==0?i=Qo(u):(o&=a,o!==0&&(i=Qo(o)))}else a=n&~r,a!==0?i=Qo(a):o!==0&&(i=Qo(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Sn(e),r=1<<n,i|=t[n],e&=~r;return i}function zb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bb(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Sn(o),u=1<<a,h=r[a];h===-1?(!(u&n)||u&i)&&(r[a]=zb(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function wf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V0(){var t=zl;return zl<<=1,!(zl&4194240)&&(zl=64),t}function od(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function jb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Sn(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Jp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Sn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Se=0;function Z0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q0,em,G0,K0,Y0,Ef=!1,jl=[],Bi=null,ji=null,Hi=null,Ta=new Map,Sa=new Map,ki=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(e.pointerId)}}function No(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=nl(e),e!==null&&em(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Wb(t,e,n,i,r){switch(e){case"focusin":return Bi=No(Bi,t,e,n,i,r),!0;case"dragenter":return ji=No(ji,t,e,n,i,r),!0;case"mouseover":return Hi=No(Hi,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ta.set(o,No(Ta.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Sa.set(o,No(Sa.get(o)||null,t,e,n,i,r)),!0}return!1}function Q0(t){var e=vr(t.target);if(e!==null){var n=Kr(e);if(n!==null){if(e=n.tag,e===13){if(e=z0(n),e!==null){t.blockedOn=e,Y0(t.priority,function(){G0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);_f=i,n.target.dispatchEvent(i),_f=null}else return e=nl(n),e!==null&&em(e),t.blockedOn=n,!1;e.shift()}return!0}function mv(t,e,n){ou(t)&&n.delete(e)}function $b(){Ef=!1,Bi!==null&&ou(Bi)&&(Bi=null),ji!==null&&ou(ji)&&(ji=null),Hi!==null&&ou(Hi)&&(Hi=null),Ta.forEach(mv),Sa.forEach(mv)}function Mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ef||(Ef=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,$b)))}function Ca(t){function e(r){return Mo(r,t)}if(0<jl.length){Mo(jl[0],t);for(var n=1;n<jl.length;n++){var i=jl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Bi!==null&&Mo(Bi,t),ji!==null&&Mo(ji,t),Hi!==null&&Mo(Hi,t),Ta.forEach(e),Sa.forEach(e),n=0;n<ki.length;n++)i=ki[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)Q0(n),n.blockedOn===null&&ki.shift()}var As=gi.ReactCurrentBatchConfig,Ru=!0;function Vb(t,e,n,i){var r=Se,o=As.transition;As.transition=null;try{Se=1,tm(t,e,n,i)}finally{Se=r,As.transition=o}}function Zb(t,e,n,i){var r=Se,o=As.transition;As.transition=null;try{Se=4,tm(t,e,n,i)}finally{Se=r,As.transition=o}}function tm(t,e,n,i){if(Ru){var r=Tf(t,e,n,i);if(r===null)_d(t,e,i,Lu,n),pv(t,i);else if(Wb(r,t,e,n,i))i.stopPropagation();else if(pv(t,i),e&4&&-1<Hb.indexOf(t)){for(;r!==null;){var o=nl(r);if(o!==null&&q0(o),o=Tf(t,e,n,i),o===null&&_d(t,e,i,Lu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else _d(t,e,i,null,n)}}var Lu=null;function Tf(t,e,n,i){if(Lu=null,t=Qp(i),t=vr(t),t!==null)if(e=Kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lu=t,null}function X0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ab()){case Xp:return 1;case W0:return 4;case bu:case Nb:return 16;case $0:return 536870912;default:return 16}default:return 16}}var Di=null,nm=null,au=null;function J0(){if(au)return au;var t,e=nm,n=e.length,i,r="value"in Di?Di.value:Di.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[o-i];i++);return au=r.slice(t,1<i?1-i:void 0)}function lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function _v(){return!1}function Qt(t){function e(n,i,r,o,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hl:_v,this.isPropagationStopped=_v,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Qt(oo),tl=He({},oo,{view:0,detail:0}),qb=Qt(tl),ad,ld,Do,Rc=He({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(ad=t.screenX-Do.screenX,ld=t.screenY-Do.screenY):ld=ad=0,Do=t),ad)},movementY:function(t){return"movementY"in t?t.movementY:ld}}),gv=Qt(Rc),Gb=He({},Rc,{dataTransfer:0}),Kb=Qt(Gb),Yb=He({},tl,{relatedTarget:0}),ud=Qt(Yb),Qb=He({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Xb=Qt(Qb),Jb=He({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ek=Qt(Jb),tk=He({},oo,{data:0}),vv=Qt(tk),nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rk[t])?!!e[t]:!1}function rm(){return sk}var ok=He({},tl,{key:function(t){if(t.key){var e=nk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ik[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rm,charCode:function(t){return t.type==="keypress"?lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ak=Qt(ok),lk=He({},Rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yv=Qt(lk),uk=He({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rm}),ck=Qt(uk),hk=He({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),dk=Qt(hk),fk=He({},Rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pk=Qt(fk),mk=[9,13,27,32],sm=hi&&"CompositionEvent"in window,sa=null;hi&&"documentMode"in document&&(sa=document.documentMode);var _k=hi&&"TextEvent"in window&&!sa,eE=hi&&(!sm||sa&&8<sa&&11>=sa),wv=String.fromCharCode(32),Ev=!1;function tE(t,e){switch(t){case"keyup":return mk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function gk(t,e){switch(t){case"compositionend":return nE(e);case"keypress":return e.which!==32?null:(Ev=!0,wv);case"textInput":return t=e.data,t===wv&&Ev?null:t;default:return null}}function vk(t,e){if(vs)return t==="compositionend"||!sm&&tE(t,e)?(t=J0(),au=nm=Di=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eE&&e.locale!=="ko"?null:e.data;default:return null}}var yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yk[t.type]:e==="textarea"}function iE(t,e,n,i){N0(i),e=Ou(e,"onChange"),0<e.length&&(n=new im("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var oa=null,Ia=null;function wk(t){pE(t,0)}function Lc(t){var e=Es(t);if(x0(e))return t}function Ek(t,e){if(t==="change")return e}var rE=!1;if(hi){var cd;if(hi){var hd="oninput"in document;if(!hd){var Sv=document.createElement("div");Sv.setAttribute("oninput","return;"),hd=typeof Sv.oninput=="function"}cd=hd}else cd=!1;rE=cd&&(!document.documentMode||9<document.documentMode)}function Cv(){oa&&(oa.detachEvent("onpropertychange",sE),Ia=oa=null)}function sE(t){if(t.propertyName==="value"&&Lc(Ia)){var e=[];iE(e,Ia,t,Qp(t)),U0(wk,e)}}function Tk(t,e,n){t==="focusin"?(Cv(),oa=e,Ia=n,oa.attachEvent("onpropertychange",sE)):t==="focusout"&&Cv()}function Sk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lc(Ia)}function Ck(t,e){if(t==="click")return Lc(e)}function Ik(t,e){if(t==="input"||t==="change")return Lc(e)}function Pk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:Pk;function Pa(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!rf.call(e,r)||!Pn(t[r],e[r]))return!1}return!0}function Iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pv(t,e){var n=Iv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iv(n)}}function oE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aE(){for(var t=window,e=Iu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xk(t){var e=aE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oE(n.ownerDocument.documentElement,n)){if(i!==null&&om(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Pv(n,o);var a=Pv(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bk=hi&&"documentMode"in document&&11>=document.documentMode,ys=null,Sf=null,aa=null,Cf=!1;function xv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cf||ys==null||ys!==Iu(i)||(i=ys,"selectionStart"in i&&om(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),aa&&Pa(aa,i)||(aa=i,i=Ou(Sf,"onSelect"),0<i.length&&(e=new im("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ys)))}function Wl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:Wl("Animation","AnimationEnd"),animationiteration:Wl("Animation","AnimationIteration"),animationstart:Wl("Animation","AnimationStart"),transitionend:Wl("Transition","TransitionEnd")},dd={},lE={};hi&&(lE=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Oc(t){if(dd[t])return dd[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lE)return dd[t]=e[n];return t}var uE=Oc("animationend"),cE=Oc("animationiteration"),hE=Oc("animationstart"),dE=Oc("transitionend"),fE=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(t,e){fE.set(t,e),Gr(e,[t])}for(var fd=0;fd<bv.length;fd++){var pd=bv[fd],kk=pd.toLowerCase(),Rk=pd[0].toUpperCase()+pd.slice(1);nr(kk,"on"+Rk)}nr(uE,"onAnimationEnd");nr(cE,"onAnimationIteration");nr(hE,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(dE,"onTransitionEnd");Ws("onMouseEnter",["mouseout","mouseover"]);Ws("onMouseLeave",["mouseout","mouseover"]);Ws("onPointerEnter",["pointerout","pointerover"]);Ws("onPointerLeave",["pointerout","pointerover"]);Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function kv(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,kb(i,e,void 0,t),t.currentTarget=null}function pE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var u=i[a],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&r.isPropagationStopped())break e;kv(r,u,f),o=h}else for(a=0;a<i.length;a++){if(u=i[a],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&r.isPropagationStopped())break e;kv(r,u,f),o=h}}}if(xu)throw t=yf,xu=!1,yf=null,t}function Ae(t,e){var n=e[kf];n===void 0&&(n=e[kf]=new Set);var i=t+"__bubble";n.has(i)||(mE(e,t,2,!1),n.add(i))}function md(t,e,n){var i=0;e&&(i|=4),mE(n,t,i,e)}var $l="_reactListening"+Math.random().toString(36).slice(2);function xa(t){if(!t[$l]){t[$l]=!0,T0.forEach(function(n){n!=="selectionchange"&&(Lk.has(n)||md(n,!1,t),md(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$l]||(e[$l]=!0,md("selectionchange",!1,e))}}function mE(t,e,n,i){switch(X0(e)){case 1:var r=Vb;break;case 4:r=Zb;break;default:r=tm}n=r.bind(null,e,n,t),r=void 0,!vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function _d(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===r||h.nodeType===8&&h.parentNode===r))return;a=a.return}for(;u!==null;){if(a=vr(u),a===null)return;if(h=a.tag,h===5||h===6){i=o=a;continue e}u=u.parentNode}}i=i.return}U0(function(){var f=o,m=Qp(n),_=[];e:{var g=fE.get(t);if(g!==void 0){var E=im,w=t;switch(t){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":E=ak;break;case"focusin":w="focus",E=ud;break;case"focusout":w="blur",E=ud;break;case"beforeblur":case"afterblur":E=ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=ck;break;case uE:case cE:case hE:E=Xb;break;case dE:E=dk;break;case"scroll":E=qb;break;case"wheel":E=pk;break;case"copy":case"cut":case"paste":E=ek;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=yv}var C=(e&4)!==0,O=!C&&t==="scroll",T=C?g!==null?g+"Capture":null:g;C=[];for(var y=f,I;y!==null;){I=y;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,T!==null&&(R=Ea(y,T),R!=null&&C.push(ba(y,R,I)))),O)break;y=y.return}0<C.length&&(g=new E(g,w,null,n,m),_.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==_f&&(w=n.relatedTarget||n.fromElement)&&(vr(w)||w[di]))break e;if((E||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,E?(w=n.relatedTarget||n.toElement,E=f,w=w?vr(w):null,w!==null&&(O=Kr(w),w!==O||w.tag!==5&&w.tag!==6)&&(w=null)):(E=null,w=f),E!==w)){if(C=gv,R="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=yv,R="onPointerLeave",T="onPointerEnter",y="pointer"),O=E==null?g:Es(E),I=w==null?g:Es(w),g=new C(R,y+"leave",E,n,m),g.target=O,g.relatedTarget=I,R=null,vr(m)===f&&(C=new C(T,y+"enter",w,n,m),C.target=I,C.relatedTarget=O,R=C),O=R,E&&w)t:{for(C=E,T=w,y=0,I=C;I;I=hs(I))y++;for(I=0,R=T;R;R=hs(R))I++;for(;0<y-I;)C=hs(C),y--;for(;0<I-y;)T=hs(T),I--;for(;y--;){if(C===T||T!==null&&C===T.alternate)break t;C=hs(C),T=hs(T)}C=null}else C=null;E!==null&&Rv(_,g,E,C,!1),w!==null&&O!==null&&Rv(_,O,w,C,!0)}}e:{if(g=f?Es(f):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var U=Ek;else if(Tv(g))if(rE)U=Ik;else{U=Sk;var j=Tk}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=Ck);if(U&&(U=U(t,f))){iE(_,U,n,m);break e}j&&j(t,g,f),t==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&hf(g,"number",g.value)}switch(j=f?Es(f):window,t){case"focusin":(Tv(j)||j.contentEditable==="true")&&(ys=j,Sf=f,aa=null);break;case"focusout":aa=Sf=ys=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,xv(_,n,m);break;case"selectionchange":if(bk)break;case"keydown":case"keyup":xv(_,n,m)}var H;if(sm)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else vs?tE(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(eE&&n.locale!=="ko"&&(vs||F!=="onCompositionStart"?F==="onCompositionEnd"&&vs&&(H=J0()):(Di=m,nm="value"in Di?Di.value:Di.textContent,vs=!0)),j=Ou(f,F),0<j.length&&(F=new vv(F,t,null,n,m),_.push({event:F,listeners:j}),H?F.data=H:(H=nE(n),H!==null&&(F.data=H)))),(H=_k?gk(t,n):vk(t,n))&&(f=Ou(f,"onBeforeInput"),0<f.length&&(m=new vv("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=H))}pE(_,e)})}function ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ou(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Ea(t,n),o!=null&&i.unshift(ba(t,o,r)),o=Ea(t,e),o!=null&&i.push(ba(t,o,r))),t=t.return}return i}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rv(t,e,n,i,r){for(var o=e._reactName,a=[];n!==null&&n!==i;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===i)break;u.tag===5&&f!==null&&(u=f,r?(h=Ea(n,o),h!=null&&a.unshift(ba(n,h,u))):r||(h=Ea(n,o),h!=null&&a.push(ba(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ok=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(Ok,`
`).replace(Ak,"")}function Vl(t,e,n){if(e=Lv(e),Lv(t)!==e&&n)throw Error(z(425))}function Au(){}var If=null,Pf=null;function xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bf=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,Mk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(t){return Ov.resolve(null).then(t).catch(Dk)}:bf;function Dk(t){setTimeout(function(){throw t})}function gd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ca(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ca(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Un="__reactFiber$"+ao,ka="__reactProps$"+ao,di="__reactContainer$"+ao,kf="__reactEvents$"+ao,Fk="__reactListeners$"+ao,Uk="__reactHandles$"+ao;function vr(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Av(t);t!==null;){if(n=t[Un])return n;t=Av(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[Un]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Ac(t){return t[ka]||null}var Rf=[],Ts=-1;function ir(t){return{current:t}}function Ne(t){0>Ts||(t.current=Rf[Ts],Rf[Ts]=null,Ts--)}function Oe(t,e){Ts++,Rf[Ts]=t.current,t.current=e}var Ji={},Ct=ir(Ji),zt=ir(!1),Or=Ji;function $s(t,e){var n=t.type.contextTypes;if(!n)return Ji;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Bt(t){return t=t.childContextTypes,t!=null}function Nu(){Ne(zt),Ne(Ct)}function Nv(t,e,n){if(Ct.current!==Ji)throw Error(z(168));Oe(Ct,e),Oe(zt,n)}function _E(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,Tb(t)||"Unknown",r));return He({},n,i)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Or=Ct.current,Oe(Ct,t),Oe(zt,zt.current),!0}function Mv(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=_E(t,e,Or),i.__reactInternalMemoizedMergedChildContext=t,Ne(zt),Ne(Ct),Oe(Ct,t)):Ne(zt),Oe(zt,n)}var ti=null,Nc=!1,vd=!1;function gE(t){ti===null?ti=[t]:ti.push(t)}function zk(t){Nc=!0,gE(t)}function rr(){if(!vd&&ti!==null){vd=!0;var t=0,e=Se;try{var n=ti;for(Se=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ti=null,Nc=!1}catch(r){throw ti!==null&&(ti=ti.slice(t+1)),H0(Xp,rr),r}finally{Se=e,vd=!1}}return null}var Ss=[],Cs=0,Du=null,Fu=0,nn=[],rn=0,Ar=null,ni=1,ii="";function pr(t,e){Ss[Cs++]=Fu,Ss[Cs++]=Du,Du=t,Fu=e}function vE(t,e,n){nn[rn++]=ni,nn[rn++]=ii,nn[rn++]=Ar,Ar=t;var i=ni;t=ii;var r=32-Sn(i)-1;i&=~(1<<r),n+=1;var o=32-Sn(e)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,ni=1<<32-Sn(e)+r|n<<r|i,ii=o+t}else ni=1<<o|n<<r|i,ii=t}function am(t){t.return!==null&&(pr(t,1),vE(t,1,0))}function lm(t){for(;t===Du;)Du=Ss[--Cs],Ss[Cs]=null,Fu=Ss[--Cs],Ss[Cs]=null;for(;t===Ar;)Ar=nn[--rn],nn[rn]=null,ii=nn[--rn],nn[rn]=null,ni=nn[--rn],nn[rn]=null}var qt=null,Vt=null,Ue=!1,yn=null;function yE(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qt=t,Vt=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qt=t,Vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ar!==null?{id:ni,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qt=t,Vt=null,!0):!1;default:return!1}}function Lf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Of(t){if(Ue){var e=Vt;if(e){var n=e;if(!Dv(t,e)){if(Lf(t))throw Error(z(418));e=Wi(n.nextSibling);var i=qt;e&&Dv(t,e)?yE(i,n):(t.flags=t.flags&-4097|2,Ue=!1,qt=t)}}else{if(Lf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ue=!1,qt=t}}}function Fv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qt=t}function Zl(t){if(t!==qt)return!1;if(!Ue)return Fv(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xf(t.type,t.memoizedProps)),e&&(e=Vt)){if(Lf(t))throw wE(),Error(z(418));for(;e;)yE(t,e),e=Wi(e.nextSibling)}if(Fv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vt=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vt=null}}else Vt=qt?Wi(t.stateNode.nextSibling):null;return!0}function wE(){for(var t=Vt;t;)t=Wi(t.nextSibling)}function Vs(){Vt=qt=null,Ue=!1}function um(t){yn===null?yn=[t]:yn.push(t)}var Bk=gi.ReactCurrentBatchConfig;function _n(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Uu=ir(null),zu=null,Is=null,cm=null;function hm(){cm=Is=zu=null}function dm(t){var e=Uu.current;Ne(Uu),t._currentValue=e}function Af(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){zu=t,cm=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(cm!==t)if(t={context:t,memoizedValue:e,next:null},Is===null){if(zu===null)throw Error(z(308));Is=t,zu.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return e}var yr=null;function fm(t){yr===null?yr=[t]:yr.push(t)}function EE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,fm(e)):(n.next=r.next,r.next=n),e.interleaved=n,fi(t,i)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ye&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,fi(t,n)}return r=i.interleaved,r===null?(e.next=e,fm(i)):(e.next=r.next,r.next=e),i.interleaved=e,fi(t,n)}function uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Jp(t,n)}}function Uv(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bu(t,e,n,i){var r=t.updateQueue;bi=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var h=u,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=r.baseState;a=0,m=f=h=null,u=o;do{var g=u.lane,E=u.eventTime;if((i&g)===g){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,C=u;switch(g=e,E=n,C.tag){case 1:if(w=C.payload,typeof w=="function"){_=w.call(E,_,g);break e}_=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=C.payload,g=typeof w=="function"?w.call(E,_,g):w,g==null)break e;_=He({},_,g);break e;case 2:bi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=r.effects,g===null?r.effects=[u]:g.push(u))}else E={eventTime:E,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=E,h=_):m=m.next=E,a|=g;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;g=u,u=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);if(m===null&&(h=_),r.baseState=h,r.firstBaseUpdate=f,r.lastBaseUpdate=m,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Mr|=a,t.lanes=a,t.memoizedState=_}}function zv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var SE=new E0.Component().refs;function Nf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mc={isMounted:function(t){return(t=t._reactInternals)?Kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=kt(),r=Zi(t),o=ai(i,r);o.payload=e,n!=null&&(o.callback=n),e=$i(t,o,r),e!==null&&(Cn(e,t,r,i),uu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=kt(),r=Zi(t),o=ai(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$i(t,o,r),e!==null&&(Cn(e,t,r,i),uu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),i=Zi(t),r=ai(n,i);r.tag=2,e!=null&&(r.callback=e),e=$i(t,r,i),e!==null&&(Cn(e,t,i,n),uu(e,t,i))}};function Bv(t,e,n,i,r,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Pa(n,i)||!Pa(r,o):!0}function CE(t,e,n){var i=!1,r=Ji,o=e.contextType;return typeof o=="object"&&o!==null?o=un(o):(r=Bt(e)?Or:Ct.current,i=e.contextTypes,o=(i=i!=null)?$s(t,r):Ji),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function jv(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Mc.enqueueReplaceState(e,e.state,null)}function Mf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=SE,pm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=un(o):(o=Bt(e)?Or:Ct.current,r.context=$s(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Nf(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Mc.enqueueReplaceState(r,r.state,null),Bu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=r.refs;u===SE&&(u=r.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ql(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hv(t){var e=t._init;return e(t._payload)}function IE(t){function e(T,y){if(t){var I=T.deletions;I===null?(T.deletions=[y],T.flags|=16):I.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function i(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function r(T,y){return T=qi(T,y),T.index=0,T.sibling=null,T}function o(T,y,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<y?(T.flags|=2,y):I):(T.flags|=2,y)):(T.flags|=1048576,y)}function a(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,y,I,R){return y===null||y.tag!==6?(y=Id(I,T.mode,R),y.return=T,y):(y=r(y,I),y.return=T,y)}function h(T,y,I,R){var U=I.type;return U===gs?m(T,y,I.props.children,R,I.key):y!==null&&(y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===xi&&Hv(U)===y.type)?(R=r(y,I.props),R.ref=Fo(T,y,I),R.return=T,R):(R=mu(I.type,I.key,I.props,null,T.mode,R),R.ref=Fo(T,y,I),R.return=T,R)}function f(T,y,I,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=Pd(I,T.mode,R),y.return=T,y):(y=r(y,I.children||[]),y.return=T,y)}function m(T,y,I,R,U){return y===null||y.tag!==7?(y=Pr(I,T.mode,R,U),y.return=T,y):(y=r(y,I),y.return=T,y)}function _(T,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Id(""+y,T.mode,I),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:return I=mu(y.type,y.key,y.props,null,T.mode,I),I.ref=Fo(T,null,y),I.return=T,I;case _s:return y=Pd(y,T.mode,I),y.return=T,y;case xi:var R=y._init;return _(T,R(y._payload),I)}if(Yo(y)||Oo(y))return y=Pr(y,T.mode,I,null),y.return=T,y;ql(T,y)}return null}function g(T,y,I,R){var U=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return U!==null?null:u(T,y,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Dl:return I.key===U?h(T,y,I,R):null;case _s:return I.key===U?f(T,y,I,R):null;case xi:return U=I._init,g(T,y,U(I._payload),R)}if(Yo(I)||Oo(I))return U!==null?null:m(T,y,I,R,null);ql(T,I)}return null}function E(T,y,I,R,U){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(I)||null,u(y,T,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Dl:return T=T.get(R.key===null?I:R.key)||null,h(y,T,R,U);case _s:return T=T.get(R.key===null?I:R.key)||null,f(y,T,R,U);case xi:var j=R._init;return E(T,y,I,j(R._payload),U)}if(Yo(R)||Oo(R))return T=T.get(I)||null,m(y,T,R,U,null);ql(y,R)}return null}function w(T,y,I,R){for(var U=null,j=null,H=y,F=y=0,W=null;H!==null&&F<I.length;F++){H.index>F?(W=H,H=null):W=H.sibling;var $=g(T,H,I[F],R);if($===null){H===null&&(H=W);break}t&&H&&$.alternate===null&&e(T,H),y=o($,y,F),j===null?U=$:j.sibling=$,j=$,H=W}if(F===I.length)return n(T,H),Ue&&pr(T,F),U;if(H===null){for(;F<I.length;F++)H=_(T,I[F],R),H!==null&&(y=o(H,y,F),j===null?U=H:j.sibling=H,j=H);return Ue&&pr(T,F),U}for(H=i(T,H);F<I.length;F++)W=E(H,T,F,I[F],R),W!==null&&(t&&W.alternate!==null&&H.delete(W.key===null?F:W.key),y=o(W,y,F),j===null?U=W:j.sibling=W,j=W);return t&&H.forEach(function(Z){return e(T,Z)}),Ue&&pr(T,F),U}function C(T,y,I,R){var U=Oo(I);if(typeof U!="function")throw Error(z(150));if(I=U.call(I),I==null)throw Error(z(151));for(var j=U=null,H=y,F=y=0,W=null,$=I.next();H!==null&&!$.done;F++,$=I.next()){H.index>F?(W=H,H=null):W=H.sibling;var Z=g(T,H,$.value,R);if(Z===null){H===null&&(H=W);break}t&&H&&Z.alternate===null&&e(T,H),y=o(Z,y,F),j===null?U=Z:j.sibling=Z,j=Z,H=W}if($.done)return n(T,H),Ue&&pr(T,F),U;if(H===null){for(;!$.done;F++,$=I.next())$=_(T,$.value,R),$!==null&&(y=o($,y,F),j===null?U=$:j.sibling=$,j=$);return Ue&&pr(T,F),U}for(H=i(T,H);!$.done;F++,$=I.next())$=E(H,T,F,$.value,R),$!==null&&(t&&$.alternate!==null&&H.delete($.key===null?F:$.key),y=o($,y,F),j===null?U=$:j.sibling=$,j=$);return t&&H.forEach(function(ae){return e(T,ae)}),Ue&&pr(T,F),U}function O(T,y,I,R){if(typeof I=="object"&&I!==null&&I.type===gs&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Dl:e:{for(var U=I.key,j=y;j!==null;){if(j.key===U){if(U=I.type,U===gs){if(j.tag===7){n(T,j.sibling),y=r(j,I.props.children),y.return=T,T=y;break e}}else if(j.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===xi&&Hv(U)===j.type){n(T,j.sibling),y=r(j,I.props),y.ref=Fo(T,j,I),y.return=T,T=y;break e}n(T,j);break}else e(T,j);j=j.sibling}I.type===gs?(y=Pr(I.props.children,T.mode,R,I.key),y.return=T,T=y):(R=mu(I.type,I.key,I.props,null,T.mode,R),R.ref=Fo(T,y,I),R.return=T,T=R)}return a(T);case _s:e:{for(j=I.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(T,y.sibling),y=r(y,I.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=Pd(I,T.mode,R),y.return=T,T=y}return a(T);case xi:return j=I._init,O(T,y,j(I._payload),R)}if(Yo(I))return w(T,y,I,R);if(Oo(I))return C(T,y,I,R);ql(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(T,y.sibling),y=r(y,I),y.return=T,T=y):(n(T,y),y=Id(I,T.mode,R),y.return=T,T=y),a(T)):n(T,y)}return O}var Zs=IE(!0),PE=IE(!1),il={},Wn=ir(il),Ra=ir(il),La=ir(il);function wr(t){if(t===il)throw Error(z(174));return t}function mm(t,e){switch(Oe(La,e),Oe(Ra,t),Oe(Wn,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ff(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ff(e,t)}Ne(Wn),Oe(Wn,e)}function qs(){Ne(Wn),Ne(Ra),Ne(La)}function xE(t){wr(La.current);var e=wr(Wn.current),n=ff(e,t.type);e!==n&&(Oe(Ra,t),Oe(Wn,n))}function _m(t){Ra.current===t&&(Ne(Wn),Ne(Ra))}var Be=ir(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yd=[];function gm(){for(var t=0;t<yd.length;t++)yd[t]._workInProgressVersionPrimary=null;yd.length=0}var cu=gi.ReactCurrentDispatcher,wd=gi.ReactCurrentBatchConfig,Nr=0,je=null,it=null,lt=null,Hu=!1,la=!1,Oa=0,jk=0;function Et(){throw Error(z(321))}function vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function ym(t,e,n,i,r,o){if(Nr=o,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cu.current=t===null||t.memoizedState===null?Vk:Zk,t=n(i,r),la){o=0;do{if(la=!1,Oa=0,25<=o)throw Error(z(301));o+=1,lt=it=null,e.updateQueue=null,cu.current=qk,t=n(i,r)}while(la)}if(cu.current=Wu,e=it!==null&&it.next!==null,Nr=0,lt=it=je=null,Hu=!1,e)throw Error(z(300));return t}function wm(){var t=Oa!==0;return Oa=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?je.memoizedState=lt=t:lt=lt.next=t,lt}function cn(){if(it===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=lt===null?je.memoizedState:lt.next;if(e!==null)lt=e,it=t;else{if(t===null)throw Error(z(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?je.memoizedState=lt=t:lt=lt.next=t}return lt}function Aa(t,e){return typeof e=="function"?e(t):e}function Ed(t){var e=cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=it,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=a=null,h=null,f=o;do{var m=f.lane;if((Nr&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,a=i):h=h.next=_,je.lanes|=m,Mr|=m}f=f.next}while(f!==null&&f!==o);h===null?a=i:h.next=u,Pn(i,e.memoizedState)||(Dt=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,je.lanes|=o,Mr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=cn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do o=t(o,a.action),a=a.next;while(a!==r);Pn(o,e.memoizedState)||(Dt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function bE(){}function kE(t,e){var n=je,i=cn(),r=e(),o=!Pn(i.memoizedState,r);if(o&&(i.memoizedState=r,Dt=!0),i=i.queue,Em(OE.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Na(9,LE.bind(null,n,i,r,e),void 0,null),dt===null)throw Error(z(349));Nr&30||RE(n,e,r)}return r}function RE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LE(t,e,n,i){e.value=n,e.getSnapshot=i,AE(e)&&NE(t)}function OE(t,e,n){return n(function(){AE(e)&&NE(t)})}function AE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function NE(t){var e=fi(t,1);e!==null&&Cn(e,t,1,-1)}function Wv(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},e.queue=t,t=t.dispatch=$k.bind(null,je,t),[e.memoizedState,t]}function Na(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function ME(){return cn().memoizedState}function hu(t,e,n,i){var r=Fn();je.flags|=t,r.memoizedState=Na(1|e,n,void 0,i===void 0?null:i)}function Dc(t,e,n,i){var r=cn();i=i===void 0?null:i;var o=void 0;if(it!==null){var a=it.memoizedState;if(o=a.destroy,i!==null&&vm(i,a.deps)){r.memoizedState=Na(e,n,o,i);return}}je.flags|=t,r.memoizedState=Na(1|e,n,o,i)}function $v(t,e){return hu(8390656,8,t,e)}function Em(t,e){return Dc(2048,8,t,e)}function DE(t,e){return Dc(4,2,t,e)}function FE(t,e){return Dc(4,4,t,e)}function UE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zE(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4,4,UE.bind(null,e,t),n)}function Tm(){}function BE(t,e){var n=cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&vm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function jE(t,e){var n=cn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&vm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function HE(t,e,n){return Nr&21?(Pn(n,e)||(n=V0(),je.lanes|=n,Mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function Hk(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var i=wd.transition;wd.transition={};try{t(!1),e()}finally{Se=n,wd.transition=i}}function WE(){return cn().memoizedState}function Wk(t,e,n){var i=Zi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},$E(t))VE(e,n);else if(n=EE(t,e,n,i),n!==null){var r=kt();Cn(n,t,i,r),ZE(n,e,i)}}function $k(t,e,n){var i=Zi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if($E(t))VE(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(r.hasEagerState=!0,r.eagerState=u,Pn(u,a)){var h=e.interleaved;h===null?(r.next=r,fm(e)):(r.next=h.next,h.next=r),e.interleaved=r;return}}catch{}finally{}n=EE(t,e,r,i),n!==null&&(r=kt(),Cn(n,t,i,r),ZE(n,e,i))}}function $E(t){var e=t.alternate;return t===je||e!==null&&e===je}function VE(t,e){la=Hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Jp(t,n)}}var Wu={readContext:un,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Vk={readContext:un,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:$v,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hu(4194308,4,UE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return hu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Fn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Wk.bind(null,je,t),[i.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:Wv,useDebugValue:Tm,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=Wv(!1),e=t[0];return t=Hk.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=je,r=Fn();if(Ue){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),dt===null)throw Error(z(349));Nr&30||RE(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,$v(OE.bind(null,i,o,t),[t]),i.flags|=2048,Na(9,LE.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Fn(),e=dt.identifierPrefix;if(Ue){var n=ii,i=ni;n=(i&~(1<<32-Sn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Oa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Zk={readContext:un,useCallback:BE,useContext:un,useEffect:Em,useImperativeHandle:zE,useInsertionEffect:DE,useLayoutEffect:FE,useMemo:jE,useReducer:Ed,useRef:ME,useState:function(){return Ed(Aa)},useDebugValue:Tm,useDeferredValue:function(t){var e=cn();return HE(e,it.memoizedState,t)},useTransition:function(){var t=Ed(Aa)[0],e=cn().memoizedState;return[t,e]},useMutableSource:bE,useSyncExternalStore:kE,useId:WE,unstable_isNewReconciler:!1},qk={readContext:un,useCallback:BE,useContext:un,useEffect:Em,useImperativeHandle:zE,useInsertionEffect:DE,useLayoutEffect:FE,useMemo:jE,useReducer:Td,useRef:ME,useState:function(){return Td(Aa)},useDebugValue:Tm,useDeferredValue:function(t){var e=cn();return it===null?e.memoizedState=t:HE(e,it.memoizedState,t)},useTransition:function(){var t=Td(Aa)[0],e=cn().memoizedState;return[t,e]},useMutableSource:bE,useSyncExternalStore:kE,useId:WE,unstable_isNewReconciler:!1};function Gs(t,e){try{var n="",i=e;do n+=Eb(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Sd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Df(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function qE(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Vu||(Vu=!0,Zf=i),Df(t,e)},n}function GE(t,e,n){n=ai(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Df(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Df(t,e),typeof i!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Vv(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Gk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=l1.bind(null,t,e,n),e.then(t,t))}function Zv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qv(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,$i(n,e,1))),n.lanes|=1),t)}var Kk=gi.ReactCurrentOwner,Dt=!1;function bt(t,e,n,i){e.child=t===null?PE(e,null,n,i):Zs(e,t.child,n,i)}function Gv(t,e,n,i,r){n=n.render;var o=e.ref;return Ns(e,r),i=ym(t,e,n,i,o,r),n=wm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,pi(t,e,r)):(Ue&&n&&am(e),e.flags|=1,bt(t,e,i,r),e.child)}function Kv(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Rm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KE(t,e,o,i,r)):(t=mu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pa,n(a,i)&&t.ref===e.ref)return pi(t,e,r)}return e.flags|=1,t=qi(o,i),t.ref=e.ref,t.return=e,e.child=t}function KE(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Pa(o,i)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,pi(t,e,r)}return Ff(t,e,n,i,r)}function YE(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(xs,$t),$t|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(xs,$t),$t|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Oe(xs,$t),$t|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Oe(xs,$t),$t|=i;return bt(t,e,r,n),e.child}function QE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ff(t,e,n,i,r){var o=Bt(n)?Or:Ct.current;return o=$s(e,o),Ns(e,r),n=ym(t,e,n,i,o,r),i=wm(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,pi(t,e,r)):(Ue&&i&&am(e),e.flags|=1,bt(t,e,n,r),e.child)}function Yv(t,e,n,i,r){if(Bt(n)){var o=!0;Mu(e)}else o=!1;if(Ns(e,r),e.stateNode===null)du(t,e),CE(e,n,i),Mf(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=un(f):(f=Bt(n)?Or:Ct.current,f=$s(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==i||h!==f)&&jv(e,a,i,f),bi=!1;var g=e.memoizedState;a.state=g,Bu(e,i,a,r),h=e.memoizedState,u!==i||g!==h||zt.current||bi?(typeof m=="function"&&(Nf(e,n,m,i),h=e.memoizedState),(u=bi||Bv(e,n,u,i,g,h,f))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),a.props=i,a.state=h,a.context=f,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,TE(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:_n(e.type,u),a.props=f,_=e.pendingProps,g=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=un(h):(h=Bt(n)?Or:Ct.current,h=$s(e,h));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==_||g!==h)&&jv(e,a,i,h),bi=!1,g=e.memoizedState,a.state=g,Bu(e,i,a,r);var w=e.memoizedState;u!==_||g!==w||zt.current||bi?(typeof E=="function"&&(Nf(e,n,E,i),w=e.memoizedState),(f=bi||Bv(e,n,f,i,g,w,h)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,w,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,w,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),a.props=i,a.state=w,a.context=h,i=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return Uf(t,e,n,i,o,r)}function Uf(t,e,n,i,r,o){QE(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&Mv(e,n,!1),pi(t,e,o);i=e.stateNode,Kk.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=Zs(e,t.child,null,o),e.child=Zs(e,null,u,o)):bt(t,e,u,o),e.memoizedState=i.state,r&&Mv(e,n,!0),e.child}function XE(t){var e=t.stateNode;e.pendingContext?Nv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nv(t,e.context,!1),mm(t,e.containerInfo)}function Qv(t,e,n,i,r){return Vs(),um(r),e.flags|=256,bt(t,e,n,i),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Bf(t){return{baseLanes:t,cachePool:null,transitions:null}}function JE(t,e,n){var i=e.pendingProps,r=Be.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Oe(Be,r&1),t===null)return Of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zc(a,i,0,null),t=Pr(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bf(n),e.memoizedState=zf,t):Sm(e,a));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Yk(t,e,a,i,u,r,n);if(o){o=i.fallback,a=e.mode,r=t.child,u=r.sibling;var h={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=qi(r,h),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=qi(u,o):(o=Pr(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=t.child.memoizedState,a=a===null?Bf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=zf,i}return o=t.child,t=o.sibling,i=qi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Sm(t,e){return e=zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gl(t,e,n,i){return i!==null&&um(i),Zs(e,t.child,null,n),t=Sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yk(t,e,n,i,r,o,a){if(n)return e.flags&256?(e.flags&=-257,i=Sd(Error(z(422))),Gl(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=zc({mode:"visible",children:i.children},r,0,null),o=Pr(o,r,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Zs(e,t.child,null,a),e.child.memoizedState=Bf(a),e.memoizedState=zf,o);if(!(e.mode&1))return Gl(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(z(419)),i=Sd(o,i,void 0),Gl(t,e,a,i)}if(u=(a&t.childLanes)!==0,Dt||u){if(i=dt,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,fi(t,r),Cn(i,t,r,-1))}return km(),i=Sd(Error(z(421))),Gl(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=u1.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Vt=Wi(r.nextSibling),qt=e,Ue=!0,yn=null,t!==null&&(nn[rn++]=ni,nn[rn++]=ii,nn[rn++]=Ar,ni=t.id,ii=t.overflow,Ar=e),e=Sm(e,i.children),e.flags|=4096,e)}function Xv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Af(t.return,e,n)}function Cd(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function eT(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(bt(t,e,i.children,n),i=Be.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xv(t,n,e);else if(t.tag===19)Xv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Oe(Be,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Cd(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ju(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Cd(e,!0,n,null,o);break;case"together":Cd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function du(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qk(t,e,n){switch(e.tag){case 3:XE(e),Vs();break;case 5:xE(e);break;case 1:Bt(e.type)&&Mu(e);break;case 4:mm(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Oe(Uu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Oe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?JE(t,e,n):(Oe(Be,Be.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Oe(Be,Be.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return eT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Oe(Be,Be.current),i)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,n)}return pi(t,e,n)}var tT,jf,nT,iT;tT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jf=function(){};nT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,wr(Wn.current);var o=null;switch(n){case"input":r=uf(t,r),i=uf(t,i),o=[];break;case"select":r=He({},r,{value:void 0}),i=He({},i,{value:void 0}),o=[];break;case"textarea":r=df(t,r),i=df(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Au)}pf(n,i);var a;n=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var u=r[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ya.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in i){var h=i[f];if(u=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ya.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ae("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};iT=function(t,e,n,i){n!==i&&(e.flags|=4)};function Uo(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xk(t,e,n){var i=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Bt(e.type)&&Nu(),Tt(e),null;case 3:return i=e.stateNode,qs(),Ne(zt),Ne(Ct),gm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(Kf(yn),yn=null))),jf(t,e),Tt(e),null;case 5:_m(e);var r=wr(La.current);if(n=e.type,t!==null&&e.stateNode!=null)nT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return Tt(e),null}if(t=wr(Wn.current),Zl(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Un]=e,i[ka]=o,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(r=0;r<Xo.length;r++)Ae(Xo[r],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":av(i,o),Ae("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ae("invalid",i);break;case"textarea":uv(i,o),Ae("invalid",i)}pf(n,o),r=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&Vl(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Vl(i.textContent,u,t),r=["children",""+u]):ya.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ae("scroll",i)}switch(n){case"input":Fl(i),lv(i,o,!0);break;case"textarea":Fl(i),cv(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Au)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Un]=e,t[ka]=i,tT(t,e,!1,!1),e.stateNode=t;e:{switch(a=mf(n,i),n){case"dialog":Ae("cancel",t),Ae("close",t),r=i;break;case"iframe":case"object":case"embed":Ae("load",t),r=i;break;case"video":case"audio":for(r=0;r<Xo.length;r++)Ae(Xo[r],t);r=i;break;case"source":Ae("error",t),r=i;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),r=i;break;case"details":Ae("toggle",t),r=i;break;case"input":av(t,i),r=uf(t,i),Ae("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=He({},i,{value:void 0}),Ae("invalid",t);break;case"textarea":uv(t,i),r=df(t,i),Ae("invalid",t);break;default:r=i}pf(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?A0(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&L0(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&wa(t,h):typeof h=="number"&&wa(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Ae("scroll",t):h!=null&&qp(t,o,h,a))}switch(n){case"input":Fl(t),lv(t,i,!1);break;case"textarea":Fl(t),cv(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Xi(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Rs(t,!!i.multiple,o,!1):i.defaultValue!=null&&Rs(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Au)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)iT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=wr(La.current),wr(Wn.current),Zl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Un]=e,(o=i.nodeValue!==n)&&(t=qt,t!==null))switch(t.tag){case 3:Vl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Un]=e,e.stateNode=i}return Tt(e),null;case 13:if(Ne(Be),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&Vt!==null&&e.mode&1&&!(e.flags&128))wE(),Vs(),e.flags|=98560,o=!1;else if(o=Zl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Un]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else yn!==null&&(Kf(yn),yn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?rt===0&&(rt=3):km())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return qs(),jf(t,e),t===null&&xa(e.stateNode.containerInfo),Tt(e),null;case 10:return dm(e.type._context),Tt(e),null;case 17:return Bt(e.type)&&Nu(),Tt(e),null;case 19:if(Ne(Be),o=e.memoizedState,o===null)return Tt(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Uo(o,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ju(t),a!==null){for(e.flags|=128,Uo(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Be,Be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>Ks&&(e.flags|=128,i=!0,Uo(o,!1),e.lanes=4194304)}else{if(!i)if(t=ju(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ue)return Tt(e),null}else 2*Ye()-o.renderingStartTime>Ks&&n!==1073741824&&(e.flags|=128,i=!0,Uo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=Be.current,Oe(Be,i?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return bm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?$t&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Jk(t,e){switch(lm(e),e.tag){case 1:return Bt(e.type)&&Nu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qs(),Ne(zt),Ne(Ct),gm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(Ne(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Be),null;case 4:return qs(),null;case 10:return dm(e.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Kl=!1,St=!1,e1=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){We(t,e,i)}else n.current=null}function Hf(t,e,n){try{n()}catch(i){We(t,e,i)}}var Jv=!1;function t1(t,e){if(If=Ru,t=aE(),om(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,h=-1,f=0,m=0,_=t,g=null;t:for(;;){for(var E;_!==n||r!==0&&_.nodeType!==3||(u=a+r),_!==o||i!==0&&_.nodeType!==3||(h=a+i),_.nodeType===3&&(a+=_.nodeValue.length),(E=_.firstChild)!==null;)g=_,_=E;for(;;){if(_===t)break t;if(g===n&&++f===r&&(u=a),g===o&&++m===i&&(h=a),(E=_.nextSibling)!==null)break;_=g,g=_.parentNode}_=E}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pf={focusedElem:t,selectionRange:n},Ru=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var C=w.memoizedProps,O=w.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?C:_n(e.type,C),O);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(R){We(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return w=Jv,Jv=!1,w}function ua(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Hf(e,n,o)}r=r.next}while(r!==i)}}function Fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rT(t){var e=t.alternate;e!==null&&(t.alternate=null,rT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[ka],delete e[kf],delete e[Fk],delete e[Uk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sT(t){return t.tag===5||t.tag===3||t.tag===4}function ey(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Au));else if(i!==4&&(t=t.child,t!==null))for($f(t,e,n),t=t.sibling;t!==null;)$f(t,e,n),t=t.sibling}function Vf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}var mt=null,gn=!1;function Ci(t,e,n){for(n=n.child;n!==null;)oT(t,e,n),n=n.sibling}function oT(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(kc,n)}catch{}switch(n.tag){case 5:St||Ps(n,e);case 6:var i=mt,r=gn;mt=null,Ci(t,e,n),mt=i,gn=r,mt!==null&&(gn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(gn?(t=mt,n=n.stateNode,t.nodeType===8?gd(t.parentNode,n):t.nodeType===1&&gd(t,n),Ca(t)):gd(mt,n.stateNode));break;case 4:i=mt,r=gn,mt=n.stateNode.containerInfo,gn=!0,Ci(t,e,n),mt=i,gn=r;break;case 0:case 11:case 14:case 15:if(!St&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Hf(n,e,a),r=r.next}while(r!==i)}Ci(t,e,n);break;case 1:if(!St&&(Ps(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){We(n,e,u)}Ci(t,e,n);break;case 21:Ci(t,e,n);break;case 22:n.mode&1?(St=(i=St)||n.memoizedState!==null,Ci(t,e,n),St=i):Ci(t,e,n);break;default:Ci(t,e,n)}}function ty(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new e1),e.forEach(function(i){var r=c1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:mt=u.stateNode,gn=!1;break e;case 3:mt=u.stateNode.containerInfo,gn=!0;break e;case 4:mt=u.stateNode.containerInfo,gn=!0;break e}u=u.return}if(mt===null)throw Error(z(160));oT(o,a,r),mt=null,gn=!1;var h=r.alternate;h!==null&&(h.return=null),r.return=null}catch(f){We(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aT(e,t),e=e.sibling}function aT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),Dn(t),i&4){try{ua(3,t,t.return),Fc(3,t)}catch(C){We(t,t.return,C)}try{ua(5,t,t.return)}catch(C){We(t,t.return,C)}}break;case 1:mn(e,t),Dn(t),i&512&&n!==null&&Ps(n,n.return);break;case 5:if(mn(e,t),Dn(t),i&512&&n!==null&&Ps(n,n.return),t.flags&32){var r=t.stateNode;try{wa(r,"")}catch(C){We(t,t.return,C)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&b0(r,o),mf(u,a);var f=mf(u,o);for(a=0;a<h.length;a+=2){var m=h[a],_=h[a+1];m==="style"?A0(r,_):m==="dangerouslySetInnerHTML"?L0(r,_):m==="children"?wa(r,_):qp(r,m,_,f)}switch(u){case"input":cf(r,o);break;case"textarea":k0(r,o);break;case"select":var g=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Rs(r,!!o.multiple,E,!1):g!==!!o.multiple&&(o.defaultValue!=null?Rs(r,!!o.multiple,o.defaultValue,!0):Rs(r,!!o.multiple,o.multiple?[]:"",!1))}r[ka]=o}catch(C){We(t,t.return,C)}}break;case 6:if(mn(e,t),Dn(t),i&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(C){We(t,t.return,C)}}break;case 3:if(mn(e,t),Dn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ca(e.containerInfo)}catch(C){We(t,t.return,C)}break;case 4:mn(e,t),Dn(t);break;case 13:mn(e,t),Dn(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(Pm=Ye())),i&4&&ty(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(St=(f=St)||m,mn(e,t),St=f):mn(e,t),Dn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(q=t,m=t.child;m!==null;){for(_=q=m;q!==null;){switch(g=q,E=g.child,g.tag){case 0:case 11:case 14:case 15:ua(4,g,g.return);break;case 1:Ps(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){i=g,n=g.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(C){We(i,n,C)}}break;case 5:Ps(g,g.return);break;case 22:if(g.memoizedState!==null){iy(_);continue}}E!==null?(E.return=g,q=E):iy(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{r=_.stateNode,f?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,h=_.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=O0("display",a))}catch(C){We(t,t.return,C)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(C){We(t,t.return,C)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:mn(e,t),Dn(t),i&4&&ty(t);break;case 21:break;default:mn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sT(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wa(r,""),i.flags&=-33);var o=ey(t);Vf(t,o,r);break;case 3:case 4:var a=i.stateNode.containerInfo,u=ey(t);$f(t,u,a);break;default:throw Error(z(161))}}catch(h){We(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n1(t,e,n){q=t,lT(t)}function lT(t,e,n){for(var i=(t.mode&1)!==0;q!==null;){var r=q,o=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||Kl;if(!a){var u=r.alternate,h=u!==null&&u.memoizedState!==null||St;u=Kl;var f=St;if(Kl=a,(St=h)&&!f)for(q=r;q!==null;)a=q,h=a.child,a.tag===22&&a.memoizedState!==null?ry(r):h!==null?(h.return=a,q=h):ry(r);for(;o!==null;)q=o,lT(o),o=o.sibling;q=r,Kl=u,St=f}ny(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,q=o):ny(t)}}function ny(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Fc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!St)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:_n(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zv(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zv(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&Ca(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}St||e.flags&512&&Wf(e)}catch(g){We(e,e.return,g)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function iy(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function ry(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fc(4,e)}catch(h){We(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(h){We(e,r,h)}}var o=e.return;try{Wf(e)}catch(h){We(e,o,h)}break;case 5:var a=e.return;try{Wf(e)}catch(h){We(e,a,h)}}}catch(h){We(e,e.return,h)}if(e===t){q=null;break}var u=e.sibling;if(u!==null){u.return=e.return,q=u;break}q=e.return}}var i1=Math.ceil,$u=gi.ReactCurrentDispatcher,Cm=gi.ReactCurrentOwner,an=gi.ReactCurrentBatchConfig,ye=0,dt=null,et=null,vt=0,$t=0,xs=ir(0),rt=0,Ma=null,Mr=0,Uc=0,Im=0,ca=null,Mt=null,Pm=0,Ks=1/0,ei=null,Vu=!1,Zf=null,Vi=null,Yl=!1,Fi=null,Zu=0,ha=0,qf=null,fu=-1,pu=0;function kt(){return ye&6?Ye():fu!==-1?fu:fu=Ye()}function Zi(t){return t.mode&1?ye&2&&vt!==0?vt&-vt:Bk.transition!==null?(pu===0&&(pu=V0()),pu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:X0(t.type)),t):1}function Cn(t,e,n,i){if(50<ha)throw ha=0,qf=null,Error(z(185));el(t,n,i),(!(ye&2)||t!==dt)&&(t===dt&&(!(ye&2)&&(Uc|=n),rt===4&&Ri(t,vt)),jt(t,i),n===1&&ye===0&&!(e.mode&1)&&(Ks=Ye()+500,Nc&&rr()))}function jt(t,e){var n=t.callbackNode;Bb(t,e);var i=ku(t,t===dt?vt:0);if(i===0)n!==null&&fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&fv(n),e===1)t.tag===0?zk(sy.bind(null,t)):gE(sy.bind(null,t)),Mk(function(){!(ye&6)&&rr()}),n=null;else{switch(Z0(i)){case 1:n=Xp;break;case 4:n=W0;break;case 16:n=bu;break;case 536870912:n=$0;break;default:n=bu}n=_T(n,uT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uT(t,e){if(fu=-1,pu=0,ye&6)throw Error(z(327));var n=t.callbackNode;if(Ms()&&t.callbackNode!==n)return null;var i=ku(t,t===dt?vt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=qu(t,i);else{e=i;var r=ye;ye|=2;var o=hT();(dt!==t||vt!==e)&&(ei=null,Ks=Ye()+500,Ir(t,e));do try{o1();break}catch(u){cT(t,u)}while(1);hm(),$u.current=o,ye=r,et!==null?e=0:(dt=null,vt=0,e=rt)}if(e!==0){if(e===2&&(r=wf(t),r!==0&&(i=r,e=Gf(t,r))),e===1)throw n=Ma,Ir(t,0),Ri(t,i),jt(t,Ye()),n;if(e===6)Ri(t,i);else{if(r=t.current.alternate,!(i&30)&&!r1(r)&&(e=qu(t,i),e===2&&(o=wf(t),o!==0&&(i=o,e=Gf(t,o))),e===1))throw n=Ma,Ir(t,0),Ri(t,i),jt(t,Ye()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:mr(t,Mt,ei);break;case 3:if(Ri(t,i),(i&130023424)===i&&(e=Pm+500-Ye(),10<e)){if(ku(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){kt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=bf(mr.bind(null,t,Mt,ei),e);break}mr(t,Mt,ei);break;case 4:if(Ri(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-Sn(i);o=1<<a,a=e[a],a>r&&(r=a),i&=~o}if(i=r,i=Ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*i1(i/1960))-i,10<i){t.timeoutHandle=bf(mr.bind(null,t,Mt,ei),i);break}mr(t,Mt,ei);break;case 5:mr(t,Mt,ei);break;default:throw Error(z(329))}}}return jt(t,Ye()),t.callbackNode===n?uT.bind(null,t):null}function Gf(t,e){var n=ca;return t.current.memoizedState.isDehydrated&&(Ir(t,e).flags|=256),t=qu(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&Kf(e)),t}function Kf(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function r1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Pn(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~Im,e&=~Uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),i=1<<n;t[n]=-1,e&=~i}}function sy(t){if(ye&6)throw Error(z(327));Ms();var e=ku(t,0);if(!(e&1))return jt(t,Ye()),null;var n=qu(t,e);if(t.tag!==0&&n===2){var i=wf(t);i!==0&&(e=i,n=Gf(t,i))}if(n===1)throw n=Ma,Ir(t,0),Ri(t,e),jt(t,Ye()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,Mt,ei),jt(t,Ye()),null}function xm(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Ks=Ye()+500,Nc&&rr())}}function Dr(t){Fi!==null&&Fi.tag===0&&!(ye&6)&&Ms();var e=ye;ye|=1;var n=an.transition,i=Se;try{if(an.transition=null,Se=1,t)return t()}finally{Se=i,an.transition=n,ye=e,!(ye&6)&&rr()}}function bm(){$t=xs.current,Ne(xs)}function Ir(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),et!==null)for(n=et.return;n!==null;){var i=n;switch(lm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Nu();break;case 3:qs(),Ne(zt),Ne(Ct),gm();break;case 5:_m(i);break;case 4:qs();break;case 13:Ne(Be);break;case 19:Ne(Be);break;case 10:dm(i.type._context);break;case 22:case 23:bm()}n=n.return}if(dt=t,et=t=qi(t.current,null),vt=$t=e,rt=0,Ma=null,Im=Uc=Mr=0,Mt=ca=null,yr!==null){for(e=0;e<yr.length;e++)if(n=yr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=r,i.next=a}n.pending=i}yr=null}return t}function cT(t,e){do{var n=et;try{if(hm(),cu.current=Wu,Hu){for(var i=je.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hu=!1}if(Nr=0,lt=it=je=null,la=!1,Oa=0,Cm.current=null,n===null||n.return===null){rt=1,Ma=e,et=null;break}e:{var o=t,a=n.return,u=n,h=e;if(e=vt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=Zv(a);if(E!==null){E.flags&=-257,qv(E,a,u,o,e),E.mode&1&&Vv(o,f,e),e=E,h=f;var w=e.updateQueue;if(w===null){var C=new Set;C.add(h),e.updateQueue=C}else w.add(h);break e}else{if(!(e&1)){Vv(o,f,e),km();break e}h=Error(z(426))}}else if(Ue&&u.mode&1){var O=Zv(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),qv(O,a,u,o,e),um(Gs(h,u));break e}}o=h=Gs(h,u),rt!==4&&(rt=2),ca===null?ca=[o]:ca.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=qE(o,h,e);Uv(o,T);break e;case 1:u=h;var y=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Vi===null||!Vi.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=GE(o,u,e);Uv(o,R);break e}}o=o.return}while(o!==null)}fT(n)}catch(U){e=U,et===n&&n!==null&&(et=n=n.return);continue}break}while(1)}function hT(){var t=$u.current;return $u.current=Wu,t===null?Wu:t}function km(){(rt===0||rt===3||rt===2)&&(rt=4),dt===null||!(Mr&268435455)&&!(Uc&268435455)||Ri(dt,vt)}function qu(t,e){var n=ye;ye|=2;var i=hT();(dt!==t||vt!==e)&&(ei=null,Ir(t,e));do try{s1();break}catch(r){cT(t,r)}while(1);if(hm(),ye=n,$u.current=i,et!==null)throw Error(z(261));return dt=null,vt=0,rt}function s1(){for(;et!==null;)dT(et)}function o1(){for(;et!==null&&!Lb();)dT(et)}function dT(t){var e=mT(t.alternate,t,$t);t.memoizedProps=t.pendingProps,e===null?fT(t):et=e,Cm.current=null}function fT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jk(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,et=null;return}}else if(n=Xk(n,e,$t),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);rt===0&&(rt=5)}function mr(t,e,n){var i=Se,r=an.transition;try{an.transition=null,Se=1,a1(t,e,n,i)}finally{an.transition=r,Se=i}return null}function a1(t,e,n,i){do Ms();while(Fi!==null);if(ye&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jb(t,o),t===dt&&(et=dt=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yl||(Yl=!0,_T(bu,function(){return Ms(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=an.transition,an.transition=null;var a=Se;Se=1;var u=ye;ye|=4,Cm.current=null,t1(t,n),aT(n,t),xk(Pf),Ru=!!If,Pf=If=null,t.current=n,n1(n),Ob(),ye=u,Se=a,an.transition=o}else t.current=n;if(Yl&&(Yl=!1,Fi=t,Zu=r),o=t.pendingLanes,o===0&&(Vi=null),Mb(n.stateNode),jt(t,Ye()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Vu)throw Vu=!1,t=Zf,Zf=null,t;return Zu&1&&t.tag!==0&&Ms(),o=t.pendingLanes,o&1?t===qf?ha++:(ha=0,qf=t):ha=0,rr(),null}function Ms(){if(Fi!==null){var t=Z0(Zu),e=an.transition,n=Se;try{if(an.transition=null,Se=16>t?16:t,Fi===null)var i=!1;else{if(t=Fi,Fi=null,Zu=0,ye&6)throw Error(z(331));var r=ye;for(ye|=4,q=t.current;q!==null;){var o=q,a=o.child;if(q.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(q=f;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:ua(8,m,o)}var _=m.child;if(_!==null)_.return=m,q=_;else for(;q!==null;){m=q;var g=m.sibling,E=m.return;if(rT(m),m===f){q=null;break}if(g!==null){g.return=E,q=g;break}q=E}}}var w=o.alternate;if(w!==null){var C=w.child;if(C!==null){w.child=null;do{var O=C.sibling;C.sibling=null,C=O}while(C!==null)}}q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,q=a;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ua(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,q=T;break e}q=o.return}}var y=t.current;for(q=y;q!==null;){a=q;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,q=I;else e:for(a=y;q!==null;){if(u=q,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Fc(9,u)}}catch(U){We(u,u.return,U)}if(u===a){q=null;break e}var R=u.sibling;if(R!==null){R.return=u.return,q=R;break e}q=u.return}}if(ye=r,rr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(kc,t)}catch{}i=!0}return i}finally{Se=n,an.transition=e}}return!1}function oy(t,e,n){e=Gs(n,e),e=qE(t,e,1),t=$i(t,e,1),e=kt(),t!==null&&(el(t,1,e),jt(t,e))}function We(t,e,n){if(t.tag===3)oy(t,t,n);else for(;e!==null;){if(e.tag===3){oy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vi===null||!Vi.has(i))){t=Gs(n,t),t=GE(e,t,1),e=$i(e,t,1),t=kt(),e!==null&&(el(e,1,t),jt(e,t));break}}e=e.return}}function l1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(vt&n)===n&&(rt===4||rt===3&&(vt&130023424)===vt&&500>Ye()-Pm?Ir(t,0):Im|=n),jt(t,e)}function pT(t,e){e===0&&(t.mode&1?(e=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):e=1);var n=kt();t=fi(t,e),t!==null&&(el(t,e,n),jt(t,n))}function u1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pT(t,n)}function c1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),pT(t,n)}var mT;mT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,Qk(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Ue&&e.flags&1048576&&vE(e,Fu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;du(t,e),t=e.pendingProps;var r=$s(e,Ct.current);Ns(e,n),r=ym(null,e,i,t,r,n);var o=wm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(i)?(o=!0,Mu(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,pm(e),r.updater=Mc,e.stateNode=r,r._reactInternals=e,Mf(e,i,t,n),e=Uf(null,e,i,!0,o,n)):(e.tag=0,Ue&&o&&am(e),bt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(du(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=d1(i),t=_n(i,t),r){case 0:e=Ff(null,e,i,t,n);break e;case 1:e=Yv(null,e,i,t,n);break e;case 11:e=Gv(null,e,i,t,n);break e;case 14:e=Kv(null,e,i,_n(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_n(i,r),Ff(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_n(i,r),Yv(t,e,i,r,n);case 3:e:{if(XE(e),t===null)throw Error(z(387));i=e.pendingProps,o=e.memoizedState,r=o.element,TE(t,e),Bu(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Gs(Error(z(423)),e),e=Qv(t,e,i,n,r);break e}else if(i!==r){r=Gs(Error(z(424)),e),e=Qv(t,e,i,n,r);break e}else for(Vt=Wi(e.stateNode.containerInfo.firstChild),qt=e,Ue=!0,yn=null,n=PE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),i===r){e=pi(t,e,n);break e}bt(t,e,i,n)}e=e.child}return e;case 5:return xE(e),t===null&&Of(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,a=r.children,xf(i,r)?a=null:o!==null&&xf(i,o)&&(e.flags|=32),QE(t,e),bt(t,e,a,n),e.child;case 6:return t===null&&Of(e),null;case 13:return JE(t,e,n);case 4:return mm(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Zs(e,null,i,n):bt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_n(i,r),Gv(t,e,i,r,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,a=r.value,Oe(Uu,i._currentValue),i._currentValue=a,o!==null)if(Pn(o.value,a)){if(o.children===r.children&&!zt.current){e=pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var h=u.firstContext;h!==null;){if(h.context===i){if(o.tag===1){h=ai(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Af(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(z(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Af(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}bt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Ns(e,n),r=un(r),i=i(r),e.flags|=1,bt(t,e,i,n),e.child;case 14:return i=e.type,r=_n(i,e.pendingProps),r=_n(i.type,r),Kv(t,e,i,r,n);case 15:return KE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:_n(i,r),du(t,e),e.tag=1,Bt(i)?(t=!0,Mu(e)):t=!1,Ns(e,n),CE(e,i,r),Mf(e,i,r,n),Uf(null,e,i,!0,t,n);case 19:return eT(t,e,n);case 22:return YE(t,e,n)}throw Error(z(156,e.tag))};function _T(t,e){return H0(t,e)}function h1(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,i){return new h1(t,e,n,i)}function Rm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d1(t){if(typeof t=="function")return Rm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kp)return 11;if(t===Yp)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mu(t,e,n,i,r,o){var a=2;if(i=t,typeof t=="function")Rm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case gs:return Pr(n.children,r,o,e);case Gp:a=8,r|=8;break;case sf:return t=sn(12,n,e,r|2),t.elementType=sf,t.lanes=o,t;case of:return t=sn(13,n,e,r),t.elementType=of,t.lanes=o,t;case af:return t=sn(19,n,e,r),t.elementType=af,t.lanes=o,t;case I0:return zc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S0:a=10;break e;case C0:a=9;break e;case Kp:a=11;break e;case Yp:a=14;break e;case xi:a=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=sn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Pr(t,e,n,i){return t=sn(7,t,i,e),t.lanes=n,t}function zc(t,e,n,i){return t=sn(22,t,i,e),t.elementType=I0,t.lanes=n,t.stateNode={isHidden:!1},t}function Id(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function Pd(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f1(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=od(0),this.expirationTimes=od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Lm(t,e,n,i,r,o,a,u,h){return t=new f1(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(o),t}function p1(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_s,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function gT(t){if(!t)return Ji;t=t._reactInternals;e:{if(Kr(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Bt(n))return _E(t,n,e)}return e}function vT(t,e,n,i,r,o,a,u,h){return t=Lm(n,i,!0,t,r,o,a,u,h),t.context=gT(null),n=t.current,i=kt(),r=Zi(n),o=ai(i,r),o.callback=e??null,$i(n,o,r),t.current.lanes=r,el(t,r,i),jt(t,i),t}function Bc(t,e,n,i){var r=e.current,o=kt(),a=Zi(r);return n=gT(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(o,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=$i(r,e,a),t!==null&&(Cn(t,r,a,o),uu(t,r,a)),a}function Gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ay(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Om(t,e){ay(t,e),(t=t.alternate)&&ay(t,e)}function m1(){return null}var yT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Am(t){this._internalRoot=t}jc.prototype.render=Am.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Bc(t,e,null,null)};jc.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dr(function(){Bc(null,t,null,null)}),e[di]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var e=K0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&Q0(t)}};function Nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ly(){}function _1(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var f=Gu(a);o.call(f)}}var a=vT(e,i,t,0,null,!1,!1,"",ly);return t._reactRootContainer=a,t[di]=a.current,xa(t.nodeType===8?t.parentNode:t),Dr(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var f=Gu(h);u.call(f)}}var h=Lm(t,0,!1,null,null,!1,!1,"",ly);return t._reactRootContainer=h,t[di]=h.current,xa(t.nodeType===8?t.parentNode:t),Dr(function(){Bc(e,h,n,i)}),h}function Wc(t,e,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if(typeof r=="function"){var u=r;r=function(){var h=Gu(a);u.call(h)}}Bc(e,a,t,r)}else a=_1(n,e,t,r,i);return Gu(a)}q0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qo(e.pendingLanes);n!==0&&(Jp(e,n|1),jt(e,Ye()),!(ye&6)&&(Ks=Ye()+500,rr()))}break;case 13:Dr(function(){var i=fi(t,1);if(i!==null){var r=kt();Cn(i,t,1,r)}}),Om(t,1)}};em=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=kt();Cn(e,t,134217728,n)}Om(t,134217728)}};G0=function(t){if(t.tag===13){var e=Zi(t),n=fi(t,e);if(n!==null){var i=kt();Cn(n,t,e,i)}Om(t,e)}};K0=function(){return Se};Y0=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};gf=function(t,e,n){switch(e){case"input":if(cf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ac(i);if(!r)throw Error(z(90));x0(i),cf(i,r)}}}break;case"textarea":k0(t,n);break;case"select":e=n.value,e!=null&&Rs(t,!!n.multiple,e,!1)}};D0=xm;F0=Dr;var g1={usingClientEntryPoint:!1,Events:[nl,Es,Ac,N0,M0,xm]},zo={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},v1={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B0(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||m1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{kc=Ql.inject(v1),Hn=Ql}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g1;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(e))throw Error(z(200));return p1(t,e,null,n)};Yt.createRoot=function(t,e){if(!Nm(t))throw Error(z(299));var n=!1,i="",r=yT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Lm(t,1,!1,null,null,n,!1,i,r),t[di]=e.current,xa(t.nodeType===8?t.parentNode:t),new Am(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=B0(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Dr(t)};Yt.hydrate=function(t,e,n){if(!Hc(e))throw Error(z(200));return Wc(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!Nm(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",a=yT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=vT(e,null,t,1,n??null,r,!1,o,a),t[di]=e.current,xa(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new jc(e)};Yt.render=function(t,e,n){if(!Hc(e))throw Error(z(200));return Wc(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!Hc(t))throw Error(z(40));return t._reactRootContainer?(Dr(function(){Wc(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};Yt.unstable_batchedUpdates=xm;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Hc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Wc(t,e,n,!1,i)};Yt.version="18.2.0-next-9e3b772b8-20220608";function wT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wT)}catch(t){console.error(t)}}wT(),v0.exports=Yt;var y1=v0.exports,uy=y1;nf.createRoot=uy.createRoot,nf.hydrateRoot=uy.hydrateRoot;/**
 * @remix-run/router v1.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Da.apply(this,arguments)}var Ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ui||(Ui={}));const cy="popstate";function w1(t){t===void 0&&(t={});function e(r,o){let{pathname:a="/",search:u="",hash:h=""}=Yr(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Yf("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){let a=r.document.querySelector("base"),u="";if(a&&a.getAttribute("href")){let h=r.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:ET(o))}function i(r,o){$c(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return T1(e,n,i,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E1(){return Math.random().toString(36).substr(2,8)}function hy(t,e){return{usr:t.state,key:t.key,idx:e}}function Yf(t,e,n,i){return n===void 0&&(n=null),Da({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yr(e):e,{state:n,key:e&&e.key||i||E1()})}function ET(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Yr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function T1(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,a=r.history,u=Ui.Pop,h=null,f=m();f==null&&(f=0,a.replaceState(Da({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function _(){u=Ui.Pop;let O=m(),T=O==null?null:O-f;f=O,h&&h({action:u,location:C.location,delta:T})}function g(O,T){u=Ui.Push;let y=Yf(C.location,O,T);n&&n(y,O),f=m()+1;let I=hy(y,f),R=C.createHref(y);try{a.pushState(I,"",R)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;r.location.assign(R)}o&&h&&h({action:u,location:C.location,delta:1})}function E(O,T){u=Ui.Replace;let y=Yf(C.location,O,T);n&&n(y,O),f=m();let I=hy(y,f),R=C.createHref(y);a.replaceState(I,"",R),o&&h&&h({action:u,location:C.location,delta:0})}function w(O){let T=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof O=="string"?O:ET(O);return st(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let C={get action(){return u},get location(){return t(r,a)},listen(O){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(cy,_),h=O,()=>{r.removeEventListener(cy,_),h=null}},createHref(O){return e(r,O)},createURL:w,encodeLocation(O){let T=w(O);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:E,go(O){return a.go(O)}};return C}var dy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dy||(dy={}));function S1(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Yr(e):e,r=CT(i.pathname||"/",n);if(r==null)return null;let o=TT(t);C1(o);let a=null;for(let u=0;a==null&&u<o.length;++u)a=A1(o[u],D1(r));return a}function TT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(st(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=xr([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(st(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),TT(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:L1(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))r(o,a);else for(let h of ST(o.path))r(o,a,h)}),e}function ST(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let a=ST(i.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function C1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const I1=/^:\w+$/,P1=3,x1=2,b1=1,k1=10,R1=-2,fy=t=>t==="*";function L1(t,e){let n=t.split("/"),i=n.length;return n.some(fy)&&(i+=R1),e&&(i+=x1),n.filter(r=>!fy(r)).reduce((r,o)=>r+(I1.test(o)?P1:o===""?b1:k1),i)}function O1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function A1(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],h=a===n.length-1,f=r==="/"?e:e.slice(r.length)||"/",m=N1({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!m)return null;Object.assign(i,m.params);let _=u.route;o.push({params:i,pathname:xr([r,m.pathname]),pathnameBase:H1(xr([r,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(r=xr([r,m.pathnameBase]))}return o}function N1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=M1(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],a=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,m,_)=>{let{paramName:g,isOptional:E}=m;if(g==="*"){let C=u[_]||"";a=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const w=u[_];return E&&!w?f[g]=void 0:f[g]=F1(w||"",g),f},{}),pathname:o,pathnameBase:a,pattern:t}}function M1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function D1(t){try{return decodeURI(t)}catch(e){return $c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function F1(t,e){try{return decodeURIComponent(t)}catch(n){return $c(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function CT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function U1(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Yr(t):t;return{pathname:n?n.startsWith("/")?n:z1(n,e):e,search:W1(i),hash:$1(r)}}function z1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function xd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j1(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Yr(t):(r=Da({},t),st(!r.pathname||!r.pathname.includes("?"),xd("?","pathname","search",r)),st(!r.pathname||!r.pathname.includes("#"),xd("#","pathname","hash",r)),st(!r.search||!r.search.includes("#"),xd("#","search","hash",r)));let o=t===""||r.pathname==="",a=o?"/":r.pathname,u;if(i||a==null)u=n;else{let _=e.length-1;if(a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),_-=1;r.pathname=g.join("/")}u=_>=0?e[_]:"/"}let h=U1(r,u),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const xr=t=>t.join("/").replace(/\/\/+/g,"/"),H1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IT=["post","put","patch","delete"];new Set(IT);const Z1=["get",...IT];new Set(Z1);/**
 * React Router v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ku.apply(this,arguments)}const Mm=b.createContext(null),q1=b.createContext(null),Vc=b.createContext(null),Zc=b.createContext(null),lo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),PT=b.createContext(null);function qc(){return b.useContext(Zc)!=null}function xT(){return qc()||st(!1),b.useContext(Zc).location}function bT(t){b.useContext(Vc).static||b.useLayoutEffect(t)}function Gc(){let{isDataRoute:t}=b.useContext(lo);return t?oR():G1()}function G1(){qc()||st(!1);let t=b.useContext(Mm),{basename:e,navigator:n}=b.useContext(Vc),{matches:i}=b.useContext(lo),{pathname:r}=xT(),o=JSON.stringify(B1(i).map(h=>h.pathnameBase)),a=b.useRef(!1);return bT(()=>{a.current=!0}),b.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){n.go(h);return}let m=j1(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}function K1(t,e){return Y1(t,e)}function Y1(t,e,n){qc()||st(!1);let{navigator:i}=b.useContext(Vc),{matches:r}=b.useContext(lo),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=xT(),f;if(e){var m;let C=typeof e=="string"?Yr(e):e;u==="/"||(m=C.pathname)!=null&&m.startsWith(u)||st(!1),f=C}else f=h;let _=f.pathname||"/",g=u==="/"?_:_.slice(u.length)||"/",E=S1(t,{pathname:g}),w=tR(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:xr([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:xr([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),r,n);return e&&w?b.createElement(Zc.Provider,{value:{location:Ku({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ui.Pop}},w):w}function Q1(){let t=sR(),e=V1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:r},n):null,o)}const X1=b.createElement(Q1,null);class J1 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(lo.Provider,{value:this.props.routeContext},b.createElement(PT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eR(t){let{routeContext:e,match:n,children:i}=t,r=b.useContext(Mm);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(lo.Provider,{value:e},i)}function tR(t,e,n){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var r;if((r=n)!=null&&r.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));u>=0||st(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((u,h,f)=>{let m=h.route.id?a==null?void 0:a[h.route.id]:null,_=null;n&&(_=h.route.errorElement||X1);let g=e.concat(o.slice(0,f+1)),E=()=>{let w;return m?w=_:h.route.Component?w=b.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,b.createElement(eR,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(J1,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:E(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):E()},null)}var kT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kT||{}),Yu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yu||{});function nR(t){let e=b.useContext(Mm);return e||st(!1),e}function iR(t){let e=b.useContext(q1);return e||st(!1),e}function rR(t){let e=b.useContext(lo);return e||st(!1),e}function RT(t){let e=rR(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function sR(){var t;let e=b.useContext(PT),n=iR(Yu.UseRouteError),i=RT(Yu.UseRouteError);return e||((t=n.errors)==null?void 0:t[i])}function oR(){let{router:t}=nR(kT.UseNavigateStable),e=RT(Yu.UseNavigateStable),n=b.useRef(!1);return bT(()=>{n.current=!0}),b.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ku({fromRouteId:e},o)))},[t,e])}function ps(t){st(!1)}function aR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ui.Pop,navigator:o,static:a=!1}=t;qc()&&st(!1);let u=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:o,static:a}),[u,o,a]);typeof i=="string"&&(i=Yr(i));let{pathname:f="/",search:m="",hash:_="",state:g=null,key:E="default"}=i,w=b.useMemo(()=>{let C=CT(f,u);return C==null?null:{location:{pathname:C,search:m,hash:_,state:g,key:E},navigationType:r}},[u,f,m,_,g,E,r]);return w==null?null:b.createElement(Vc.Provider,{value:h},b.createElement(Zc.Provider,{children:n,value:w}))}function lR(t){let{children:e,location:n}=t;return K1(Qf(e),n)}new Promise(()=>{});function Qf(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(i,r)=>{if(!b.isValidElement(i))return;let o=[...e,r];if(i.type===b.Fragment){n.push.apply(n,Qf(i.props.children,o));return}i.type!==ps&&st(!1),!i.props.index||!i.props.children||st(!1);let a={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Qf(i.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const uR="startTransition",py=ub[uR];function cR(t){let{basename:e,children:n,future:i,window:r}=t,o=b.useRef();o.current==null&&(o.current=w1({window:r,v5Compat:!0}));let a=o.current,[u,h]=b.useState({action:a.action,location:a.location}),{v7_startTransition:f}=i||{},m=b.useCallback(_=>{f&&py?py(()=>h(_)):h(_)},[h,f]);return b.useLayoutEffect(()=>a.listen(m),[a,m]),b.createElement(aR,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a})}var my;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(my||(my={}));var _y;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_y||(_y={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw uo(e)},uo=function(t){return new Error("Firebase Database ("+LT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},hR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],a=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Dm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],a=r+1<t.length,u=a?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let g=(u&15)<<2|f>>6,E=f&63;h||(E=64,a||(g=64)),i.push(n[m],n[_],n[g],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new dR;const g=o<<2|u>>4;if(i.push(g),f!==64){const E=u<<4&240|f>>2;if(i.push(E),_!==64){const w=f<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AT=function(t){const e=OT(t);return Dm.encodeByteArray(e,!0)},Qu=function(t){return AT(t).replace(/\./g,"")},Xu=function(t){try{return Dm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){return NT(void 0,t)}function NT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!pR(n)||(t[n]=NT(t[n],e[n]));return t}function pR(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>mR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xu(t[1]);return e&&JSON.parse(e)},Kc=()=>{try{return _R()||gR()||vR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MT=t=>{var e,n;return(n=(e=Kc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DT=t=>{const e=MT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},FT=()=>{var t;return(t=Kc())===null||t===void 0?void 0:t.config},UT=t=>{var e;return(e=Kc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[Qu(JSON.stringify(n)),Qu(JSON.stringify(a)),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function yR(){var t;const e=(t=Kc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HT(){return LT.NODE_ADMIN===!0}function WT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function ER(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="FirebaseError";class Rn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TR,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}}class Qr{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],a=o?SR(o,i):"Error",u=`${this.serviceName}: ${a} (${r}).`;return new Rn(r,u,i)}}function SR(t,e){return t.replace(CR,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const CR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return JSON.parse(t)}function ht(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(t){let e={},n={},i={},r="";try{const o=t.split(".");e=Fa(Xu(o[0])||""),n=Fa(Xu(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},IR=function(t){const e=VT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PR=function(t){const e=VT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ys(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ju(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Ua(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],a=e[r];if(gy(o)&&gy(a)){if(!Ua(o,a))return!1}else if(o!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function gy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ea(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const g=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(g<<1|g>>>31)&4294967295}let r=this.chain_[0],o=this.chain_[1],a=this.chain_[2],u=this.chain_[3],h=this.chain_[4],f,m;for(let _=0;_<80;_++){_<40?_<20?(f=u^o&(a^u),m=1518500249):(f=o^a^u,m=1859775393):_<60?(f=o&a|u&(o|a),m=2400959708):(f=o^a^u,m=3395469782);const g=(r<<5|r>>>27)+f+h+m+i[_]&4294967295;h=u,u=a,a=(o<<30|o>>>2)&4294967295,o=r,r=g}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const o=this.buf_;let a=this.inbuf_;for(;r<n;){if(a===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(o[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<n;)if(o[a]=e[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}function bR(t,e){const n=new kR(t,e);return n.subscribe.bind(n)}class kR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");RR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=bd),r.error===void 0&&(r.error=bd),r.complete===void 0&&(r.complete=bd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bd(){}function Yc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,B(i<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(i)-56320;r=65536+(o<<10)+a}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Qc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=1e3,AR=2,NR=4*60*60*1e3,MR=.5;function vy(t,e=OR,n=AR){const i=e*Math.pow(n,t),r=Math.round(MR*i*(Math.random()-.5)*2);return Math.min(NR,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class hn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new rl;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UR(e))try{this.getOrInitializeService({instanceIdentifier:_r})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=_r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_r){return this.instances.has(e)}getOptions(e=_r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&a.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_r){return this.component?this.component.multipleInstances?e:_r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(t){return t===_r?void 0:t}function UR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const BR={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},jR=Ce.INFO,HR={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},WR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=HR[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xc{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const $R=(t,e)=>e.some(n=>t instanceof n);let yy,wy;function VR(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZR(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Jf=new WeakMap,qT=new WeakMap,kd=new WeakMap,Um=new WeakMap;function qR(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Gi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ZT.set(n,t)}).catch(()=>{}),Um.set(e,t),e}function GR(t){if(Jf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Jf.set(t,e)}let ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KR(t){ep=t(ep)}function YR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Rd(this),e,...n);return qT.set(i,e.sort?e.sort():[e]),Gi(i)}:ZR().includes(t)?function(...e){return t.apply(Rd(this),e),Gi(ZT.get(this))}:function(...e){return Gi(t.apply(Rd(this),e))}}function QR(t){return typeof t=="function"?YR(t):(t instanceof IDBTransaction&&GR(t),$R(t,VR())?new Proxy(t,ep):t)}function Gi(t){if(t instanceof IDBRequest)return qR(t);if(kd.has(t))return kd.get(t);const e=QR(t);return e!==t&&(kd.set(t,e),Um.set(e,t)),e}const Rd=t=>Um.get(t);function XR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),u=Gi(a);return i&&a.addEventListener("upgradeneeded",h=>{i(Gi(a.result),h.oldVersion,h.newVersion,Gi(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const JR=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],Ld=new Map;function Ey(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ld.get(e))return Ld.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=eL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||JR.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Ld.set(e,o),o}KR(t=>({...t,get:(e,n,i)=>Ey(e,n)||t.get(e,n,i),has:(e,n)=>!!Ey(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nL(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function nL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tp="@firebase/app",Ty="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Xc("@firebase/app"),iL="@firebase/app-compat",rL="@firebase/analytics-compat",sL="@firebase/analytics",oL="@firebase/app-check-compat",aL="@firebase/app-check",lL="@firebase/auth",uL="@firebase/auth-compat",cL="@firebase/database",hL="@firebase/database-compat",dL="@firebase/functions",fL="@firebase/functions-compat",pL="@firebase/installations",mL="@firebase/installations-compat",_L="@firebase/messaging",gL="@firebase/messaging-compat",vL="@firebase/performance",yL="@firebase/performance-compat",wL="@firebase/remote-config",EL="@firebase/remote-config-compat",TL="@firebase/storage",SL="@firebase/storage-compat",CL="@firebase/firestore",IL="@firebase/firestore-compat",PL="firebase",xL="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="[DEFAULT]",bL={[tp]:"fire-core",[iL]:"fire-core-compat",[sL]:"fire-analytics",[rL]:"fire-analytics-compat",[aL]:"fire-app-check",[oL]:"fire-app-check-compat",[lL]:"fire-auth",[uL]:"fire-auth-compat",[cL]:"fire-rtdb",[hL]:"fire-rtdb-compat",[dL]:"fire-fn",[fL]:"fire-fn-compat",[pL]:"fire-iid",[mL]:"fire-iid-compat",[_L]:"fire-fcm",[gL]:"fire-fcm-compat",[vL]:"fire-perf",[yL]:"fire-perf-compat",[wL]:"fire-rc",[EL]:"fire-rc-compat",[TL]:"fire-gcs",[SL]:"fire-gcs-compat",[CL]:"fire-fst",[IL]:"fire-fst-compat","fire-js":"fire-js",[PL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Map,ip=new Map;function kL(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xn(t){const e=t.name;if(ip.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,t);for(const n of ec.values())kL(n,t);return!0}function sr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ki=new Qr("app","Firebase",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=xL;function GT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:np,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ki.create("bad-app-name",{appName:String(r)});if(n||(n=FT()),!n)throw Ki.create("no-options");const o=ec.get(r);if(o){if(Ua(n,o.options)&&Ua(i,o.config))return o;throw Ki.create("duplicate-app",{appName:r})}const a=new zR(r);for(const h of ip.values())a.addComponent(h);const u=new LL(n,i,a);return ec.set(r,u),u}function Jc(t=np){const e=ec.get(t);if(!e&&t===np&&FT())return GT();if(!e)throw Ki.create("no-app",{appName:t});return e}function Ht(t,e,n){var i;let r=(i=bL[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(u.join(" "));return}xn(new hn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="firebase-heartbeat-database",AL=1,za="firebase-heartbeat-store";let Od=null;function KT(){return Od||(Od=XR(OL,AL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(za)}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Od}async function NL(t){try{return await(await KT()).transaction(za).objectStore(za).get(YT(t))}catch(e){if(e instanceof Rn)Fr.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function Sy(t,e){try{const i=(await KT()).transaction(za,"readwrite");await i.objectStore(za).put(e,YT(t)),await i.done}catch(n){if(n instanceof Rn)Fr.warn(n.message);else{const i=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(i.message)}}}function YT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=1024,DL=30*24*60*60*1e3;class FL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=DL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cy(),{heartbeatsToSend:i,unsentEntries:r}=UL(this._heartbeatsCache.heartbeats),o=Qu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Cy(){return new Date().toISOString().substring(0,10)}function UL(t,e=ML){const n=[];let i=t.slice();for(const r of t){const o=n.find(a=>a.agent===r.agent);if(o){if(o.dates.push(r.date),Iy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Iy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Iy(t){return Qu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){xn(new hn("platform-logger",e=>new tL(e),"PRIVATE")),xn(new hn("heartbeat",e=>new FL(e),"PRIVATE")),Ht(tp,Ty,t),Ht(tp,Ty,"esm2017"),Ht("fire-js","")}BL("");var jL="firebase",HL="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht(jL,HL,"app");const WL=(t,e)=>e.some(n=>t instanceof n);let Py,xy;function $L(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VL(){return xy||(xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,rp=new WeakMap,XT=new WeakMap,Ad=new WeakMap,zm=new WeakMap;function ZL(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Yi(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,t)}).catch(()=>{}),zm.set(e,t),e}function qL(t){if(rp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});rp.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GL(t){sp=t(sp)}function KL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Nd(this),e,...n);return XT.set(i,e.sort?e.sort():[e]),Yi(i)}:VL().includes(t)?function(...e){return t.apply(Nd(this),e),Yi(QT.get(this))}:function(...e){return Yi(t.apply(Nd(this),e))}}function YL(t){return typeof t=="function"?KL(t):(t instanceof IDBTransaction&&qL(t),WL(t,$L())?new Proxy(t,sp):t)}function Yi(t){if(t instanceof IDBRequest)return ZL(t);if(Ad.has(t))return Ad.get(t);const e=YL(t);return e!==t&&(Ad.set(t,e),zm.set(e,t)),e}const Nd=t=>zm.get(t);function QL(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const a=indexedDB.open(t,e),u=Yi(a);return i&&a.addEventListener("upgradeneeded",h=>{i(Yi(a.result),h.oldVersion,h.newVersion,Yi(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",()=>r())}).catch(()=>{}),u}const XL=["get","getKey","getAll","getAllKeys","count"],JL=["put","add","delete","clear"],Md=new Map;function by(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Md.get(e))return Md.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=JL.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||XL.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return Md.set(e,o),o}GL(t=>({...t,get:(e,n,i)=>by(e,n)||t.get(e,n,i),has:(e,n)=>!!by(e,n)||t.has(e,n)}));const JT="@firebase/installations",Bm="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=1e4,tS=`w:${Bm}`,nS="FIS_v2",eO="https://firebaseinstallations.googleapis.com/v1",tO=60*60*1e3,nO="installations",iO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ur=new Qr(nO,iO,rO);function iS(t){return t instanceof Rn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS({projectId:t}){return`${eO}/projects/${t}/installations`}function sS(t){return{token:t.token,requestStatus:2,expiresIn:oO(t.expiresIn),creationTime:Date.now()}}async function oS(t,e){const i=(await e.json()).error;return Ur.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function aS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sO(t,{refreshToken:e}){const n=aS(t);return n.append("Authorization",aO(e)),n}async function lS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function oO(t){return Number(t.replace("s","000"))}function aO(t){return`${nS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=rS(t),r=aS(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const a={fid:n,authVersion:nS,appId:t.appId,sdkVersion:tS},u={method:"POST",headers:r,body:JSON.stringify(a)},h=await lS(()=>fetch(i,u));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:sS(f.authToken)}}else throw await oS("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=/^[cdef][\w-]{21}$/,op="";function hO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=dO(t);return cO.test(n)?n:op}catch{return op}}function dO(t){return uO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=new Map;function hS(t,e){const n=eh(t);dS(n,e),fO(n,e)}function dS(t,e){const n=cS.get(t);if(n)for(const i of n)i(e)}function fO(t,e){const n=pO();n&&n.postMessage({key:t,fid:e}),mO()}let Er=null;function pO(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=t=>{dS(t.data.key,t.data.fid)}),Er}function mO(){cS.size===0&&Er&&(Er.close(),Er=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="firebase-installations-database",gO=1,zr="firebase-installations-store";let Dd=null;function jm(){return Dd||(Dd=QL(_O,gO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zr)}}})),Dd}async function tc(t,e){const n=eh(t),r=(await jm()).transaction(zr,"readwrite"),o=r.objectStore(zr),a=await o.get(n);return await o.put(e,n),await r.done,(!a||a.fid!==e.fid)&&hS(t,e.fid),e}async function fS(t){const e=eh(t),i=(await jm()).transaction(zr,"readwrite");await i.objectStore(zr).delete(e),await i.done}async function th(t,e){const n=eh(t),r=(await jm()).transaction(zr,"readwrite"),o=r.objectStore(zr),a=await o.get(n),u=e(a);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!a||a.fid!==u.fid)&&hS(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(t){let e;const n=await th(t.appConfig,i=>{const r=vO(i),o=yO(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===op?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function vO(t){const e=t||{fid:hO(),registrationStatus:0};return pS(e)}function yO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Ur.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=wO(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:EO(t)}:{installationEntry:e}}async function wO(t,e){try{const n=await lO(t,e);return tc(t.appConfig,n)}catch(n){throw iS(n)&&n.customData.serverCode===409?await fS(t.appConfig):await tc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function EO(t){let e=await ky(t.appConfig);for(;e.registrationStatus===1;)await uS(100),e=await ky(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Hm(t);return i||n}return e}function ky(t){return th(t,e=>{if(!e)throw Ur.create("installation-not-found");return pS(e)})}function pS(t){return TO(t)?{fid:t.fid,registrationStatus:0}:t}function TO(t){return t.registrationStatus===1&&t.registrationTime+eS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO({appConfig:t,heartbeatServiceProvider:e},n){const i=CO(t,n),r=sO(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const a={installation:{sdkVersion:tS,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(a)},h=await lS(()=>fetch(i,u));if(h.ok){const f=await h.json();return sS(f)}else throw await oS("Generate Auth Token",h)}function CO(t,{fid:e}){return`${rS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t,e=!1){let n;const i=await th(t.appConfig,o=>{if(!mS(o))throw Ur.create("not-registered");const a=o.authToken;if(!e&&xO(a))return o;if(a.requestStatus===1)return n=IO(t,e),o;{if(!navigator.onLine)throw Ur.create("app-offline");const u=kO(o);return n=PO(t,u),u}});return n?await n:i.authToken}async function IO(t,e){let n=await Ry(t.appConfig);for(;n.authToken.requestStatus===1;)await uS(100),n=await Ry(t.appConfig);const i=n.authToken;return i.requestStatus===0?Wm(t,e):i}function Ry(t){return th(t,e=>{if(!mS(e))throw Ur.create("not-registered");const n=e.authToken;return RO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function PO(t,e){try{const n=await SO(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await tc(t.appConfig,i),n}catch(n){if(iS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await fS(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await tc(t.appConfig,i)}throw n}}function mS(t){return t!==void 0&&t.registrationStatus===2}function xO(t){return t.requestStatus===2&&!bO(t)}function bO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+tO}function kO(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function RO(t){return t.requestStatus===1&&t.requestTime+eS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t){const e=t,{installationEntry:n,registrationPromise:i}=await Hm(e);return i?i.catch(console.error):Wm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e=!1){const n=t;return await AO(n),(await Wm(n,e)).token}async function AO(t){const{registrationPromise:e}=await Hm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){if(!t||!t.options)throw Fd("App Configuration");if(!t.name)throw Fd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fd(t){return Ur.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="installations",MO="installations-internal",DO=t=>{const e=t.getProvider("app").getImmediate(),n=NO(e),i=sr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},FO=t=>{const e=t.getProvider("app").getImmediate(),n=sr(e,_S).getImmediate();return{getId:()=>LO(n),getToken:r=>OO(n,r)}};function UO(){xn(new hn(_S,DO,"PUBLIC")),xn(new hn(MO,FO,"PRIVATE"))}UO();Ht(JT,Bm);Ht(JT,Bm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="analytics",zO="firebase_id",BO="origin",jO=60*1e3,HO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$m="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=new Xc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gt=new Qr("analytics","Analytics",WO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){if(!t.startsWith($m)){const e=Gt.create("invalid-gtag-resource",{gtagURL:t});return Wt.warn(e.message),""}return t}function gS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ZO(t,e){const n=VO("firebase-js-sdk-policy",{createScriptURL:$O}),i=document.createElement("script"),r=`${$m}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function qO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function GO(t,e,n,i,r,o){const a=i[r];try{if(a)await e[a];else{const h=(await gS(n)).find(f=>f.measurementId===r);h&&await e[h.appId]}}catch(u){Wt.error(u)}t("config",r,o)}async function KO(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const u=await gS(n);for(const h of a){const f=u.find(_=>_.measurementId===h),m=f&&e[f.appId];if(m)o.push(m);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){Wt.error(o)}}function YO(t,e,n,i){async function r(o,...a){try{if(o==="event"){const[u,h]=a;await KO(t,e,n,u,h)}else if(o==="config"){const[u,h]=a;await GO(t,e,n,i,u,h)}else if(o==="consent"){const[u]=a;t("consent","update",u)}else if(o==="get"){const[u,h,f]=a;t("get",u,h,f)}else if(o==="set"){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Wt.error(u)}}return r}function QO(t,e,n,i,r){let o=function(...a){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=YO(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function XO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes($m)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=30,eA=1e3;class tA{constructor(e={},n=eA){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vS=new tA;function nA(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function iA(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:nA(i)},o=HO.replace("{app-id}",n),a=await fetch(o,r);if(a.status!==200&&a.status!==304){let u="";try{const h=await a.json();!((e=h.error)===null||e===void 0)&&e.message&&(u=h.error.message)}catch{}throw Gt.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u})}return a.json()}async function rA(t,e=vS,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Gt.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Gt.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new aA;return setTimeout(async()=>{u.abort()},n!==void 0?n:jO),yS({appId:i,apiKey:r,measurementId:o},a,u,e)}async function yS(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=vS){var o;const{appId:a,measurementId:u}=t;try{await sA(i,e)}catch(h){if(u)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:a,measurementId:u};throw h}try{const h=await iA(t);return r.deleteThrottleMetadata(a),h}catch(h){const f=h;if(!oA(f)){if(r.deleteThrottleMetadata(a),u)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:a,measurementId:u};throw h}const m=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?vy(n,r.intervalMillis,JO):vy(n,r.intervalMillis),_={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return r.setThrottleMetadata(a,_),Wt.debug(`Calling attemptFetch again in ${m} millis`),yS(t,_,i,r)}}function sA(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(Gt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oA(t){if(!(t instanceof Rn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class aA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function lA(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,a=Object.assign(Object.assign({},i),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(){if(WT())try{await $T()}catch(t){return Wt.warn(Gt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Wt.warn(Gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cA(t,e,n,i,r,o,a){var u;const h=rA(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Wt.error(E)),e.push(h);const f=uA().then(E=>{if(E)return i.getId()}),[m,_]=await Promise.all([h,f]);XO(o)||ZO(o,m.measurementId),r("js",new Date);const g=(u=a==null?void 0:a.config)!==null&&u!==void 0?u:{};return g[BO]="firebase",g.update=!0,_!=null&&(g[zO]=_),r("config",m.measurementId,g),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.app=e}_delete(){return delete da[this.app.options.appId],Promise.resolve()}}let da={},Ly=[];const Oy={};let Ud="dataLayer",dA="gtag",Ay,wS,Ny=!1;function fA(){const t=[];if(BT()&&t.push("This is a browser extension environment."),ER()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Gt.create("invalid-analytics-context",{errorInfo:e});Wt.warn(n.message)}}function pA(t,e,n){fA();const i=t.options.appId;if(!i)throw Gt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gt.create("no-api-key");if(da[i]!=null)throw Gt.create("already-exists",{id:i});if(!Ny){qO(Ud);const{wrappedGtag:o,gtagCore:a}=QO(da,Ly,Oy,Ud,dA);wS=o,Ay=a,Ny=!0}return da[i]=cA(t,Ly,Oy,e,Ay,Ud,n),new hA(t)}function mA(t=Jc()){t=Qe(t);const e=sr(t,nc);return e.isInitialized()?e.getImmediate():_A(t)}function _A(t,e={}){const n=sr(t,nc);if(n.isInitialized()){const r=n.getImmediate();if(Ua(e,n.getOptions()))return r;throw Gt.create("already-initialized")}return n.initialize({options:e})}function gA(t,e,n,i){t=Qe(t),lA(wS,da[t.app.options.appId],e,n,i).catch(r=>Wt.error(r))}const My="@firebase/analytics",Dy="0.10.0";function vA(){xn(new hn(nc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return pA(i,r,n)},"PUBLIC")),xn(new hn("analytics-internal",t,"PRIVATE")),Ht(My,Dy),Ht(My,Dy,"esm2017");function t(e){try{const n=e.getProvider(nc).getImmediate();return{logEvent:(i,r,o)=>gA(n,i,r,o)}}catch(n){throw Gt.create("interop-component-reg-failed",{reason:n})}}}vA();const Fy="@firebase/database",Uy="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ES="";function yA(t){ES=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ht(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Fa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return qn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wA(e)}}catch{}return new EA},Tr=TS("localStorage"),ap=TS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Xc("@firebase/database"),TA=function(){let t=1;return function(){return t++}}(),SS=function(t){const e=LR(t),n=new xR;n.update(e);const i=n.digest();return Dm.encodeByteArray(i)},sl=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=sl.apply(null,i):typeof i=="object"?e+=ht(i):e+=i,e+=" "}return e};let br=null,zy=!0;const SA=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ds.logLevel=Ce.VERBOSE,br=Ds.log.bind(Ds),e&&ap.set("logging_enabled",!0)):typeof t=="function"?br=t:(br=null,ap.remove("logging_enabled"))},gt=function(...t){if(zy===!0&&(zy=!1,br===null&&ap.get("logging_enabled")===!0&&SA(!0)),br){const e=sl.apply(null,t);br(e)}},ol=function(t){return function(...e){gt(t,...e)}},lp=function(...t){const e="FIREBASE INTERNAL ERROR: "+sl(...t);Ds.error(e)},mi=function(...t){const e=`FIREBASE FATAL ERROR: ${sl(...t)}`;throw Ds.error(e),new Error(e)},Rt=function(...t){const e="FIREBASE WARNING: "+sl(...t);Ds.warn(e)},CA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},IA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Qs="[MIN_NAME]",Br="[MAX_NAME]",Jr=function(t,e){if(t===e)return 0;if(t===Qs||e===Br)return-1;if(e===Qs||t===Br)return 1;{const n=By(t),i=By(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},PA=function(t,e){return t===e?0:t<e?-1:1},Bo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ht(e))},Zm=function(t){if(typeof t!="object"||t===null)return ht(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=ht(e[i]),n+=":",n+=Zm(t[e[i]]);return n+="}",n},CS=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function wt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const IS=function(t){B(!Vm(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,o,a,u,h;t===0?(o=0,a=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=u+i,a=Math.round(t*Math.pow(2,n-u)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(h=e;h;h-=1)f.push(o%2?1:0),o=Math.floor(o/2);f.push(r?1:0),f.reverse();const m=f.join("");let _="";for(h=0;h<64;h+=8){let g=parseInt(m.substr(h,8),2).toString(16);g.length===1&&(g="0"+g),_=_+g}return _.toLowerCase()},xA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const RA=new RegExp("^-?(0*)\\d{1,10}$"),LA=-2147483648,OA=2147483647,By=function(t){if(RA.test(t)){const e=Number(t);if(e>=LA&&e<=OA)return e}return null},ho=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},AA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(e)}}class Fs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="5",PS="v",xS="s",bS="r",kS="f",RS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LS="ls",OS="p",up="ac",AS="websocket",NS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,i,r,o=!1,a="",u=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function DA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function DS(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let i;if(e===AS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===NS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);DA(t)&&(n.ns=t.namespace);const r=[];return wt(n,(o,a)=>{r.push(o+"="+a)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.counters_={}}incrementCounter(e,n=1){qn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return fR(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd={},Bd={};function Gm(t){const e=t.toString();return zd[e]||(zd[e]=new FA),zd[e]}function UA(t,e){const n=t.toString();return Bd[n]||(Bd[n]=e()),Bd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ho(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="start",BA="close",jA="pLPCommand",HA="pRTLPCB",FS="id",US="pw",zS="ser",WA="cb",$A="seg",VA="ts",ZA="d",qA="dframe",BS=1870,jS=30,GA=BS-jS,KA=25e3,YA=3e4;class bs{constructor(e,n,i,r,o,a,u){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ol(e),this.stats_=Gm(n),this.urlFn=h=>(this.appCheckToken&&(h[up]=this.appCheckToken),DS(n,NS,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new zA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(YA)),IA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Km((...o)=>{const[a,u,h,f,m]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===jy)this.id=u,this.password=h;else if(a===BA)u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={};i[jy]="t",i[zS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[WA]=this.scriptTagHolder.uniqueCallbackIdentifier),i[PS]=qm,this.transportSessionId&&(i[xS]=this.transportSessionId),this.lastSessionId&&(i[LS]=this.lastSessionId),this.applicationId&&(i[OS]=this.applicationId),this.appCheckToken&&(i[up]=this.appCheckToken),typeof location<"u"&&location.hostname&&RS.test(location.hostname)&&(i[bS]=kS);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){bs.forceAllow_=!0}static forceDisallow(){bs.forceDisallow_=!0}static isAvailable(){return bs.forceAllow_?!0:!bs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!xA()&&!bA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=AT(n),r=CS(i,GA);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[qA]="t",i[FS]=e,i[US]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ht(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Km{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=TA(),window[jA+this.uniqueCallbackIdentifier]=e,window[HA+this.uniqueCallbackIdentifier]=n,this.myIFrame=Km.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){gt("frame writing exception"),u.stack&&gt(u.stack),gt(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FS]=this.myID,e[US]=this.myPW,e[zS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jS+i.length<=BS;){const a=this.pendingSegs.shift();i=i+"&"+$A+r+"="+a.seg+"&"+VA+r+"="+a.ts+"&"+ZA+r+"="+a.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(KA)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=16384,XA=45e3;let ic=null;typeof MozWebSocket<"u"?ic=MozWebSocket:typeof WebSocket<"u"&&(ic=WebSocket);class wn{constructor(e,n,i,r,o,a,u){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ol(this.connId),this.stats_=Gm(n),this.connURL=wn.connectionURL_(n,a,u,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,o){const a={};return a[PS]=qm,typeof location<"u"&&location.hostname&&RS.test(location.hostname)&&(a[bS]=kS),n&&(a[xS]=n),i&&(a[LS]=i),r&&(a[up]=r),o&&(a[OS]=o),DS(e,AS,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tr.set("previous_websocket_failure",!0);try{let i;HT(),this.mySock=new ic(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){wn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ic!==null&&!wn.forceDisallow_}static previouslyFailed(){return Tr.isInMemoryStorage||Tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Fa(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=ht(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=CS(n,QA);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(XA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wn.responsesRequiredToBeHealthy=2;wn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[bs,wn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wn&&wn.isAvailable();let i=n&&!wn.previouslyFailed();if(e.webSocketOnly&&(n||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wn];else{const r=this.transports_=[];for(const o of Ba.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o);Ba.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ba.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=6e4,eN=5e3,tN=10*1024,nN=100*1024,jd="t",Hy="d",iN="s",Wy="r",rN="e",$y="o",Vy="a",Zy="n",qy="p",sN="h";class oN{constructor(e,n,i,r,o,a,u,h,f,m){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ol("c:"+this.id+":"),this.transportManager_=new Ba(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>nN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(jd in e){const n=e[jd];n===Vy?this.upgradeIfSecondaryHealthy_():n===Wy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$y&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Bo("t",e),i=Bo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Bo("t",e),i=Bo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Bo(jd,e);if(Hy in e){const i=e[Hy];if(n===sN){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Zy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===iN?this.onConnectionShutdown_(i):n===Wy?this.onReset_(i):n===rN?lp("Server Error: "+i):n===$y?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qm!==i&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(JA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends WS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rc}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=32,Ky=768;class Ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Te(){return new Ie("")}function ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function er(t){return t.pieces_.length-t.pieceNum_}function Le(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function Ym(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ja(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function $S(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function $e(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ie)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Ie(n,0)}function de(t){return t.pieceNum_>=t.pieces_.length}function Ft(t,e){const n=ue(t),i=ue(e);if(n===null)return e;if(n===i)return Ft(Le(t),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lN(t,e){const n=ja(t,0),i=ja(e,0);for(let r=0;r<n.length&&r<i.length;r++){const o=Jr(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function Qm(t,e){if(er(t)!==er(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function on(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(er(t)>er(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class uN{constructor(e,n){this.errorPrefix_=n,this.parts_=ja(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Qc(this.parts_[i]);VS(this)}}function cN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qc(e),VS(t)}function hN(t){const e=t.parts_.pop();t.byteLength_-=Qc(e),t.parts_.length>0&&(t.byteLength_-=1)}function VS(t){if(t.byteLength_>Ky)throw new Error(t.errorPrefix_+"has a key path longer than "+Ky+" bytes ("+t.byteLength_+").");if(t.parts_.length>Gy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Gy+") or object contains a cycle "+gr(t))}function gr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends WS{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Xm}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=1e3,dN=60*5*1e3,Yy=30*1e3,fN=1.3,pN=3e4,mN="server_kill",Qy=3;class li extends HS{constructor(e,n,i,r,o,a,u,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=h,this.id=li.nextPersistentConnectionId_++,this.log_=ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jo,this.maxReconnectDelay_=dN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!HT())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&rc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,o={r,a:e,b:n};this.log_(ht(o)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new rl,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const u=a.d;a.s==="ok"?n.resolve(u):n.reject(u)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,r){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const o={p:i},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,u=>{const h=u.d,f=u.s;li.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&qn(e,"w")){const i=Ys(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Yy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=IR(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const o=r.s,a=r.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";r&&(o.q=i,o.t=r),this.sendRequest(a,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{r&&setTimeout(()=>{r(a.s,a.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,o){this.initConnection_();const a={p:n,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ht(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):lp("Unrecognized action received from server: "+ht(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pN&&(this.reconnectDelay_=jo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+li.nextConnectionId_++,o=this.lastSessionId;let a=!1,u=null;const h=function(){u?u.close():(a=!0,i())},f=function(_){B(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)};this.realtime_={close:h,sendRequest:f};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,g]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=g&&g.token,u=new oN(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{Rt(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(mN)},o))}catch(_){this.log_("Failed to get token: "+_),a||(this.repoInfo_.nodeAdmin&&Rt(_),h())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xf(this.interruptReasons_)&&(this.reconnectDelay_=jo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>Zm(o)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Ie(e).toString();let r;if(this.listens.has(i)){const o=this.listens.get(i);r=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Qy&&(this.reconnectDelay_=Yy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Qy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ES.replace(/\./g,"-")]=1,Fm()?e["framework.cordova"]=1:jT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rc.getInstance().currentlyOnline();return Xf(this.interruptReasons_)&&e}}li.nextPersistentConnectionId_=0;li.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ce(Qs,e),r=new ce(Qs,n);return this.compare(i,r)!==0}minPost(){return ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;class ZS extends nh{static get __EMPTY_NODE(){return Xl}static set __EMPTY_NODE(e){Xl=e}compare(e,n){return Jr(e.name,n.name)}isDefinedOn(e){throw uo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Br,Xl)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Xl)}toString(){return".key"}}const Us=new ZS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?i(e.key,n):1,r&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ut{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??ut.RED,this.left=r??Ut.EMPTY_NODE,this.right=o??Ut.EMPTY_NODE}copy(e,n,i,r,o){return new ut(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return o<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class _N{copy(e,n,i,r,o){return this}insert(e,n,i){return new ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Jl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Jl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Jl(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new _N;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e){return Jr(t.name,e.name)}function Jm(t,e){return Jr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp;function vN(t){cp=t}const qS=function(t){return typeof t=="number"?"number:"+IS(t):"string:"+t},GS=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&qn(e,".sv"),"Priority must be a string or number.")}else B(t===cp||t.isEmpty(),"priority of unexpected type.");B(t===cp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;class at{constructor(e,n=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),GS(this.priorityNode_)}static set __childrenNodeConstructor(e){Xy=e}static get __childrenNodeConstructor(){return Xy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new at(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:ue(e)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ue(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(B(i!==".priority"||er(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=IS(this.value_):e+=this.value_,this.lazyHash_=SS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===at.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof at.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=at.VALUE_TYPE_ORDER.indexOf(n),o=at.VALUE_TYPE_ORDER.indexOf(i);return B(r>=0,"Unknown leaf type: "+n),B(o>=0,"Unknown leaf type: "+i),r===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KS,YS;function yN(t){KS=t}function wN(t){YS=t}class EN extends nh{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?Jr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Br,new at("[PRIORITY-POST]",YS))}makePost(e,n){const i=KS(e);return new ce(n,new at("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ve=new EN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=Math.log(2);class SN{constructor(e){const n=o=>parseInt(Math.log(o)/TN,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sc=function(t,e,n,i){t.sort(e);const r=function(h,f){const m=f-h;let _,g;if(m===0)return null;if(m===1)return _=t[h],g=n?n(_):_,new ut(g,_.node,ut.BLACK,null,null);{const E=parseInt(m/2,10)+h,w=r(h,E),C=r(E+1,f);return _=t[E],g=n?n(_):_,new ut(g,_.node,ut.BLACK,w,C)}},o=function(h){let f=null,m=null,_=t.length;const g=function(w,C){const O=_-w,T=_;_-=w;const y=r(O+1,T),I=t[O],R=n?n(I):I;E(new ut(R,I.node,C,null,y))},E=function(w){f?(f.left=w,f=w):(m=w,f=w)};for(let w=0;w<h.count;++w){const C=h.nextBitIsOne(),O=Math.pow(2,h.count-(w+1));C?g(O,ut.BLACK):(g(O,ut.BLACK),g(O,ut.RED))}return m},a=new SN(t.length),u=o(a);return new Ut(i||e,u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd;const ds={};class ri{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(ds&&Ve,"ChildrenNode.ts has not been loaded"),Hd=Hd||new ri({".priority":ds},{".priority":Ve}),Hd}get(e){const n=Ys(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return qn(this.indexSet_,e.toString())}addIndex(e,n){B(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=n.getIterator(ce.Wrap);let a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=o.getNext();let u;r?u=sc(i,e.getCompare()):u=ds;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const m=Object.assign({},this.indexes_);return m[h]=u,new ri(m,f)}addToIndexes(e,n){const i=Ju(this.indexes_,(r,o)=>{const a=Ys(this.indexSet_,o);if(B(a,"Missing index implementation for "+o),r===ds)if(a.isDefinedOn(e.node)){const u=[],h=n.getIterator(ce.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&u.push(f),f=h.getNext();return u.push(e),sc(u,a.getCompare())}else return ds;else{const u=n.get(e.name);let h=r;return u&&(h=h.remove(new ce(e.name,u))),h.insert(e,e.node)}});return new ri(i,this.indexSet_)}removeFromIndexes(e,n){const i=Ju(this.indexes_,r=>{if(r===ds)return r;{const o=n.get(e.name);return o?r.remove(new ce(e.name,o)):r}});return new ri(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;class ne{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&GS(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ho||(Ho=new ne(new Ut(Jm),null,ri.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ho}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ho:n}}getChild(e){const n=ue(e);return n===null?this:this.getImmediateChild(n).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ce(e,n);let r,o;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const a=r.isEmpty()?Ho:this.priorityNode_;return new ne(r,a,o)}}updateChild(e,n){const i=ue(e);if(i===null)return n;{B(ue(e)!==".priority"||er(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Le(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,o=!0;if(this.forEachChild(Ve,(a,u)=>{n[a]=u.val(e),i++,o&&ne.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*i){const a=[];for(const u in n)a[u]=n[u];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qS(this.getPriority().val())+":"),this.forEachChild(Ve,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":SS(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const o=r.getPredecessorKey(new ce(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ce(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ce.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)<0;)r.getNext(),o=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let o=r.peek();for(;o!=null&&n.compare(o,e)>0;)r.getNext(),o=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===al?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ve),r=n.getIterator(Ve);let o=i.getNext(),a=r.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=r.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CN extends ne{constructor(){super(new Ut(Jm),ne.EMPTY_NODE,ri.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const al=new CN;Object.defineProperties(ce,{MIN:{value:new ce(Qs,ne.EMPTY_NODE)},MAX:{value:new ce(Br,al)}});ZS.__EMPTY_NODE=ne.EMPTY_NODE;at.__childrenNodeConstructor=ne;vN(al);wN(al);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=!0;function ct(t,e=null){if(t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new at(n,ct(e))}if(!(t instanceof Array)&&IN){const n=[];let i=!1;if(wt(t,(a,u)=>{if(a.substring(0,1)!=="."){const h=ct(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ce(a,h)))}}),n.length===0)return ne.EMPTY_NODE;const o=sc(n,gN,a=>a.name,Jm);if(i){const a=sc(n,Ve.getCompare());return new ne(o,ct(e),new ri({".priority":a},{".priority":Ve}))}else return new ne(o,ct(e),ri.Default)}else{let n=ne.EMPTY_NODE;return wt(t,(i,r)=>{if(qn(t,i)&&i.substring(0,1)!=="."){const o=ct(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(ct(e))}}yN(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN extends nh{constructor(e){super(),this.indexPath_=e,B(!de(e)&&ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?Jr(e.name,n.name):o}makePost(e,n){const i=ct(e),r=ne.EMPTY_NODE.updateChild(this.indexPath_,i);return new ce(n,r)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,al);return new ce(Br,e)}toString(){return ja(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN extends nh{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Jr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,n){const i=ct(e);return new ce(n,i)}toString(){return".value"}}const bN=new xN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){return{type:"value",snapshotNode:t}}function Xs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ha(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Wa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.index_=e}updateChild(e,n,i,r,o,a){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(n);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(a!=null&&(i.isEmpty()?e.hasChild(n)?a.trackChildChange(Ha(n,u)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(Xs(n,i)):a.trackChildChange(Wa(n,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ve,(r,o)=>{n.hasChild(r)||i.trackChildChange(Ha(r,o))}),n.isLeafNode()||n.forEachChild(Ve,(r,o)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(o)||i.trackChildChange(Wa(r,o,a))}else i.trackChildChange(Xs(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.indexedFilter_=new e_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$a.getStartPost_(e),this.endPost_=$a.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,a){return this.matches(new ce(n,i))||(i=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,a)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ne.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(ne.EMPTY_NODE);const o=this;return n.forEachChild(Ve,(a,u)=>{o.matches(new ce(a,u))||(r=r.updateImmediateChild(a,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new $a(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,a){return this.rangedFilter_.matches(new ce(n,i))||(i=ne.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,a):this.fullLimitUpdateChild_(e,n,i,o,a)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=ne.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u))if(this.withinDirectionalEnd(u))r=r.updateImmediateChild(u.name,u.node),a++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(ne.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let a=0;for(;o.hasNext();){const u=o.getNext();a<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?a++:r=r.updateImmediateChild(u.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let a;if(this.reverse_){const _=this.index_.getCompare();a=(g,E)=>_(E,g)}else a=this.index_.getCompare();const u=e;B(u.numChildren()===this.limit_,"");const h=new ce(n,i),f=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),m=this.rangedFilter_.matches(h);if(u.hasChild(n)){const _=u.getImmediateChild(n);let g=r.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||u.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const E=g==null?1:a(g,h);if(m&&!i.isEmpty()&&E>=0)return o!=null&&o.trackChildChange(Wa(n,i,_)),u.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(Ha(n,_));const C=u.updateImmediateChild(n,ne.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(o!=null&&o.trackChildChange(Xs(g.name,g.node)),C.updateImmediateChild(g.name,g.node)):C}}else return i.isEmpty()?e:m&&a(f,h)>=0?(o!=null&&(o.trackChildChange(Ha(f.name,f.node)),o.trackChildChange(Xs(n,i))),u.updateImmediateChild(n,i).updateImmediateChild(f.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Qs}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const e=new t_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LN(t){return t.loadsAllData()?new e_(t.getIndex()):t.hasLimit()?new RN(t):new $a(t)}function Jy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===bN?n="$value":t.index_===Us?n="$key":(B(t.index_ instanceof PN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ht(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=ht(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+ht(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=ht(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+ht(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ew(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends HS{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ol("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=oc.getListenId_(e,i),u={};this.listens_[a]=u;const h=Jy(e._queryParams);this.restRequest_(o+".json",h,(f,m)=>{let _=m;if(f===404&&(_=null,f=null),f===null&&this.onDataUpdate_(o,_,!1,i),Ys(this.listens_,a)===u){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",r(g,null)}})}unlisten(e,n){const i=oc.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Jy(e._queryParams),i=e._path.toString(),r=new rl;return this.restRequest_(i+".json",n,(o,a)=>{let u=a;o===404&&(u=null,o=null),o===null?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+co(n);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&u.readyState===4){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=Fa(u.responseText)}catch{Rt("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else u.status!==401&&u.status!==404&&Rt("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(){return{value:null,children:new Map}}function XS(t,e,n){if(de(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ue(e);t.children.has(i)||t.children.set(i,ac());const r=t.children.get(i);e=Le(e),XS(r,e,n)}}function hp(t,e,n){t.value!==null?n(e,t.value):AN(t,(i,r)=>{const o=new Ie(e.toString()+"/"+i);hp(r,o,n)})}function AN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&wt(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=10*1e3,MN=30*1e3,DN=5*60*1e3;class FN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new NN(e);const i=tw+(MN-tw)*Math.random();fa(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;wt(e,(r,o)=>{o>0&&qn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*DN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(En||(En={}));function n_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function i_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function r_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=En.ACK_USER_WRITE,this.source=n_()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ie(e));return new lc(Te(),n,this.revert)}}else return B(ue(this.path)===e,"operationForChild called for unrelated child."),new lc(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.source=e,this.path=n,this.type=En.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Va(this.source,Te()):new Va(this.source,Le(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=En.OVERWRITE}operationForChild(e){return de(this.path)?new jr(this.source,Te(),this.snap.getImmediateChild(e)):new jr(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=En.MERGE}operationForChild(e){if(de(this.path)){const n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new jr(this.source,Te(),n.value):new Js(this.source,Te(),n)}else return B(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Js(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const n=ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function zN(t,e,n,i){const r=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(kN(a.childName,a.snapshotNode))}),Wo(t,r,"child_removed",e,i,n),Wo(t,r,"child_added",e,i,n),Wo(t,r,"child_moved",o,i,n),Wo(t,r,"child_changed",e,i,n),Wo(t,r,"value",e,i,n),r}function Wo(t,e,n,i,r,o){const a=i.filter(u=>u.type===n);a.sort((u,h)=>jN(t,u,h)),a.forEach(u=>{const h=BN(t,u,o);r.forEach(f=>{f.respondsTo(u.type)&&e.push(f.createEvent(h,t.query_))})})}function BN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function jN(t,e,n){if(e.childName==null||n.childName==null)throw uo("Should only compare child_ events.");const i=new ce(e.childName,e.snapshotNode),r=new ce(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e){return{eventCache:t,serverCache:e}}function pa(t,e,n,i){return ih(new Hr(e,n,i),t.serverCache)}function JS(t,e,n,i){return ih(t.eventCache,new Hr(e,n,i))}function dp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;const HN=()=>(Wd||(Wd=new Ut(PA)),Wd);class Re{constructor(e,n=HN()){this.value=e,this.children=n}static fromObject(e){let n=new Re(null);return wt(e,(i,r)=>{n=n.set(new Ie(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Te(),value:this.value};if(de(e))return null;{const i=ue(e),r=this.children.get(i);if(r!==null){const o=r.findRootMostMatchingPathAndValue(Le(e),n);return o!=null?{path:$e(new Ie(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const n=ue(e),i=this.children.get(n);return i!==null?i.subtree(Le(e)):new Re(null)}}set(e,n){if(de(e))return new Re(n,this.children);{const i=ue(e),o=(this.children.get(i)||new Re(null)).set(Le(e),n),a=this.children.insert(i,o);return new Re(this.value,a)}}remove(e){if(de(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=ue(e),i=this.children.get(n);if(i){const r=i.remove(Le(e));let o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new Re(null):new Re(this.value,o)}else return this}}get(e){if(de(e))return this.value;{const n=ue(e),i=this.children.get(n);return i?i.get(Le(e)):null}}setTree(e,n){if(de(e))return n;{const i=ue(e),o=(this.children.get(i)||new Re(null)).setTree(Le(e),n);let a;return o.isEmpty()?a=this.children.remove(i):a=this.children.insert(i,o),new Re(this.value,a)}}fold(e){return this.fold_(Te(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_($e(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Te(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(de(e))return null;{const o=ue(e),a=this.children.get(o);return a?a.findOnPath_(Le(e),$e(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Te(),n)}foreachOnPath_(e,n,i){if(de(e))return this;{this.value&&i(n,this.value);const r=ue(e),o=this.children.get(r);return o?o.foreachOnPath_(Le(e),$e(n,r),i):new Re(null)}}foreach(e){this.foreach_(Te(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_($e(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.writeTree_=e}static empty(){return new In(new Re(null))}}function ma(t,e,n){if(de(e))return new In(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let o=i.value;const a=Ft(r,e);return o=o.updateChild(a,n),new In(t.writeTree_.set(r,o))}else{const r=new Re(n),o=t.writeTree_.setTree(e,r);return new In(o)}}}function fp(t,e,n){let i=t;return wt(n,(r,o)=>{i=ma(i,$e(e,r),o)}),i}function nw(t,e){if(de(e))return In.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new In(n)}}function pp(t,e){return es(t,e)!=null}function es(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ft(n.path,e)):null}function iw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(i,r)=>{e.push(new ce(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ce(i,r.value))}),e}function Qi(t,e){if(de(e))return t;{const n=es(t,e);return n!=null?new In(new Re(n)):new In(t.writeTree_.subtree(e))}}function mp(t){return t.writeTree_.isEmpty()}function eo(t,e){return eC(Te(),t.writeTree_,e)}function eC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(B(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=eC($e(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild($e(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){return rC(e,t)}function WN(t,e,n,i,r){B(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=ma(t.visibleWrites,e,n)),t.lastWriteId=i}function $N(t,e,n,i){B(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=fp(t.visibleWrites,e,n),t.lastWriteId=i}function VN(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function ZN(t,e){const n=t.allWrites.findIndex(u=>u.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,a=t.allWrites.length-1;for(;r&&a>=0;){const u=t.allWrites[a];u.visible&&(a>=n&&qN(u,i.path)?r=!1:on(i.path,u.path)&&(o=!0)),a--}if(r){if(o)return GN(t),!0;if(i.snap)t.visibleWrites=nw(t.visibleWrites,i.path);else{const u=i.children;wt(u,h=>{t.visibleWrites=nw(t.visibleWrites,$e(i.path,h))})}return!0}else return!1}function qN(t,e){if(t.snap)return on(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&on($e(t.path,n),e))return!0;return!1}function GN(t){t.visibleWrites=tC(t.allWrites,KN,Te()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function KN(t){return t.visible}function tC(t,e,n){let i=In.empty();for(let r=0;r<t.length;++r){const o=t[r];if(e(o)){const a=o.path;let u;if(o.snap)on(n,a)?(u=Ft(n,a),i=ma(i,u,o.snap)):on(a,n)&&(u=Ft(a,n),i=ma(i,Te(),o.snap.getChild(u)));else if(o.children){if(on(n,a))u=Ft(n,a),i=fp(i,u,o.children);else if(on(a,n))if(u=Ft(a,n),de(u))i=fp(i,Te(),o.children);else{const h=Ys(o.children,ue(u));if(h){const f=h.getChild(Le(u));i=ma(i,Te(),f)}}}else throw uo("WriteRecord should have .snap or .children")}}return i}function nC(t,e,n,i,r){if(!i&&!r){const o=es(t.visibleWrites,e);if(o!=null)return o;{const a=Qi(t.visibleWrites,e);if(mp(a))return n;if(n==null&&!pp(a,Te()))return null;{const u=n||ne.EMPTY_NODE;return eo(a,u)}}}else{const o=Qi(t.visibleWrites,e);if(!r&&mp(o))return n;if(!r&&n==null&&!pp(o,Te()))return null;{const a=function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(on(f.path,e)||on(e,f.path))},u=tC(t.allWrites,a,e),h=n||ne.EMPTY_NODE;return eo(u,h)}}}function YN(t,e,n){let i=ne.EMPTY_NODE;const r=es(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ve,(o,a)=>{i=i.updateImmediateChild(o,a)}),i;if(n){const o=Qi(t.visibleWrites,e);return n.forEachChild(Ve,(a,u)=>{const h=eo(Qi(o,new Ie(a)),u);i=i.updateImmediateChild(a,h)}),iw(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}else{const o=Qi(t.visibleWrites,e);return iw(o).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}}function QN(t,e,n,i,r){B(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=$e(e,n);if(pp(t.visibleWrites,o))return null;{const a=Qi(t.visibleWrites,o);return mp(a)?r.getChild(n):eo(a,r.getChild(n))}}function XN(t,e,n,i){const r=$e(e,n),o=es(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){const a=Qi(t.visibleWrites,r);return eo(a,i.getNode().getImmediateChild(n))}else return null}function JN(t,e){return es(t.visibleWrites,e)}function eM(t,e,n,i,r,o,a){let u;const h=Qi(t.visibleWrites,e),f=es(h,Te());if(f!=null)u=f;else if(n!=null)u=eo(h,n);else return[];if(u=u.withIndex(a),!u.isEmpty()&&!u.isLeafNode()){const m=[],_=a.getCompare(),g=o?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let E=g.getNext();for(;E&&m.length<r;)_(E,i)!==0&&m.push(E),E=g.getNext();return m}else return[]}function tM(){return{visibleWrites:In.empty(),allWrites:[],lastWriteId:-1}}function uc(t,e,n,i){return nC(t.writeTree,t.treePath,e,n,i)}function o_(t,e){return YN(t.writeTree,t.treePath,e)}function rw(t,e,n,i){return QN(t.writeTree,t.treePath,e,n,i)}function cc(t,e){return JN(t.writeTree,$e(t.treePath,e))}function nM(t,e,n,i,r,o){return eM(t.writeTree,t.treePath,e,n,i,r,o)}function a_(t,e,n){return XN(t.writeTree,t.treePath,e,n)}function iC(t,e){return rC($e(t.treePath,e),t.writeTree)}function rC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Wa(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Ha(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Xs(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Wa(i,e.snapshotNode,r.oldSnap));else throw uo("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const sC=new rM;class l_{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return a_(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wr(this.viewCache_),o=nM(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){return{filter:t}}function oM(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function aM(t,e,n,i,r){const o=new iM;let a,u;if(n.type===En.OVERWRITE){const f=n;f.source.fromUser?a=_p(t,e,f.path,f.snap,i,r,o):(B(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered()&&!de(f.path),a=hc(t,e,f.path,f.snap,i,r,u,o))}else if(n.type===En.MERGE){const f=n;f.source.fromUser?a=uM(t,e,f.path,f.children,i,r,o):(B(f.source.fromServer,"Unknown source."),u=f.source.tagged||e.serverCache.isFiltered(),a=gp(t,e,f.path,f.children,i,r,u,o))}else if(n.type===En.ACK_USER_WRITE){const f=n;f.revert?a=dM(t,e,f.path,i,r,o):a=cM(t,e,f.path,f.affectedTree,i,r,o)}else if(n.type===En.LISTEN_COMPLETE)a=hM(t,e,n.path,i,o);else throw uo("Unknown operation type: "+n.type);const h=o.getChanges();return lM(e,a,h),{viewCache:a,changes:h}}function lM(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=dp(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(QS(dp(e)))}}function oC(t,e,n,i,r,o){const a=e.eventCache;if(cc(i,n)!=null)return e;{let u,h;if(de(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Wr(e),m=f instanceof ne?f:ne.EMPTY_NODE,_=o_(i,m);u=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const f=uc(i,Wr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const f=ue(n);if(f===".priority"){B(er(n)===1,"Can't have a priority with additional path components");const m=a.getNode();h=e.serverCache.getNode();const _=rw(i,n,m,h);_!=null?u=t.filter.updatePriority(m,_):u=a.getNode()}else{const m=Le(n);let _;if(a.isCompleteForChild(f)){h=e.serverCache.getNode();const g=rw(i,n,a.getNode(),h);g!=null?_=a.getNode().getImmediateChild(f).updateChild(m,g):_=a.getNode().getImmediateChild(f)}else _=a_(i,f,e.serverCache);_!=null?u=t.filter.updateChild(a.getNode(),f,_,m,r,o):u=a.getNode()}}return pa(e,u,a.isFullyInitialized()||de(n),t.filter.filtersNodes())}}function hc(t,e,n,i,r,o,a,u){const h=e.serverCache;let f;const m=a?t.filter:t.filter.getIndexedFilter();if(de(n))f=m.updateFullNode(h.getNode(),i,null);else if(m.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);f=m.updateFullNode(h.getNode(),E,null)}else{const E=ue(n);if(!h.isCompleteForPath(n)&&er(n)>1)return e;const w=Le(n),O=h.getNode().getImmediateChild(E).updateChild(w,i);E===".priority"?f=m.updatePriority(h.getNode(),O):f=m.updateChild(h.getNode(),E,O,w,sC,null)}const _=JS(e,f,h.isFullyInitialized()||de(n),m.filtersNodes()),g=new l_(r,_,o);return oC(t,_,n,r,g,u)}function _p(t,e,n,i,r,o,a){const u=e.eventCache;let h,f;const m=new l_(r,e,o);if(de(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,a),h=pa(e,f,!0,t.filter.filtersNodes());else{const _=ue(n);if(_===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=pa(e,f,u.isFullyInitialized(),u.isFiltered());else{const g=Le(n),E=u.getNode().getImmediateChild(_);let w;if(de(g))w=i;else{const C=m.getCompleteChild(_);C!=null?Ym(g)===".priority"&&C.getChild($S(g)).isEmpty()?w=C:w=C.updateChild(g,i):w=ne.EMPTY_NODE}if(E.equals(w))h=e;else{const C=t.filter.updateChild(u.getNode(),_,w,g,m,a);h=pa(e,C,u.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function sw(t,e){return t.eventCache.isCompleteForChild(e)}function uM(t,e,n,i,r,o,a){let u=e;return i.foreach((h,f)=>{const m=$e(n,h);sw(e,ue(m))&&(u=_p(t,u,m,f,r,o,a))}),i.foreach((h,f)=>{const m=$e(n,h);sw(e,ue(m))||(u=_p(t,u,m,f,r,o,a))}),u}function ow(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function gp(t,e,n,i,r,o,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;de(n)?f=i:f=new Re(null).setTree(n,i);const m=e.serverCache.getNode();return f.children.inorderTraversal((_,g)=>{if(m.hasChild(_)){const E=e.serverCache.getNode().getImmediateChild(_),w=ow(t,E,g);h=hc(t,h,new Ie(_),w,r,o,a,u)}}),f.children.inorderTraversal((_,g)=>{const E=!e.serverCache.isCompleteForChild(_)&&g.value===null;if(!m.hasChild(_)&&!E){const w=e.serverCache.getNode().getImmediateChild(_),C=ow(t,w,g);h=hc(t,h,new Ie(_),C,r,o,a,u)}}),h}function cM(t,e,n,i,r,o,a){if(cc(r,n)!=null)return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(de(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return hc(t,e,n,h.getNode().getChild(n),r,o,u,a);if(de(n)){let f=new Re(null);return h.getNode().forEachChild(Us,(m,_)=>{f=f.set(new Ie(m),_)}),gp(t,e,n,f,r,o,u,a)}else return e}else{let f=new Re(null);return i.foreach((m,_)=>{const g=$e(n,m);h.isCompleteForPath(g)&&(f=f.set(m,h.getNode().getChild(g)))}),gp(t,e,n,f,r,o,u,a)}}function hM(t,e,n,i,r){const o=e.serverCache,a=JS(e,o.getNode(),o.isFullyInitialized()||de(n),o.isFiltered());return oC(t,a,n,i,sC,r)}function dM(t,e,n,i,r,o){let a;if(cc(i,n)!=null)return e;{const u=new l_(i,e,r),h=e.eventCache.getNode();let f;if(de(n)||ue(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=uc(i,Wr(e));else{const _=e.serverCache.getNode();B(_ instanceof ne,"serverChildren would be complete if leaf node"),m=o_(i,_)}m=m,f=t.filter.updateFullNode(h,m,o)}else{const m=ue(n);let _=a_(i,m,e.serverCache);_==null&&e.serverCache.isCompleteForChild(m)&&(_=h.getImmediateChild(m)),_!=null?f=t.filter.updateChild(h,m,_,Le(n),u,o):e.eventCache.getNode().hasChild(m)?f=t.filter.updateChild(h,m,ne.EMPTY_NODE,Le(n),u,o):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=uc(i,Wr(e)),a.isLeafNode()&&(f=t.filter.updateFullNode(f,a,o)))}return a=e.serverCache.isFullyInitialized()||cc(i,Te())!=null,pa(e,f,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new e_(i.getIndex()),o=LN(i);this.processor_=sM(o);const a=n.serverCache,u=n.eventCache,h=r.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),f=o.updateFullNode(ne.EMPTY_NODE,u.getNode(),null),m=new Hr(h,a.isFullyInitialized(),r.filtersNodes()),_=new Hr(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=ih(_,m),this.eventGenerator_=new UN(this.query_)}get query(){return this.query_}}function pM(t){return t.viewCache_.serverCache.getNode()}function mM(t,e){const n=Wr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!de(e)&&!n.getImmediateChild(ue(e)).isEmpty())?n.getChild(e):null}function aw(t){return t.eventRegistrations_.length===0}function _M(t,e){t.eventRegistrations_.push(e)}function lw(t,e,n){const i=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,r);a&&i.push(a)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))r.push(a);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function uw(t,e,n,i){e.type===En.MERGE&&e.source.queryId!==null&&(B(Wr(t.viewCache_),"We should always have a full cache before handling merges"),B(dp(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,o=aM(t.processor_,r,e,n,i);return oM(t.processor_,o.viewCache),B(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,aC(t,o.changes,o.viewCache.eventCache.getNode(),null)}function gM(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ve,(o,a)=>{i.push(Xs(o,a))}),n.isFullyInitialized()&&i.push(QS(n.getNode())),aC(t,i,n.getNode(),e)}function aC(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return zN(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc;class vM{constructor(){this.views=new Map}}function yM(t){B(!dc,"__referenceConstructor has already been defined"),dc=t}function wM(){return B(dc,"Reference.ts has not been loaded"),dc}function EM(t){return t.views.size===0}function u_(t,e,n,i){const r=e.source.queryId;if(r!==null){const o=t.views.get(r);return B(o!=null,"SyncTree gave us an op for an invalid query."),uw(o,e,n,i)}else{let o=[];for(const a of t.views.values())o=o.concat(uw(a,e,n,i));return o}}function TM(t,e,n,i,r){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let u=uc(n,r?i:null),h=!1;u?h=!0:i instanceof ne?(u=o_(n,i),h=!1):(u=ne.EMPTY_NODE,h=!1);const f=ih(new Hr(u,h,!1),new Hr(i,r,!1));return new fM(e,f)}return a}function SM(t,e,n,i,r,o){const a=TM(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),_M(a,n),gM(a,n)}function CM(t,e,n,i){const r=e._queryIdentifier,o=[];let a=[];const u=tr(t);if(r==="default")for(const[h,f]of t.views.entries())a=a.concat(lw(f,n,i)),aw(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||o.push(f.query));else{const h=t.views.get(r);h&&(a=a.concat(lw(h,n,i)),aw(h)&&(t.views.delete(r),h.query._queryParams.loadsAllData()||o.push(h.query)))}return u&&!tr(t)&&o.push(new(wM())(e._repo,e._path)),{removed:o,events:a}}function lC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function zs(t,e){let n=null;for(const i of t.views.values())n=n||mM(i,e);return n}function uC(t,e){if(e._queryParams.loadsAllData())return rh(t);{const i=e._queryIdentifier;return t.views.get(i)}}function cC(t,e){return uC(t,e)!=null}function tr(t){return rh(t)!=null}function rh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;function IM(t){B(!fc,"__referenceConstructor has already been defined"),fc=t}function PM(){return B(fc,"Reference.ts has not been loaded"),fc}let xM=1;class cw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=tM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hC(t,e,n,i,r){return WN(t.pendingWriteTree_,e,n,i,r),r?fo(t,new jr(n_(),e,n)):[]}function bM(t,e,n,i){$N(t.pendingWriteTree_,e,n,i);const r=Re.fromObject(n);return fo(t,new Js(n_(),e,r))}function zi(t,e,n=!1){const i=VN(t.pendingWriteTree_,e);if(ZN(t.pendingWriteTree_,e)){let o=new Re(null);return i.snap!=null?o=o.set(Te(),!0):wt(i.children,a=>{o=o.set(new Ie(a),!0)}),fo(t,new lc(i.path,o,n))}else return[]}function sh(t,e,n){return fo(t,new jr(i_(),e,n))}function kM(t,e,n){const i=Re.fromObject(n);return fo(t,new Js(i_(),e,i))}function RM(t,e){return fo(t,new Va(i_(),e))}function LM(t,e,n){const i=h_(t,n);if(i){const r=d_(i),o=r.path,a=r.queryId,u=Ft(o,e),h=new Va(r_(a),u);return f_(t,o,h)}else return[]}function vp(t,e,n,i,r=!1){const o=e._path,a=t.syncPointTree_.get(o);let u=[];if(a&&(e._queryIdentifier==="default"||cC(a,e))){const h=CM(a,e,n,i);EM(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const f=h.removed;if(u=h.events,!r){const m=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(g,E)=>tr(E));if(m&&!_){const g=t.syncPointTree_.subtree(o);if(!g.isEmpty()){const E=NM(g);for(let w=0;w<E.length;++w){const C=E[w],O=C.query,T=pC(t,C);t.listenProvider_.startListening(_a(O),pc(t,O),T.hashFn,T.onComplete)}}}!_&&f.length>0&&!i&&(m?t.listenProvider_.stopListening(_a(e),null):f.forEach(g=>{const E=t.queryToTagMap.get(oh(g));t.listenProvider_.stopListening(_a(g),E)}))}MM(t,f)}return u}function OM(t,e,n,i){const r=h_(t,i);if(r!=null){const o=d_(r),a=o.path,u=o.queryId,h=Ft(a,e),f=new jr(r_(u),h,n);return f_(t,a,f)}else return[]}function AM(t,e,n,i){const r=h_(t,i);if(r){const o=d_(r),a=o.path,u=o.queryId,h=Ft(a,e),f=Re.fromObject(n),m=new Js(r_(u),h,f);return f_(t,a,m)}else return[]}function hw(t,e,n,i=!1){const r=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(r,(g,E)=>{const w=Ft(g,r);o=o||zs(E,w),a=a||tr(E)});let u=t.syncPointTree_.get(r);u?(a=a||tr(u),o=o||zs(u,Te())):(u=new vM,t.syncPointTree_=t.syncPointTree_.set(r,u));let h;o!=null?h=!0:(h=!1,o=ne.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((E,w)=>{const C=zs(w,Te());C&&(o=o.updateImmediateChild(E,C))}));const f=cC(u,e);if(!f&&!e._queryParams.loadsAllData()){const g=oh(e);B(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const E=DM();t.queryToTagMap.set(g,E),t.tagToQueryMap.set(E,g)}const m=s_(t.pendingWriteTree_,r);let _=SM(u,e,n,m,o,h);if(!f&&!a&&!i){const g=uC(u,e);_=_.concat(FM(t,e,g))}return _}function c_(t,e,n){const r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,u)=>{const h=Ft(a,e),f=zs(u,h);if(f)return f});return nC(r,e,o,n,!0)}function fo(t,e){return dC(e,t.syncPointTree_,null,s_(t.pendingWriteTree_,Te()))}function dC(t,e,n,i){if(de(t.path))return fC(t,e,n,i);{const r=e.get(Te());n==null&&r!=null&&(n=zs(r,Te()));let o=[];const a=ue(t.path),u=t.operationForChild(a),h=e.children.get(a);if(h&&u){const f=n?n.getImmediateChild(a):null,m=iC(i,a);o=o.concat(dC(u,h,f,m))}return r&&(o=o.concat(u_(r,t,i,n))),o}}function fC(t,e,n,i){const r=e.get(Te());n==null&&r!=null&&(n=zs(r,Te()));let o=[];return e.children.inorderTraversal((a,u)=>{const h=n?n.getImmediateChild(a):null,f=iC(i,a),m=t.operationForChild(a);m&&(o=o.concat(fC(m,u,h,f)))}),r&&(o=o.concat(u_(r,t,i,n))),o}function pC(t,e){const n=e.query,i=pc(t,n);return{hashFn:()=>(pM(e)||ne.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?LM(t,n._path,i):RM(t,n._path);{const o=kA(r,n);return vp(t,n,null,o)}}}}function pc(t,e){const n=oh(e);return t.queryToTagMap.get(n)}function oh(t){return t._path.toString()+"$"+t._queryIdentifier}function h_(t,e){return t.tagToQueryMap.get(e)}function d_(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function f_(t,e,n){const i=t.syncPointTree_.get(e);B(i,"Missing sync point for query tag that we're tracking");const r=s_(t.pendingWriteTree_,e);return u_(i,n,r,null)}function NM(t){return t.fold((e,n,i)=>{if(n&&tr(n))return[rh(n)];{let r=[];return n&&(r=lC(n)),wt(i,(o,a)=>{r=r.concat(a)}),r}})}function _a(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(PM())(t._repo,t._path):t}function MM(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=oh(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function DM(){return xM++}function FM(t,e,n){const i=e._path,r=pc(t,e),o=pC(t,n),a=t.listenProvider_.startListening(_a(e),r,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(i);if(r)B(!tr(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((f,m,_)=>{if(!de(f)&&m&&tr(m))return[rh(m).query];{let g=[];return m&&(g=g.concat(lC(m).map(E=>E.query))),wt(_,(E,w)=>{g=g.concat(w)}),g}});for(let f=0;f<h.length;++f){const m=h[f];t.listenProvider_.stopListening(_a(m),pc(t,m))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new p_(n)}node(){return this.node_}}class m_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=$e(this.path_,e);return new m_(this.syncTree_,n)}node(){return c_(this.syncTree_,this.path_)}}const UM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},dw=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return zM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BM(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},zM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},BM=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&B(!1,"Unexpected increment value: "+i);const r=e.node();if(B(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return typeof a!="number"?i:a+i},mC=function(t,e,n,i){return __(e,new m_(n,t),i)},_C=function(t,e,n){return __(t,new p_(e),n)};function __(t,e,n){const i=t.getPriority().val(),r=dw(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,u=dw(a.getValue(),e,n);return u!==a.getValue()||r!==a.getPriority().val()?new at(u,ct(r)):t}else{const a=t;return o=a,r!==a.getPriority().val()&&(o=o.updatePriority(new at(r))),a.forEachChild(Ve,(u,h)=>{const f=__(h,e.getImmediateChild(u),n);f!==h&&(o=o.updateImmediateChild(u,f))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function v_(t,e){let n=e instanceof Ie?e:new Ie(e),i=t,r=ue(n);for(;r!==null;){const o=Ys(i.node.children,r)||{children:{},childCount:0};i=new g_(r,i,o),n=Le(n),r=ue(n)}return i}function po(t){return t.node.value}function gC(t,e){t.node.value=e,yp(t)}function vC(t){return t.node.childCount>0}function jM(t){return po(t)===void 0&&!vC(t)}function ah(t,e){wt(t.node.children,(n,i)=>{e(new g_(n,t,i))})}function yC(t,e,n,i){n&&!i&&e(t),ah(t,r=>{yC(r,e,!0,i)}),n&&i&&e(t)}function HM(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ll(t){return new Ie(t.parent===null?t.name:ll(t.parent)+"/"+t.name)}function yp(t){t.parent!==null&&WM(t.parent,t.name,t)}function WM(t,e,n){const i=jM(n),r=qn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,yp(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,yp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/[\[\].#$\/\u0000-\u001F\u007F]/,VM=/[\[\].#$\u0000-\u001F\u007F]/,$d=10*1024*1024,y_=function(t){return typeof t=="string"&&t.length!==0&&!$M.test(t)},wC=function(t){return typeof t=="string"&&t.length!==0&&!VM.test(t)},ZM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wC(t)},qM=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Vm(t)||t&&typeof t=="object"&&qn(t,".sv")},GM=function(t,e,n,i){i&&e===void 0||lh(Yc(t,"value"),e,n)},lh=function(t,e,n){const i=n instanceof Ie?new uN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+gr(i));if(typeof e=="function")throw new Error(t+"contains a function "+gr(i)+" with contents = "+e.toString());if(Vm(e))throw new Error(t+"contains "+e.toString()+" "+gr(i));if(typeof e=="string"&&e.length>$d/3&&Qc(e)>$d)throw new Error(t+"contains a string greater than "+$d+" utf8 bytes "+gr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(wt(e,(a,u)=>{if(a===".value")r=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!y_(a)))throw new Error(t+" contains an invalid key ("+a+") "+gr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cN(i,a),lh(t,u,i),hN(i)}),r&&o)throw new Error(t+' contains ".value" child '+gr(i)+" in addition to actual children.")}},KM=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const o=ja(i);for(let a=0;a<o.length;a++)if(!(o[a]===".priority"&&a===o.length-1)){if(!y_(o[a]))throw new Error(t+"contains an invalid key ("+o[a]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(lN);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&on(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},YM=function(t,e,n,i){if(i&&e===void 0)return;const r=Yc(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];wt(e,(a,u)=>{const h=new Ie(a);if(lh(r,u,$e(n,h)),Ym(h)===".priority"&&!qM(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(h)}),KM(r,o)},EC=function(t,e,n,i){if(!(i&&n===void 0)&&!wC(n))throw new Error(Yc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QM=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),EC(t,e,n,i)},XM=function(t,e){if(ue(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},JM=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!y_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ZM(n))throw new Error(Yc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uh(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();n!==null&&!Qm(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function TC(t,e,n){uh(t,n),SC(t,i=>Qm(i,e))}function bn(t,e,n){uh(t,n),SC(t,i=>on(i,e)||on(e,i))}function SC(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const o=r.path;e(o)?(tD(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function tD(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();br&&gt("event: "+n.toString()),ho(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="repo_interrupt",iD=25;class rD{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ac(),this.transactionQueueTree_=new g_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function sD(t,e,n){if(t.stats_=Gm(t.repoInfo_),t.forceRestClient_||AA())t.server_=new oc(t.repoInfo_,(i,r,o,a)=>{fw(t,i,r,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>pw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new li(t.repoInfo_,e,(i,r,o,a)=>{fw(t,i,r,o,a)},i=>{pw(t,i)},i=>{aD(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=UA(t.repoInfo_,()=>new FN(t.stats_,t.server_)),t.infoData_=new ON,t.infoSyncTree_=new cw({startListening:(i,r,o,a)=>{let u=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(u=sh(t.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),w_(t,"connected",!1),t.serverSyncTree_=new cw({startListening:(i,r,o,a)=>(t.server_.listen(i,o,r,(u,h)=>{const f=a(u,h);bn(t.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function oD(t){const n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ch(t){return UM({timestamp:oD(t)})}function fw(t,e,n,i,r){t.dataUpdateCount++;const o=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(r)if(i){const h=Ju(n,f=>ct(f));a=AM(t.serverSyncTree_,o,h,r)}else{const h=ct(n);a=OM(t.serverSyncTree_,o,h,r)}else if(i){const h=Ju(n,f=>ct(f));a=kM(t.serverSyncTree_,o,h)}else{const h=ct(n);a=sh(t.serverSyncTree_,o,h)}let u=o;a.length>0&&(u=to(t,o)),bn(t.eventQueue_,u,a)}function pw(t,e){w_(t,"connected",e),e===!1&&cD(t)}function aD(t,e){wt(e,(n,i)=>{w_(t,n,i)})}function w_(t,e,n){const i=new Ie("/.info/"+e),r=ct(n);t.infoData_.updateSnapshot(i,r);const o=sh(t.infoSyncTree_,i,r);bn(t.eventQueue_,i,o)}function E_(t){return t.nextWriteId_++}function lD(t,e,n,i,r){hh(t,"set",{path:e.toString(),value:n,priority:i});const o=ch(t),a=ct(n,i),u=c_(t.serverSyncTree_,e),h=_C(a,u,o),f=E_(t),m=hC(t.serverSyncTree_,e,h,f,!0);uh(t.eventQueue_,m),t.server_.put(e.toString(),a.val(!0),(g,E)=>{const w=g==="ok";w||Rt("set at "+e+" failed: "+g);const C=zi(t.serverSyncTree_,f,!w);bn(t.eventQueue_,e,C),wp(t,r,g,E)});const _=S_(t,e);to(t,_),bn(t.eventQueue_,_,[])}function uD(t,e,n,i){hh(t,"update",{path:e.toString(),value:n});let r=!0;const o=ch(t),a={};if(wt(n,(u,h)=>{r=!1,a[u]=mC($e(e,u),ct(h),t.serverSyncTree_,o)}),r)gt("update() called with empty data.  Don't do anything."),wp(t,i,"ok",void 0);else{const u=E_(t),h=bM(t.serverSyncTree_,e,a,u);uh(t.eventQueue_,h),t.server_.merge(e.toString(),n,(f,m)=>{const _=f==="ok";_||Rt("update at "+e+" failed: "+f);const g=zi(t.serverSyncTree_,u,!_),E=g.length>0?to(t,e):e;bn(t.eventQueue_,E,g),wp(t,i,f,m)}),wt(n,f=>{const m=S_(t,$e(e,f));to(t,m)}),bn(t.eventQueue_,e,[])}}function cD(t){hh(t,"onDisconnectEvents");const e=ch(t),n=ac();hp(t.onDisconnect_,Te(),(r,o)=>{const a=mC(r,o,t.serverSyncTree_,e);XS(n,r,a)});let i=[];hp(n,Te(),(r,o)=>{i=i.concat(sh(t.serverSyncTree_,r,o));const a=S_(t,r);to(t,a)}),t.onDisconnect_=ac(),bn(t.eventQueue_,Te(),i)}function hD(t,e,n){let i;ue(e._path)===".info"?i=hw(t.infoSyncTree_,e,n):i=hw(t.serverSyncTree_,e,n),TC(t.eventQueue_,e._path,i)}function mw(t,e,n){let i;ue(e._path)===".info"?i=vp(t.infoSyncTree_,e,n):i=vp(t.serverSyncTree_,e,n),TC(t.eventQueue_,e._path,i)}function dD(t){t.persistentConnection_&&t.persistentConnection_.interrupt(nD)}function hh(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function wp(t,e,n,i){e&&ho(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let o=r;i&&(o+=": "+i);const a=new Error(o);a.code=r,e(a)}})}function CC(t,e,n){return c_(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function T_(t,e=t.transactionQueueTree_){if(e||dh(t,e),po(e)){const n=PC(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&fD(t,ll(e),n)}else vC(e)&&ah(e,n=>{T_(t,n)})}function fD(t,e,n){const i=n.map(f=>f.currentWriteId),r=CC(t,e,i);let o=r;const a=r.hash();for(let f=0;f<n.length;f++){const m=n[f];B(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Ft(e,m.path);o=o.updateChild(_,m.currentOutputSnapshotRaw)}const u=o.val(!0),h=e;t.server_.put(h.toString(),u,f=>{hh(t,"transaction put response",{path:h.toString(),status:f});let m=[];if(f==="ok"){const _=[];for(let g=0;g<n.length;g++)n[g].status=2,m=m.concat(zi(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&_.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();dh(t,v_(t.transactionQueueTree_,e)),T_(t,t.transactionQueueTree_),bn(t.eventQueue_,e,m);for(let g=0;g<_.length;g++)ho(_[g])}else{if(f==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Rt("transaction at "+h.toString()+" failed: "+f);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=f}to(t,e)}},a)}function to(t,e){const n=IC(t,e),i=ll(n),r=PC(t,n);return pD(t,r,i),i}function pD(t,e,n){if(e.length===0)return;const i=[];let r=[];const a=e.filter(u=>u.status===0).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],f=Ft(n,h.path);let m=!1,_;if(B(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)m=!0,_=h.abortReason,r=r.concat(zi(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=iD)m=!0,_="maxretry",r=r.concat(zi(t.serverSyncTree_,h.currentWriteId,!0));else{const g=CC(t,h.path,a);h.currentInputSnapshot=g;const E=e[u].update(g.val());if(E!==void 0){lh("transaction failed: Data returned ",E,h.path);let w=ct(E);typeof E=="object"&&E!=null&&qn(E,".priority")||(w=w.updatePriority(g.getPriority()));const O=h.currentWriteId,T=ch(t),y=_C(w,g,T);h.currentOutputSnapshotRaw=w,h.currentOutputSnapshotResolved=y,h.currentWriteId=E_(t),a.splice(a.indexOf(O),1),r=r.concat(hC(t.serverSyncTree_,h.path,y,h.currentWriteId,h.applyLocally)),r=r.concat(zi(t.serverSyncTree_,O,!0))}else m=!0,_="nodata",r=r.concat(zi(t.serverSyncTree_,h.currentWriteId,!0))}bn(t.eventQueue_,n,r),r=[],m&&(e[u].status=2,function(g){setTimeout(g,Math.floor(0))}(e[u].unwatcher),e[u].onComplete&&(_==="nodata"?i.push(()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot)):i.push(()=>e[u].onComplete(new Error(_),!1,null))))}dh(t,t.transactionQueueTree_);for(let u=0;u<i.length;u++)ho(i[u]);T_(t,t.transactionQueueTree_)}function IC(t,e){let n,i=t.transactionQueueTree_;for(n=ue(e);n!==null&&po(i)===void 0;)i=v_(i,n),e=Le(e),n=ue(e);return i}function PC(t,e){const n=[];return xC(t,e,n),n.sort((i,r)=>i.order-r.order),n}function xC(t,e,n){const i=po(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);ah(e,r=>{xC(t,r,n)})}function dh(t,e){const n=po(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,gC(e,n.length>0?n:void 0)}ah(e,i=>{dh(t,i)})}function S_(t,e){const n=ll(IC(t,e)),i=v_(t.transactionQueueTree_,e);return HM(i,r=>{Vd(t,r)}),Vd(t,i),yC(i,r=>{Vd(t,r)}),n}function Vd(t,e){const n=po(e);if(n){const i=[];let r=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(B(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(B(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),r=r.concat(zi(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&i.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?gC(e,void 0):n.length=o+1,bn(t.eventQueue_,ll(e),r);for(let a=0;a<i.length;a++)ho(i[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function _D(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Rt(`Invalid query segment '${n}' in query '${t}'`)}return e}const _w=function(t,e){const n=gD(t),i=n.namespace;n.domain==="firebase.com"&&mi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&mi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CA();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new MS(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Ie(n.pathString)}},gD=function(t){let e="",n="",i="",r="",o="",a=!0,u="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));let m=t.indexOf("/");m===-1&&(m=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(m,_)),m<_&&(r=mD(t.substring(m,_)));const g=_D(t.substring(Math.min(t.length,_)));f=e.indexOf(":"),f>=0?(a=u==="https"||u==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const w=e.indexOf(".");i=e.substring(0,w).toLowerCase(),n=e.substring(w+1),o=i}"ns"in g&&(o=g.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:a,scheme:u,pathString:r,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ht(this.snapshot.exportVal())}}class kC{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return de(this._path)?null:Ym(this._path)}get ref(){return new vi(this._repo,this._path)}get _queryIdentifier(){const e=ew(this._queryParams),n=Zm(e);return n==="{}"?"default":n}get _queryObject(){return ew(this._queryParams)}isEqual(e){if(e=Qe(e),!(e instanceof C_))return!1;const n=this._repo===e._repo,i=Qm(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+aN(this._path)}}class vi extends C_{constructor(e,n){super(e,n,new t_,!1)}get parent(){const e=$S(this._path);return e===null?null:new vi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Za{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ie(e),i=mc(this.ref,e);return new Za(this._node.getChild(n),i,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Za(r,mc(this.ref,i),Ve)))}hasChild(e){const n=new Ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function RC(t,e){return t=Qe(t),t._checkNotDeleted("ref"),e!==void 0?mc(t._root,e):t._root}function mc(t,e){return t=Qe(t),ue(t._path)===null?QM("child","path",e,!1):EC("child","path",e,!1),new vi(t._repo,$e(t._path,e))}function yD(t,e){t=Qe(t),XM("set",t._path),GM("set",e,t._path,!1);const n=new rl;return lD(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function wD(t,e){YM("update",e,t._path,!1);const n=new rl;return uD(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class I_{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new bC("value",this,new Za(e.snapshotNode,new vi(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kC(this,e,n):null}matches(e){return e instanceof I_?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class P_{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new kC(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const i=mc(new vi(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new bC(e.type,this,new Za(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof P_?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function ED(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){const h=n,f=(m,_)=>{mw(t._repo,t,u),h(m,_)};f.userCallback=n.userCallback,f.context=n.context,n=f}const a=new vD(n,o||void 0),u=e==="value"?new I_(a):new P_(e,a);return hD(t._repo,t,u),()=>mw(t._repo,t,u)}function TD(t,e,n,i){return ED(t,"value",e,n,i)}yM(vi);IM(vi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="FIREBASE_DATABASE_EMULATOR_HOST",Ep={};let CD=!1;function ID(t,e,n,i){t.repoInfo_=new MS(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function PD(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||mi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=_w(o,r),u=a.repoInfo,h,f;typeof process<"u"&&process.env&&(f=process.env[SD]),f?(h=!0,o=`http://${f}?ns=${u.namespace}`,a=_w(o,r),u=a.repoInfo):h=!a.repoInfo.secure;const m=r&&h?new Fs(Fs.OWNER):new MA(t.name,t.options,e);JM("Invalid Firebase Database URL",a),de(a.path)||mi("Database URL must point to the root of a Firebase Database (not including a child path).");const _=bD(u,t,m,new NA(t.name,n));return new kD(_,t)}function xD(t,e){const n=Ep[e];(!n||n[t.key]!==t)&&mi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dD(t),delete n[t.key]}function bD(t,e,n,i){let r=Ep[e.name];r||(r={},Ep[e.name]=r);let o=r[t.toURLString()];return o&&mi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new rD(t,CD,n,i),r[t.toURLString()]=o,o}class kD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vi(this._repo,Te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(xD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mi("Cannot call "+e+" on a deleted database.")}}function RD(t=Jc(),e){const n=sr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=DT("database");i&&LD(n,...i)}return n}function LD(t,e,n,i={}){t=Qe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&mi("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&mi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Fs(Fs.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:zT(i.mockUserToken,t.app.options.projectId);o=new Fs(a)}ID(r,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){yA(Xr),xn(new hn("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return PD(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Ht(Fy,Uy,t),Ht(Fy,Uy,"esm2017")}li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebasestorage.googleapis.com",OC="storageBucket",AD=2*60*1e3,ND=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends Rn{constructor(e,n,i=0){super(Zd(e),`Firebase Storage: ${n} (${Zd(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function Zd(t){return"storage/"+t}function x_(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(Ze.UNKNOWN,t)}function MD(t){return new qe(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function DD(t){return new qe(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(Ze.UNAUTHENTICATED,t)}function UD(){return new qe(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zD(t){return new qe(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function BD(){return new qe(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jD(){return new qe(Ze.CANCELED,"User canceled the upload/download.")}function HD(t){return new qe(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function WD(t){return new qe(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $D(){return new qe(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OC+"' property when initializing the app?")}function VD(){return new qe(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZD(){return new qe(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qD(t){return new qe(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tp(t){return new qe(Ze.INVALID_ARGUMENT,t)}function AC(){return new qe(Ze.APP_DELETED,"The Firebase app was deleted.")}function GD(t){return new qe(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ga(t,e){return new qe(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $o(t){throw new qe(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Zt.makeFromUrl(e,n)}catch{return new Zt(e,"")}if(i.path==="")return i;throw WD(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+r+a,"i"),h={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${m}/b/${r}/o${g}`,"i"),w={bucket:1,path:3},C=n===LC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",T=new RegExp(`^https?://${C}/${r}/${O}`,"i"),I=[{regex:u,indices:h,postModify:o},{regex:E,indices:w,postModify:f},{regex:T,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<I.length;R++){const U=I[R],j=U.regex.exec(e);if(j){const H=j[U.indices.bucket];let F=j[U.indices.path];F||(F=""),i=new Zt(H,F),U.postModify(i);break}}if(i==null)throw HD(e);return i}}class KD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e,n){let i=1,r=null,o=null,a=!1,u=0;function h(){return u===2}let f=!1;function m(...O){f||(f=!0,e.apply(null,O))}function _(O){r=setTimeout(()=>{r=null,t(E,h())},O)}function g(){o&&clearTimeout(o)}function E(O,...T){if(f){g();return}if(O){g(),m.call(null,O,...T);return}if(h()||a){g(),m.call(null,O,...T);return}i<64&&(i*=2);let I;u===1?(u=2,I=0):I=(i+Math.random())*1e3,_(I)}let w=!1;function C(O){w||(w=!0,g(),!f&&(r!==null?(O||(u=2),clearTimeout(r),_(0)):O||(u=1)))}return _(0),o=setTimeout(()=>{a=!0,C(!0)},n),C}function QD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){return t!==void 0}function JD(t){return typeof t=="object"&&!Array.isArray(t)}function b_(t){return typeof t=="string"||t instanceof String}function gw(t){return k_()&&t instanceof Blob}function k_(){return typeof Blob<"u"&&!yR()}function vw(t,e,n,i){if(i<e)throw Tp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Tp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function NC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(kr||(kr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n,i,r,o,a,u,h,f,m,_,g=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,w)=>{this.resolve_=E,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new eu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===kr.NO_ERROR,h=o.getStatus();if(!u||eF(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===kr.ABORT;i(!1,new eu(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new eu(f,o))})},n=(i,r)=>{const o=this.resolve_,a=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());XD(h)?o(h):o()}catch(h){a(h)}else if(u!==null){const h=x_();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(r.canceled){const h=this.appDelete_?AC():jD();a(h)}else{const h=BD();a(h)}};this.canceled_?n(!1,new eu(!1,null,!0)):this.backoffId_=YD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eu{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function nF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oF(t,e,n,i,r,o,a=!0){const u=NC(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return rF(f,e),nF(f,n),iF(f,o),sF(f,i),new tF(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lF(...t){const e=aF();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(k_())return new Blob(t);throw new qe(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){if(typeof atob>"u")throw qD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qd{constructor(e,n){this.data=e,this.contentType=n||null}}function hF(t,e){switch(t){case Bn.RAW:return new qd(MC(e));case Bn.BASE64:case Bn.BASE64URL:return new qd(DC(t,e));case Bn.DATA_URL:return new qd(fF(e),pF(e))}throw x_()}function MC(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,a=t.charCodeAt(++n);i=65536|(o&1023)<<10|a&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function dF(t){let e;try{e=decodeURIComponent(t)}catch{throw ga(Bn.DATA_URL,"Malformed data URL.")}return MC(e)}function DC(t,e){switch(t){case Bn.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw ga(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw ga(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cF(e)}catch(r){throw r.message.includes("polyfill")?r:ga(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class FC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ga(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=mF(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function fF(t){const e=new FC(t);return e.base64?DC(Bn.BASE64,e.rest):dF(e.rest)}function pF(t){return new FC(t).contentType}function mF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){let i=0,r="";gw(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(gw(this.data_)){const i=this.data_,r=uF(i,e,n);return r===null?null:new Li(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Li(i,!0)}}static getBlob(...e){if(k_()){const n=e.map(i=>i instanceof Li?i.data_:i);return new Li(lF.apply(null,n))}else{const n=e.map(a=>b_(a)?hF(Bn.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)r[o++]=a[u]}),new Li(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){let e;try{e=JSON.parse(t)}catch{return null}return JD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gF(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function zC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){return e}class xt{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||vF}}let tu=null;function yF(t){return!b_(t)||t.length<2?t:zC(t)}function BC(){if(tu)return tu;const t=[];t.push(new xt("bucket")),t.push(new xt("generation")),t.push(new xt("metageneration")),t.push(new xt("name","fullPath",!0));function e(o,a){return yF(a)}const n=new xt("name");n.xform=e,t.push(n);function i(o,a){return a!==void 0?Number(a):a}const r=new xt("size");return r.xform=i,t.push(r),t.push(new xt("timeCreated")),t.push(new xt("updated")),t.push(new xt("md5Hash",null,!0)),t.push(new xt("cacheControl",null,!0)),t.push(new xt("contentDisposition",null,!0)),t.push(new xt("contentEncoding",null,!0)),t.push(new xt("contentLanguage",null,!0)),t.push(new xt("contentType",null,!0)),t.push(new xt("metadata","customMetadata",!0)),tu=t,tu}function wF(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Zt(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function EF(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const a=n[o];i[a.local]=a.xform(i,e[a.server])}return wF(i,t),i}function jC(t,e,n){const i=UC(e);return i===null?null:EF(t,i,n)}function TF(t,e,n,i){const r=UC(e);if(r===null||!b_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,_=t.fullPath,g="/b/"+a(m)+"/o/"+a(_),E=R_(g,n,i),w=NC({alt:"media",token:f});return E+w})[0]}function SF(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class HC{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t){if(!t)throw x_()}function CF(t,e){function n(i,r){const o=jC(t,r,e);return WC(o!==null),o}return n}function IF(t,e){function n(i,r){const o=jC(t,r,e);return WC(o!==null),TF(o,r,t.host,t._protocol)}return n}function $C(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=UD():r=FD():n.getStatus()===402?r=DD(t.bucket):n.getStatus()===403?r=zD(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function PF(t){const e=$C(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=MD(t.path)),o.serverResponse=r.serverResponse,o}return n}function xF(t,e,n){const i=e.fullServerUrl(),r=R_(i,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new HC(r,o,IF(t,n),a);return u.errorHandler=PF(e),u}function bF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function kF(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=bF(null,e)),i}function RF(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const h=u();a["Content-Type"]="multipart/related; boundary="+h;const f=kF(e,i,r),m=SF(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+h+"--",E=Li.getBlob(_,i,g);if(E===null)throw VD();const w={name:f.fullPath},C=R_(o,t.host,t._protocol),O="POST",T=t.maxUploadRetryTime,y=new HC(C,O,CF(t,n),T);return y.urlParams=w,y.headers=a,y.body=E.uploadData(),y.errorHandler=$C(e),y}class LF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=kr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=kr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=kr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw $o("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $o("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $o("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $o("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $o("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OF extends LF{initXhr(){this.xhr_.responseType="text"}}function VC(){return new OF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $r(e,n)}get root(){const e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zC(this._location.path)}get storage(){return this._service}get parent(){const e=_F(this._location.path);if(e===null)return null;const n=new Zt(this._location.bucket,e);return new $r(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw GD(e)}}function AF(t,e,n){t._throwIfRoot("uploadBytes");const i=RF(t.storage,t._location,BC(),new Li(e,!0),n);return t.storage.makeRequestWithTokens(i,VC).then(r=>({metadata:r,ref:t}))}function NF(t){t._throwIfRoot("getDownloadURL");const e=xF(t.storage,t._location,BC());return t.storage.makeRequestWithTokens(e,VC).then(n=>{if(n===null)throw ZD();return n})}function MF(t,e){const n=gF(t._location.path,e),i=new Zt(t._location.bucket,n);return new $r(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){return/^[A-Za-z]+:\/\//.test(t)}function FF(t,e){return new $r(t,e)}function ZC(t,e){if(t instanceof L_){const n=t;if(n._bucket==null)throw $D();const i=new $r(n,n._bucket);return e!=null?ZC(i,e):i}else return e!==void 0?MF(t,e):t}function UF(t,e){if(e&&DF(e)){if(t instanceof L_)return FF(t,e);throw Tp("To use ref(service, url), the first argument must be a Storage instance.")}else return ZC(t,e)}function yw(t,e){const n=e==null?void 0:e[OC];return n==null?null:Zt.makeFromBucketSpec(n,t)}function zF(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:zT(r,t.app.options.projectId))}class L_{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=LC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AD,this._maxUploadRetryTime=ND,this._requests=new Set,r!=null?this._bucket=Zt.makeFromBucketSpec(r,this._host):this._bucket=yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $r(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new KD(AC());{const a=oF(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const ww="@firebase/storage",Ew="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="storage";function BF(t,e,n){return t=Qe(t),AF(t,e,n)}function jF(t){return t=Qe(t),NF(t)}function Sp(t,e){return t=Qe(t),UF(t,e)}function HF(t=Jc(),e){t=Qe(t);const i=sr(t,qC).getImmediate({identifier:e}),r=DT("storage");return r&&WF(i,...r),i}function WF(t,e,n,i={}){zF(t,e,n,i)}function $F(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new L_(n,i,r,e,Xr)}function VF(){xn(new hn(qC,$F,"PUBLIC").setMultipleInstances(!0)),Ht(ww,Ew,""),Ht(ww,Ew,"esm2017")}VF();function O_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function GC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZF=GC,KC=new Qr("auth","Firebase",GC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Xc("@firebase/auth");function qF(t,...e){_c.logLevel<=Ce.WARN&&_c.warn(`Auth (${Xr}): ${t}`,...e)}function _u(t,...e){_c.logLevel<=Ce.ERROR&&_c.error(`Auth (${Xr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw A_(t,...e)}function $n(t,...e){return A_(t,...e)}function GF(t,e,n){const i=Object.assign(Object.assign({},ZF()),{[e]:n});return new Qr("auth","Firebase",i).create(e,{appName:t.name})}function A_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return KC.create(t,...e)}function X(t,e,...n){if(!t)throw A_(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _u(e),new Error(e)}function _i(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KF(){return Tw()==="http:"||Tw()==="https:"}function Tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||BT()||"connection"in navigator)?navigator.onLine:!0}function QF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=Fm()||jT()}get(){return YF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new ul(3e4,6e4);function yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wi(t,e,n,i,r={}){return QC(t,r,async()=>{let o={},a={};i&&(e==="GET"?a=i:o={body:JSON.stringify(i)});const u=co(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),YC.fetch()(XC(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function QC(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},XF),e);try{const r=new t2(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw nu(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw nu(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw nu(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw nu(t,"user-disabled",a);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw GF(t,m,f);kn(t,m)}}catch(r){if(r instanceof Rn)throw r;kn(t,"network-request-failed",{message:String(r)})}}async function cl(t,e,n,i,r={}){const o=await wi(t,e,n,i,r);return"mfaPendingCredential"in o&&kn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function XC(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?N_(t.config,r):`${t.config.apiScheme}://${r}`}function e2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class t2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i($n(this.auth,"network-request-failed")),JF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=$n(t,e,i);return r.customData._tokenResponse=n,r}function Sw(t){return t!==void 0&&t.enterprise!==void 0}class n2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return e2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function i2(t,e){return wi(t,"GET","/v2/recaptchaConfig",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e){return wi(t,"POST","/v1/accounts:delete",e)}async function s2(t,e){return wi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function o2(t,e=!1){const n=Qe(t),i=await n.getIdToken(e),r=M_(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:va(Gd(r.auth_time)),issuedAtTime:va(Gd(r.iat)),expirationTime:va(Gd(r.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gd(t){return Number(t)*1e3}function M_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return _u("JWT malformed, contained fewer than 3 sections"),null;try{const r=Xu(n);return r?JSON.parse(r):(_u("Failed to decode base64 JWT payload"),null)}catch(r){return _u("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function a2(t){const e=M_(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Rn&&l2(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function l2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=va(this.lastLoginAt),this.creationTime=va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){var e;const n=t.auth,i=await t.getIdToken(),r=await qa(t,s2(n,{idToken:i}));X(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?d2(o.providerUserInfo):[],u=h2(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new JC(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function c2(t){const e=Qe(t);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h2(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function d2(t){return t.map(e=>{var{providerId:n}=e,i=O_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t,e){const n=await QC(t,{},async()=>{const i=co({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,a=XC(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",YC.fetch()(a,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p2(t,e){return wi(t,"POST","/v2/accounts:revokeToken",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return X(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await f2(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,a=new Ga;return i&&(X(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),o&&(X(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=O_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new JC(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await qa(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return o2(this,e)}reload(){return c2(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qa(this,r2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,a,u,h,f,m;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,O=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,T=(f=n.createdAt)!==null&&f!==void 0?f:void 0,y=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:I,emailVerified:R,isAnonymous:U,providerData:j,stsTokenManager:H}=n;X(I&&H,e,"internal-error");const F=Ga.fromJSON(this.name,H);X(typeof I=="string",e,"internal-error"),Ii(_,e.name),Ii(g,e.name),X(typeof R=="boolean",e,"internal-error"),X(typeof U=="boolean",e,"internal-error"),Ii(E,e.name),Ii(w,e.name),Ii(C,e.name),Ii(O,e.name),Ii(T,e.name),Ii(y,e.name);const W=new Rr({uid:I,auth:e,email:g,emailVerified:R,displayName:_,isAnonymous:U,photoURL:w,phoneNumber:E,tenantId:C,stsTokenManager:F,createdAt:T,lastLoginAt:y});return j&&Array.isArray(j)&&(W.providerData=j.map($=>Object.assign({},$))),O&&(W._redirectEventId=O),W}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ga;r.updateFromServerResponse(n);const o=new Rr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await gc(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function oi(t){_i(t instanceof Function,"Expected a class definition");let e=Cw.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eI.type="NONE";const Iw=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=gu(this.userKey,r.apiKey,o),this.fullPersistenceKey=gu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bs(oi(Iw),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||oi(Iw);const a=gu(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(a);if(m){const _=Rr._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Bs(o,e,i):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Bs(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sI(e))return"Blackberry";if(oI(e))return"Webos";if(D_(e))return"Safari";if((e.includes("chrome/")||nI(e))&&!e.includes("edge/"))return"Chrome";if(rI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function tI(t=It()){return/firefox\//i.test(t)}function D_(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nI(t=It()){return/crios\//i.test(t)}function iI(t=It()){return/iemobile/i.test(t)}function rI(t=It()){return/android/i.test(t)}function sI(t=It()){return/blackberry/i.test(t)}function oI(t=It()){return/webos/i.test(t)}function fh(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m2(t=It()){var e;return fh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _2(){return wR()&&document.documentMode===10}function aI(t=It()){return fh(t)||rI(t)||oI(t)||sI(t)||/windows phone/i.test(t)||iI(t)}function g2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e=[]){let n;switch(t){case"Browser":n=Pw(It());break;case"Worker":n=`${Pw(It())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((a,u)=>{try{const h=e(o);a(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2(t,e={}){return wi(t,"GET","/v2/passwordPolicy",yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=6;class E2{constructor(e){var n,i,r,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:w2,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,a,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new v2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Qe(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y2(this),n=new E2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await p2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return Qe(t)}class xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uI(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=$n("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",S2().appendChild(i)})}function C2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const I2="https://www.google.com/recaptcha/enterprise.js?render=",P2="recaptcha-enterprise",x2="NO_RECAPTCHA";class b2{constructor(e){this.type=P2,this.auth=ts(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{i2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new n2(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,a,u){const h=window.grecaptcha;Sw(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(x2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{i(this.auth).then(u=>{if(!n&&Sw(window.grecaptcha))r(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}uI(I2+u).then(()=>{r(u,o,a)}).catch(h=>{a(h)})}}).catch(u=>{a(u)})})}}async function bw(t,e,n,i=!1){const r=new b2(t);let o;try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a=Object.assign({},e);return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ip(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bw(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bw(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t,e){const n=sr(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Ua(o,e??{}))return r;kn(r,"already-initialized")}return n.initialize({options:e})}function R2(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function L2(t,e,n){const i=ts(t);X(i._canInitEmulator,i,"emulator-config-failed"),X(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),o=cI(e),{host:a,port:u}=O2(e),h=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${a}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||A2()}function cI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O2(t){const e=cI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:kw(i.substr(o.length+1))}}else{const[o,a]=i.split(":");return{host:o,port:kw(a)}}}function kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function N2(t,e){return wi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(t,e){return cl(t,"POST","/v1/accounts:signInWithPassword",yi(t,e))}async function D2(t,e){return wi(t,"POST","/v1/accounts:sendOobCode",yi(t,e))}async function F2(t,e){return D2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}async function z2(t,e){return cl(t,"POST","/v1/accounts:signInWithEmailLink",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends F_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ka(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,n,"signInWithPassword",M2);case"emailLink":return U2(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(e,i,"signUpPassword",N2);case"emailLink":return z2(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return cl(t,"POST","/v1/accounts:signInWithIdp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="http://localhost";class Vr extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=O_(n,["providerId","signInMethod"]);if(!i||!r)return null;const a=new Vr(i,r);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,js(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:B2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=co(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(t){const e=Jo(ea(t)).link,n=e?Jo(ea(e)).deep_link_id:null,i=Jo(ea(t)).deep_link_id;return(i?Jo(ea(i)).link:null)||i||n||e||t}class U_{constructor(e){var n,i,r,o,a,u;const h=Jo(ea(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(i=h.oobCode)!==null&&i!==void 0?i:null,_=j2((r=h.mode)!==null&&r!==void 0?r:null);X(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=H2(e);try{return new U_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=U_.parseLink(n);return X(i,"argument-error"),Ka._fromEmailAndCode(e,i.code,i.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends hI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends hl{constructor(){super("facebook.com")}static credential(e){return Vr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vr._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ai.credential(n,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends hl{constructor(){super("github.com")}static credential(e){return Vr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends hl{constructor(){super("twitter.com")}static credential(e,n){return Vr._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Mi.credential(n,i)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(t,e){return cl(t,"POST","/v1/accounts:signUp",yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Rr._fromIdTokenResponse(e,i,r),a=Rw(i);return new Zr({user:o,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Rw(i);return new Zr({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Rn{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new vc(e,n,i,r)}}function dI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(t,o,e,i):o})}async function $2(t,e,n=!1){const i=await qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const o=await qa(t,dI(i,r,e,t),n);X(o.idToken,i,"internal-error");const a=M_(o.idToken);X(a,i,"internal-error");const{sub:u}=a;return X(t.uid===u,i,"user-mismatch"),Zr._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&kn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(t,e,n=!1){const i="signIn",r=await dI(t,i,e),o=await Zr._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function Z2(t,e){return fI(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e,n){var i;X(((i=n.url)===null||i===void 0?void 0:i.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G2(t,e,n){const i=ts(t),a=await Ip(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&pI(t),h}),u=await Zr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function K2(t,e,n){return Z2(Qe(t),mo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pI(t),i})}async function Y2(t,e){const n=Qe(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&q2(n.auth,r,e);const{email:o}=await F2(n.auth,r);o!==t.email&&await t.reload()}function Q2(t,e,n,i){return Qe(t).onIdTokenChanged(e,n,i)}function X2(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function mI(t,e,n,i){return Qe(t).onAuthStateChanged(e,n,i)}function J2(t){return Qe(t).signOut()}const yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yc,"1"),this.storage.removeItem(yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(){const t=It();return D_(t)||fh(t)}const tU=1e3,nU=10;class gI extends _I{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eU()&&g2(),this.fallbackToPolling=aI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);_2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,nU):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gI.type="LOCAL";const iU=gI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends _I{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vI.type="SESSION";const yI=vI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new ph(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(a).map(async f=>f(n.origin,o)),h=await rU(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const f=z_("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(_){const g=_;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(g.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function oU(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function aU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uU(){return wI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebaseLocalStorageDb",cU=1,wc="firebaseLocalStorage",TI="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mh(t,e){return t.transaction([wc],e?"readwrite":"readonly").objectStore(wc)}function hU(){const t=indexedDB.deleteDatabase(EI);return new dl(t).toPromise()}function Pp(){const t=indexedDB.open(EI,cU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(wc,{keyPath:TI})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(wc)?e(i):(i.close(),await hU(),e(await Pp()))})})}async function Lw(t,e,n){const i=mh(t,!0).put({[TI]:e,value:n});return new dl(i).toPromise()}async function dU(t,e){const n=mh(t,!1).get(e),i=await new dl(n).toPromise();return i===void 0?null:i.value}function Ow(t,e){const n=mh(t,!0).delete(e);return new dl(n).toPromise()}const fU=800,pU=3;class SI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>pU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(uU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aU(),!this.activeServiceWorker)return;this.sender=new sU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pp();return await Lw(e,yc,"1"),await Ow(e,yc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>dU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=mh(r,!1).getAll();return new dl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SI.type="LOCAL";const mU=SI;new ul(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){return e?oi(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends F_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gU(t){return fI(t.auth,new B_(t),t.bypassAuthState)}function vU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),V2(n,new B_(t),t.bypassAuthState)}async function yU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),$2(n,new B_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gU;case"linkViaPopup":case"linkViaRedirect":return yU;case"reauthViaPopup":case"reauthViaRedirect":return vU;default:kn(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new ul(2e3,1e4);class ks extends CI{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wU.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="pendingRedirect",vu=new Map;class TU extends CI{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=vu.get(this.auth._key());if(!e){try{const i=await SU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}vu.set(this.auth._key(),e)}return this.bypassAuthState||vu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SU(t,e){const n=PU(e),i=IU(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function CU(t,e){vu.set(t._key(),e)}function IU(t){return oi(t._redirectPersistence)}function PU(t){return gu(EU,t.config.apiKey,t.name)}async function xU(t,e,n=!1){const i=ts(t),r=_U(i,e),a=await new TU(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=10*60*1e3;class kU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!II(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError($n(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Aw(e))}saveEventToCache(e){this.cachedEventUids.add(Aw(e)),this.lastProcessedEventTime=Date.now()}}function Aw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function II({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return II(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e={}){return wi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AU=/^https?/;async function NU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LU(t);for(const n of e)try{if(MU(n))return}catch{}kn(t,"unauthorized-domain")}function MU(t){const e=Cp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!AU.test(n))return!1;if(OU.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new ul(3e4,6e4);function Nw(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FU(t){return new Promise((e,n)=>{var i,r,o;function a(){Nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nw(),n($n(t,"network-request-failed"))},timeout:DU.get()})}if(!((r=(i=Vn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Vn().gapi)===null||o===void 0)&&o.load)a();else{const u=C2("iframefcb");return Vn()[u]=()=>{gapi.load?a():n($n(t,"network-request-failed"))},uI(`https://apis.google.com/js/api.js?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw yu=null,e})}let yu=null;function UU(t){return yu=yu||FU(t),yu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new ul(5e3,15e3),BU="__/auth/iframe",jU="emulator/auth/iframe",HU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $U(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?N_(e,jU):`https://${t.config.authDomain}/${BU}`,i={apiKey:e.apiKey,appName:t.name,v:Xr},r=WU.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${co(i).slice(1)}`}async function VU(t){const e=await UU(t),n=Vn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:$U(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HU,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const a=$n(t,"network-request-failed"),u=Vn().setTimeout(()=>{o(a)},zU.get());function h(){Vn().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qU=500,GU=600,KU="_blank",YU="http://localhost";class Mw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QU(t,e,n,i=qU,r=GU){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h=Object.assign(Object.assign({},ZU),{width:i.toString(),height:r.toString(),top:o,left:a}),f=It().toLowerCase();n&&(u=nI(f)?KU:n),tI(f)&&(e=e||YU,h.scrollbars="yes");const m=Object.entries(h).reduce((g,[E,w])=>`${g}${E}=${w},`,"");if(m2(f)&&u!=="_self")return XU(e||"",u),new Mw(null);const _=window.open(e||"",u,m);X(_,t,"popup-blocked");try{_.focus()}catch{}return new Mw(_)}function XU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="__/auth/handler",ez="emulator/auth/handler",tz=encodeURIComponent("fac");async function Dw(t,e,n,i,r,o){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Xr,eventId:r};if(e instanceof hI){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Xf(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries(o||{}))a[m]=_}if(e instanceof hl){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${tz}=${encodeURIComponent(h)}`:"";return`${nz(t)}?${co(u).slice(1)}${f}`}function nz({config:t}){return t.emulator?N_(t,ez):`https://${t.authDomain}/${JU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="webStorageSupport";class iz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yI,this._completeRedirectFn=xU,this._overrideRedirectResult=CU}async _openPopup(e,n,i,r){var o;_i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Dw(e,n,i,Cp(),r);return QU(e,a,z_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Dw(e,n,i,Cp(),r);return oU(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(_i(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await VU(e),i=new kU(e);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kd,{type:Kd},r=>{var o;const a=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Kd];a!==void 0&&n(!!a),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aI()||D_()||fh()}}const rz=iz;var Fw="@firebase/auth",Uw="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function az(t){xn(new hn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=i.options;X(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lI(t)},f=new T2(i,r,o,h);return R2(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),xn(new hn("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(i=>new sz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ht(Fw,Uw,oz(t)),Ht(Fw,Uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=5*60,uz=UT("authIdTokenMaxAge")||lz;let zw=null;const cz=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>uz)return;const r=n==null?void 0:n.token;zw!==r&&(zw=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function hz(t=Jc()){const e=sr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k2(t,{popupRedirectResolver:rz,persistence:[mU,iU,yI]}),i=UT("authTokenSyncURL");if(i){const o=cz(i);X2(n,o,()=>o(n.currentUser)),Q2(n,a=>o(a))}const r=MT("auth");return r&&L2(n,`http://${r}`),n}az("Browser");const dz={apiKey:"AIzaSyCjm7x_X4VrlT4C93nhfjMmYQcQhqT0ybU",authDomain:"skatespots-56bd6.firebaseapp.com",databaseURL:"https://skatespots-56bd6-default-rtdb.firebaseio.com",projectId:"skatespots-56bd6",storageBucket:"skatespots-56bd6.appspot.com",messagingSenderId:"439071919444",appId:"1:439071919444:web:97b6b6d8a1d619ebddccc1",measurementId:"G-10PTTR6QYZ"},_h=GT(dz);mA(_h);const PI=RD(_h),xp=HF(_h),qr=hz(_h);function gh(){Gc();const[t,e]=b.useState(null);b.useEffect(()=>{const i=mI(qr,r=>{e(r||null)});return()=>{i()}},[]);const n=()=>{J2(qr).then(()=>{console.log("Sign out successful."),e(null)}).catch(i=>console.log(i))};return P.jsxs("nav",{className:"nav",children:[P.jsxs("div",{children:[P.jsx("a",{href:"/spot-seeker/",className:"titleSite",children:"Spot Seeker"}),P.jsx("img",{className:"board",src:"src\\assets\\board.png"})]}),P.jsxs("ul",{children:[P.jsx("li",{children:P.jsx("a",{href:"/spot-seeker/#submit",children:P.jsx("button",{className:"navButtons",id:"submitButton",children:"Submit a Spot"})})}),P.jsx("li",{children:t!==null?P.jsx("div",{children:P.jsx("button",{className:"navButtons",onClick:n,id:"submitButton",children:"Logout"})}):P.jsxs("ul",{children:[P.jsx("a",{href:"/spot-seeker/#login",children:P.jsx("button",{className:"navButtons",id:"loginButton",children:"Login"})}),P.jsx("a",{href:"/spot-seeker/#register",children:P.jsx("button",{className:"navButtons",id:"regButton",children:"Register"})})]})})]})]})}function fz(){const[t,e]=b.useState(),[n,i]=b.useState(),r=Gc(),o={url:"https://johnson4500.github.io/spot-seeker/",handleCodeInApp:!0},a=u=>{u.preventDefault(),G2(qr,t,n).then(h=>{console.log(h),Y2(qr.currentUser,o).then(()=>{console.log("Email verification link sent!")}),r("/")}).catch(h=>{console.log(h)})};return P.jsxs(b.Fragment,{children:[P.jsx(gh,{}),P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsx("br",{}),P.jsx("h2",{id:"topText",children:"Register"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:a,children:[P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:u=>e(u.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{children:"Password"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",minlength:"6",onChange:u=>i(u.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Register"})]}),P.jsx("a",{href:"/spot-seeker/#login",children:P.jsx("button",{id:"regButt",className:"buttons",children:"Already Have an Account"})})]})})]})}function pz(){const[t,e]=b.useState(),[n,i]=b.useState(),[r,o]=b.useState("inputFields"),a=Gc(),u=h=>{h.preventDefault(),K2(qr,t,n).then(f=>{f.user,a("/")}).catch(f=>{console.log(f),o("invalid")})};return P.jsxs(b.Fragment,{children:[P.jsx(gh,{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("br",{}),P.jsx("div",{className:"Login",children:P.jsxs("div",{className:"container",children:[P.jsx("h2",{id:"logintext",children:"Login"}),P.jsx("br",{}),P.jsxs("form",{onSubmit:u,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Email"})}),P.jsx("br",{}),P.jsx("input",{className:r,type:"email",placeholder:"Enter Email",autoComplete:"off",name:"email",onChange:h=>e(h.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email",children:P.jsx("strong",{className:"labels",children:"Password"})}),P.jsx("br",{}),P.jsx("input",{type:"password",placeholder:"Enter Password",autoComplete:"off",name:"password",className:r,onChange:h=>i(h.target.value)})]}),P.jsx("br",{}),r=="invalid"?P.jsx("div",{children:"Invalid email and/or password!"}):P.jsx("div",{}),P.jsx("button",{id:"logButt",className:"buttons",type:"submit",children:"Login"})]}),P.jsx("a",{href:"/spot-seeker/#register",children:P.jsx("button",{className:"buttons",id:"regButt",children:"Register"})})]})})]})}var bp={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(qx,function(n){var i="1.9.4";function r(s){var l,c,d,p;for(c=1,d=arguments.length;c<d;c++){p=arguments[c];for(l in p)s[l]=p[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var c=Array.prototype.slice;if(s.bind)return s.bind.apply(s,c.call(arguments,1));var d=c.call(arguments,2);return function(){return s.apply(l,d.length?d.concat(c.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,c){var d,p,v,S;return S=function(){d=!1,p&&(v.apply(c,p),p=!1)},v=function(){d?p=arguments:(s.apply(c,arguments),setTimeout(S,l),d=!0)},v}function m(s,l,c){var d=l[1],p=l[0],v=d-p;return s===d&&c?s:((s-p)%v+v)%v+p}function _(){return!1}function g(s,l){if(l===!1)return s;var c=Math.pow(10,l===void 0?6:l);return Math.round(s*c)/c}function E(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return E(s).split(/\s+/)}function C(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var c in l)s.options[c]=l[c];return s.options}function O(s,l,c){var d=[];for(var p in s)d.push(encodeURIComponent(c?p.toUpperCase():p)+"="+encodeURIComponent(s[p]));return(!l||l.indexOf("?")===-1?"?":"&")+d.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function y(s,l){return s.replace(T,function(c,d){var p=l[d];if(p===void 0)throw new Error("No value provided for variable "+c);return typeof p=="function"&&(p=p(l)),p})}var I=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function R(s,l){for(var c=0;c<s.length;c++)if(s[c]===l)return c;return-1}var U="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function F(s){var l=+new Date,c=Math.max(0,16-(l-H));return H=l+c,window.setTimeout(s,c)}var W=window.requestAnimationFrame||j("RequestAnimationFrame")||F,$=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Z(s,l,c){if(c&&W===F)s.call(l);else return W.call(window,a(s,l))}function ae(s){s&&$.call(window,s)}var be={__proto__:null,extend:r,create:o,bind:a,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:g,trim:E,splitWords:w,setOptions:C,getParamString:O,template:y,isArray:I,indexOf:R,emptyImageUrl:U,requestFn:W,cancelFn:$,requestAnimFrame:Z,cancelAnimFrame:ae};function te(){}te.extend=function(s){var l=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=l.__super__=this.prototype,d=o(c);d.constructor=l,l.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(l[p]=this[p]);return s.statics&&r(l,s.statics),s.includes&&(Pe(s.includes),r.apply(null,[d].concat(s.includes))),r(d,s),delete d.statics,delete d.includes,d.options&&(d.options=c.options?o(c.options):{},r(d.options,s.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,S=d._initHooks.length;v<S;v++)d._initHooks[v].call(this)}},l},te.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},te.mergeOptions=function(s){return r(this.prototype.options,s),this},te.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),c=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Pe(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=I(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xe={on:function(s,l,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],l);else{s=w(s);for(var p=0,v=s.length;p<v;p++)this._on(s[p],l,c)}return this},off:function(s,l,c){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var d in s)this._off(d,s[d],l);else{s=w(s);for(var p=arguments.length===1,v=0,S=s.length;v<S;v++)p?this._off(s[v]):this._off(s[v],l,c)}return this},_on:function(s,l,c,d){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,c)===!1){c===this&&(c=void 0);var p={fn:l,ctx:c};d&&(p.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(p)}},_off:function(s,l,c){var d,p,v;if(this._events&&(d=this._events[s],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,v=d.length;p<v;p++)d[p].fn=_;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var S=this._listens(s,l,c);if(S!==!1){var x=d[S];this._firingCount&&(x.fn=_,this._events[s]=d=d.slice()),d.splice(S,1)}}},fire:function(s,l,c){if(!this.listens(s,c))return this;var d=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var p=this._events[s];if(p){this._firingCount=this._firingCount+1||1;for(var v=0,S=p.length;v<S;v++){var x=p[v],k=x.fn;x.once&&this.off(s,k,x.ctx),k.call(x.ctx||this,d)}this._firingCount--}}return c&&this._propagateEvent(d),this},listens:function(s,l,c,d){typeof s!="string"&&console.warn('"string" type argument expected');var p=l;typeof l!="function"&&(d=!!l,p=void 0,c=void 0);var v=this._events&&this._events[s];if(v&&v.length&&this._listens(s,p,c)!==!1)return!0;if(d){for(var S in this._eventParents)if(this._eventParents[S].listens(s,l,c,d))return!0}return!1},_listens:function(s,l,c){if(!this._events)return!1;var d=this._events[s]||[];if(!l)return!!d.length;c===this&&(c=void 0);for(var p=0,v=d.length;p<v;p++)if(d[p].fn===l&&d[p].ctx===c)return p;return!1},once:function(s,l,c){if(typeof s=="object")for(var d in s)this._on(d,s[d],l,!0);else{s=w(s);for(var p=0,v=s.length;p<v;p++)this._on(s[p],l,c,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};xe.addEventListener=xe.on,xe.removeEventListener=xe.clearAllEventListeners=xe.off,xe.addOneTimeEventListener=xe.once,xe.fireEvent=xe.fire,xe.hasEventListeners=xe.listens;var Me=te.extend(xe);function A(s,l,c){this.x=c?Math.round(s):s,this.y=c?Math.round(l):l}var G=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(s){return this.clone()._add(D(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(D(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new A(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new A(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(s){s=D(s);var l=s.x-this.x,c=s.y-this.y;return Math.sqrt(l*l+c*c)},equals:function(s){return s=D(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=D(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function D(s,l,c){return s instanceof A?s:I(s)?new A(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new A(s.x,s.y):new A(s,l,c)}function J(s,l){if(s)for(var c=l?[s,l]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}J.prototype={extend:function(s){var l,c;if(!s)return this;if(s instanceof A||typeof s[0]=="number"||"x"in s)l=c=D(s);else if(s=me(s),l=s.min,c=s.max,!l||!c)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=c.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(s){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,c;return typeof s[0]=="number"||s instanceof A?s=D(s):s=me(s),s instanceof J?(l=s.min,c=s.max):l=c=s,l.x>=this.min.x&&c.x<=this.max.x&&l.y>=this.min.y&&c.y<=this.max.y},intersects:function(s){s=me(s);var l=this.min,c=this.max,d=s.min,p=s.max,v=p.x>=l.x&&d.x<=c.x,S=p.y>=l.y&&d.y<=c.y;return v&&S},overlaps:function(s){s=me(s);var l=this.min,c=this.max,d=s.min,p=s.max,v=p.x>l.x&&d.x<c.x,S=p.y>l.y&&d.y<c.y;return v&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,c=this.max,d=Math.abs(l.x-c.x)*s,p=Math.abs(l.y-c.y)*s;return me(D(l.x-d,l.y-p),D(c.x+d,c.y+p))},equals:function(s){return s?(s=me(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function me(s,l){return!s||s instanceof J?s:new J(s,l)}function Ge(s,l){if(s)for(var c=l?[s,l]:s,d=0,p=c.length;d<p;d++)this.extend(c[d])}Ge.prototype={extend:function(s){var l=this._southWest,c=this._northEast,d,p;if(s instanceof he)d=s,p=s;else if(s instanceof Ge){if(d=s._southWest,p=s._northEast,!d||!p)return this}else return s?this.extend(ie(s)||Ee(s)):this;return!l&&!c?(this._southWest=new he(d.lat,d.lng),this._northEast=new he(p.lat,p.lng)):(l.lat=Math.min(d.lat,l.lat),l.lng=Math.min(d.lng,l.lng),c.lat=Math.max(p.lat,c.lat),c.lng=Math.max(p.lng,c.lng)),this},pad:function(s){var l=this._southWest,c=this._northEast,d=Math.abs(l.lat-c.lat)*s,p=Math.abs(l.lng-c.lng)*s;return new Ge(new he(l.lat-d,l.lng-p),new he(c.lat+d,c.lng+p))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof he||"lat"in s?s=ie(s):s=Ee(s);var l=this._southWest,c=this._northEast,d,p;return s instanceof Ge?(d=s.getSouthWest(),p=s.getNorthEast()):d=p=s,d.lat>=l.lat&&p.lat<=c.lat&&d.lng>=l.lng&&p.lng<=c.lng},intersects:function(s){s=Ee(s);var l=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),v=p.lat>=l.lat&&d.lat<=c.lat,S=p.lng>=l.lng&&d.lng<=c.lng;return v&&S},overlaps:function(s){s=Ee(s);var l=this._southWest,c=this._northEast,d=s.getSouthWest(),p=s.getNorthEast(),v=p.lat>l.lat&&d.lat<c.lat,S=p.lng>l.lng&&d.lng<c.lng;return v&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Ee(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(s,l){return s instanceof Ge?s:new Ge(s,l)}function he(s,l,c){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,c!==void 0&&(this.alt=+c)}he.prototype={equals:function(s,l){if(!s)return!1;s=ie(s);var c=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return c<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return Ln.distance(this,ie(s))},wrap:function(){return Ln.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,c=l/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-l,this.lng-c],[this.lat+l,this.lng+c])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function ie(s,l,c){return s instanceof he?s:I(s)&&typeof s[0]!="object"?s.length===3?new he(s[0],s[1],s[2]):s.length===2?new he(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new he(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new he(s,l,c)}var nt={latLngToPoint:function(s,l){var c=this.projection.project(s),d=this.scale(l);return this.transformation._transform(c,d)},pointToLatLng:function(s,l){var c=this.scale(l),d=this.transformation.untransform(s,c);return this.projection.unproject(d)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,c=this.scale(s),d=this.transformation.transform(l.min,c),p=this.transformation.transform(l.max,c);return new J(d,p)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,c=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,d=s.alt;return new he(c,l,d)},wrapLatLngBounds:function(s){var l=s.getCenter(),c=this.wrapLatLng(l),d=l.lat-c.lat,p=l.lng-c.lng;if(d===0&&p===0)return s;var v=s.getSouthWest(),S=s.getNorthEast(),x=new he(v.lat-d,v.lng-p),k=new he(S.lat-d,S.lng-p);return new Ge(x,k)}},Ln=r({},nt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var c=Math.PI/180,d=s.lat*c,p=l.lat*c,v=Math.sin((l.lat-s.lat)*c/2),S=Math.sin((l.lng-s.lng)*c/2),x=v*v+Math.cos(d)*Math.cos(p)*S*S,k=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*k}}),or=6378137,go={R:or,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,c=this.MAX_LATITUDE,d=Math.max(Math.min(c,s.lat),-c),p=Math.sin(d*l);return new A(this.R*s.lng*l,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(s){var l=180/Math.PI;return new he((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=or*Math.PI;return new J([-s,-s],[s,s])}()};function fe(s,l,c,d){if(I(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=c,this._d=d}fe.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new A((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function K(s,l,c,d){return new fe(s,l,c,d)}var ve=r({},Ln,{code:"EPSG:3857",projection:go,transformation:function(){var s=.5/(Math.PI*go.R);return K(s,.5,-s,.5)}()}),Xt=r({},ve,{code:"EPSG:900913"});function Ei(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function ml(s,l){var c="",d,p,v,S,x,k;for(d=0,v=s.length;d<v;d++){for(x=s[d],p=0,S=x.length;p<S;p++)k=x[p],c+=(p?"L":"M")+k.x+" "+k.y;c+=l?Y.svg?"z":"x":""}return c||"M0 0"}var vo=document.documentElement.style,ar="ActiveXObject"in window,Ih=ar&&!document.addEventListener,lr="msLaunchUri"in navigator&&!("documentMode"in document),dn=On("webkit"),_l=On("android"),Y_=On("android 2")||On("android 3"),IP=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),PP=_l&&On("Google")&&IP<537&&!("AudioNode"in window),Ph=!!window.opera,Q_=!lr&&On("chrome"),X_=On("gecko")&&!dn&&!Ph&&!ar,xP=!Q_&&On("safari"),J_=On("phantom"),eg="OTransition"in vo,bP=navigator.platform.indexOf("Win")===0,tg=ar&&"transition"in vo,xh="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Y_,ng="MozPerspective"in vo,kP=!window.L_DISABLE_3D&&(tg||xh||ng)&&!eg&&!J_,yo=typeof orientation<"u"||On("mobile"),RP=yo&&dn,LP=yo&&xh,ig=!window.PointerEvent&&window.MSPointerEvent,rg=!!(window.PointerEvent||ig),sg="ontouchstart"in window||!!window.TouchEvent,OP=!window.L_NO_TOUCH&&(sg||rg),AP=yo&&Ph,NP=yo&&X_,MP=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,DP=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,l),window.removeEventListener("testPassiveEventSupport",_,l)}catch{}return s}(),FP=function(){return!!document.createElement("canvas").getContext}(),bh=!!(document.createElementNS&&Ei("svg").createSVGRect),UP=!!bh&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),zP=!bh&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),BP=navigator.platform.indexOf("Mac")===0,jP=navigator.platform.indexOf("Linux")===0;function On(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Y={ie:ar,ielt9:Ih,edge:lr,webkit:dn,android:_l,android23:Y_,androidStock:PP,opera:Ph,chrome:Q_,gecko:X_,safari:xP,phantom:J_,opera12:eg,win:bP,ie3d:tg,webkit3d:xh,gecko3d:ng,any3d:kP,mobile:yo,mobileWebkit:RP,mobileWebkit3d:LP,msPointer:ig,pointer:rg,touch:OP,touchNative:sg,mobileOpera:AP,mobileGecko:NP,retina:MP,passiveEvents:DP,canvas:FP,svg:bh,vml:zP,inlineSvg:UP,mac:BP,linux:jP},og=Y.msPointer?"MSPointerDown":"pointerdown",ag=Y.msPointer?"MSPointerMove":"pointermove",lg=Y.msPointer?"MSPointerUp":"pointerup",ug=Y.msPointer?"MSPointerCancel":"pointercancel",kh={touchstart:og,touchmove:ag,touchend:lg,touchcancel:ug},cg={touchstart:qP,touchmove:gl,touchend:gl,touchcancel:gl},ns={},hg=!1;function HP(s,l,c){return l==="touchstart"&&ZP(),cg[l]?(c=cg[l].bind(this,c),s.addEventListener(kh[l],c,!1),c):(console.warn("wrong event specified:",l),_)}function WP(s,l,c){if(!kh[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(kh[l],c,!1)}function $P(s){ns[s.pointerId]=s}function VP(s){ns[s.pointerId]&&(ns[s.pointerId]=s)}function dg(s){delete ns[s.pointerId]}function ZP(){hg||(document.addEventListener(og,$P,!0),document.addEventListener(ag,VP,!0),document.addEventListener(lg,dg,!0),document.addEventListener(ug,dg,!0),hg=!0)}function gl(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var c in ns)l.touches.push(ns[c]);l.changedTouches=[l],s(l)}}function qP(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ft(l),gl(s,l)}function GP(s){var l={},c,d;for(d in s)c=s[d],l[d]=c&&c.bind?c.bind(s):c;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var KP=200;function YP(s,l){s.addEventListener("dblclick",l);var c=0,d;function p(v){if(v.detail!==1){d=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var S=gg(v);if(!(S.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!S.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var x=Date.now();x-c<=KP?(d++,d===2&&l(GP(v))):d=1,c=x}}}return s.addEventListener("click",p),{dblclick:l,simDblclick:p}}function QP(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Rh=wl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wo=wl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fg=wo==="webkitTransition"||wo==="OTransition"?wo+"End":"transitionend";function pg(s){return typeof s=="string"?document.getElementById(s):s}function Eo(s,l){var c=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!c||c==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(s,null);c=d?d[l]:null}return c==="auto"?null:c}function we(s,l,c){var d=document.createElement(s);return d.className=l||"",c&&c.appendChild(d),d}function ze(s){var l=s.parentNode;l&&l.removeChild(s)}function vl(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function is(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function rs(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Lh(s,l){if(s.classList!==void 0)return s.classList.contains(l);var c=yl(s);return c.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(c)}function oe(s,l){if(s.classList!==void 0)for(var c=w(l),d=0,p=c.length;d<p;d++)s.classList.add(c[d]);else if(!Lh(s,l)){var v=yl(s);Oh(s,(v?v+" ":"")+l)}}function Ke(s,l){s.classList!==void 0?s.classList.remove(l):Oh(s,E((" "+yl(s)+" ").replace(" "+l+" "," ")))}function Oh(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function yl(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Jt(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&XP(s,l)}function XP(s,l){var c=!1,d="DXImageTransform.Microsoft.Alpha";try{c=s.filters.item(d)}catch{if(l===1)return}l=Math.round(l*100),c?(c.Enabled=l!==100,c.Opacity=l):s.style.filter+=" progid:"+d+"(opacity="+l+")"}function wl(s){for(var l=document.documentElement.style,c=0;c<s.length;c++)if(s[c]in l)return s[c];return!1}function ur(s,l,c){var d=l||new A(0,0);s.style[Rh]=(Y.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(c?" scale("+c+")":"")}function Xe(s,l){s._leaflet_pos=l,Y.any3d?ur(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function cr(s){return s._leaflet_pos||new A(0,0)}var To,So,Ah;if("onselectstart"in document)To=function(){se(window,"selectstart",ft)},So=function(){ke(window,"selectstart",ft)};else{var Co=wl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);To=function(){if(Co){var s=document.documentElement.style;Ah=s[Co],s[Co]="none"}},So=function(){Co&&(document.documentElement.style[Co]=Ah,Ah=void 0)}}function Nh(){se(window,"dragstart",ft)}function Mh(){ke(window,"dragstart",ft)}var El,Dh;function Fh(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Tl(),El=s,Dh=s.style.outlineStyle,s.style.outlineStyle="none",se(window,"keydown",Tl))}function Tl(){El&&(El.style.outlineStyle=Dh,El=void 0,Dh=void 0,ke(window,"keydown",Tl))}function mg(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Uh(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var JP={__proto__:null,TRANSFORM:Rh,TRANSITION:wo,TRANSITION_END:fg,get:pg,getStyle:Eo,create:we,remove:ze,empty:vl,toFront:is,toBack:rs,hasClass:Lh,addClass:oe,removeClass:Ke,setClass:Oh,getClass:yl,setOpacity:Jt,testProp:wl,setTransform:ur,setPosition:Xe,getPosition:cr,get disableTextSelection(){return To},get enableTextSelection(){return So},disableImageDrag:Nh,enableImageDrag:Mh,preventOutline:Fh,restoreOutline:Tl,getSizedParentNode:mg,getScale:Uh};function se(s,l,c,d){if(l&&typeof l=="object")for(var p in l)Bh(s,p,l[p],c);else{l=w(l);for(var v=0,S=l.length;v<S;v++)Bh(s,l[v],c,d)}return this}var An="_leaflet_events";function ke(s,l,c,d){if(arguments.length===1)_g(s),delete s[An];else if(l&&typeof l=="object")for(var p in l)jh(s,p,l[p],c);else if(l=w(l),arguments.length===2)_g(s,function(x){return R(l,x)!==-1});else for(var v=0,S=l.length;v<S;v++)jh(s,l[v],c,d);return this}function _g(s,l){for(var c in s[An]){var d=c.split(/\d/)[0];(!l||l(d))&&jh(s,d,null,null,c)}}var zh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bh(s,l,c,d){var p=l+h(c)+(d?"_"+h(d):"");if(s[An]&&s[An][p])return this;var v=function(x){return c.call(d||s,x||window.event)},S=v;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?v=HP(s,l,v):Y.touch&&l==="dblclick"?v=YP(s,v):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(zh[l]||l,v,Y.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(v=function(x){x=x||window.event,Wh(s,x)&&S(x)},s.addEventListener(zh[l],v,!1)):s.addEventListener(l,S,!1):s.attachEvent("on"+l,v),s[An]=s[An]||{},s[An][p]=v}function jh(s,l,c,d,p){p=p||l+h(c)+(d?"_"+h(d):"");var v=s[An]&&s[An][p];if(!v)return this;!Y.touchNative&&Y.pointer&&l.indexOf("touch")===0?WP(s,l,v):Y.touch&&l==="dblclick"?QP(s,v):"removeEventListener"in s?s.removeEventListener(zh[l]||l,v,!1):s.detachEvent("on"+l,v),s[An][p]=null}function hr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Hh(s){return Bh(s,"wheel",hr),this}function Io(s){return se(s,"mousedown touchstart dblclick contextmenu",hr),s._leaflet_disable_click=!0,this}function ft(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function dr(s){return ft(s),hr(s),this}function gg(s){if(s.composedPath)return s.composedPath();for(var l=[],c=s.target;c;)l.push(c),c=c.parentNode;return l}function vg(s,l){if(!l)return new A(s.clientX,s.clientY);var c=Uh(l),d=c.boundingClientRect;return new A((s.clientX-d.left)/c.x-l.clientLeft,(s.clientY-d.top)/c.y-l.clientTop)}var ex=Y.linux&&Y.chrome?window.devicePixelRatio:Y.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yg(s){return Y.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ex:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Wh(s,l){var c=l.relatedTarget;if(!c)return!0;try{for(;c&&c!==s;)c=c.parentNode}catch{return!1}return c!==s}var tx={__proto__:null,on:se,off:ke,stopPropagation:hr,disableScrollPropagation:Hh,disableClickPropagation:Io,preventDefault:ft,stop:dr,getPropagationPath:gg,getMousePosition:vg,getWheelDelta:yg,isExternalTarget:Wh,addListener:se,removeListener:ke},wg=Me.extend({run:function(s,l,c,d){this.stop(),this._el=s,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=cr(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,c=this._duration*1e3;l<c?this._runFrame(this._easeOut(l/c),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var c=this._startPos.add(this._offset.multiplyBy(s));l&&c._round(),Xe(this._el,c),this.fire("step")},_complete:function(){ae(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),_e=Me.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=C(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ie(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wo&&Y.any3d&&!Y.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),se(this._proxy,fg,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,c){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ie(s),l,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=r({animate:c.animate},c.zoom),c.pan=r({animate:c.animate,duration:c.duration},c.pan));var d=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,c.zoom):this._tryAnimatedPan(s,c.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,c.pan&&c.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Y.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,c){var d=this.getZoomScale(l),p=this.getSize().divideBy(2),v=s instanceof A?s:this.latLngToContainerPoint(s),S=v.subtract(p).multiplyBy(1-1/d),x=this.containerPointToLatLng(p.add(S));return this.setView(x,l,{zoom:c})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Ee(s);var c=D(l.paddingTopLeft||l.padding||[0,0]),d=D(l.paddingBottomRight||l.padding||[0,0]),p=this.getBoundsZoom(s,!1,c.add(d));if(p=typeof l.maxZoom=="number"?Math.min(l.maxZoom,p):p,p===1/0)return{center:s.getCenter(),zoom:p};var v=d.subtract(c).divideBy(2),S=this.project(s.getSouthWest(),p),x=this.project(s.getNorthEast(),p),k=this.unproject(S.add(x).divideBy(2).add(v),p);return{center:k,zoom:p}},fitBounds:function(s,l){if(s=Ee(s),!s.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(s,l);return this.setView(c.center,c.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=D(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){oe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,c,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,c){if(c=c||{},c.animate===!1||!Y.any3d)return this.setView(s,l,c);this._stop();var d=this.project(this.getCenter()),p=this.project(s),v=this.getSize(),S=this._zoom;s=ie(s),l=l===void 0?S:l;var x=Math.max(v.x,v.y),k=x*this.getZoomScale(S,l),M=p.distanceTo(d)||1,V=1.42,ee=V*V;function le(Je){var Nl=Je?-1:1,Wx=Je?k:x,$x=k*k-x*x+Nl*ee*ee*M*M,Vx=2*Wx*ee*M,ed=$x/Vx,ev=Math.sqrt(ed*ed+1)-ed,Zx=ev<1e-9?-18:Math.log(ev);return Zx}function Pt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function ot(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function tn(Je){return Pt(Je)/ot(Je)}var At=le(0);function cs(Je){return x*(ot(At)/ot(At+V*Je))}function zx(Je){return x*(ot(At)*tn(At+V*Je)-Pt(At))/ee}function Bx(Je){return 1-Math.pow(1-Je,1.5)}var jx=Date.now(),Xg=(le(1)-At)/V,Hx=c.duration?1e3*c.duration:1e3*Xg*.8;function Jg(){var Je=(Date.now()-jx)/Hx,Nl=Bx(Je)*Xg;Je<=1?(this._flyToFrame=Z(Jg,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(zx(Nl)/M)),S),this.getScaleZoom(x/cs(Nl),S),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Jg.call(this),this},flyToBounds:function(s,l){var c=this._getBoundsCenterZoom(s,l);return this.flyTo(c.center,c.zoom,l)},setMaxBounds:function(s){return s=Ee(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var c=this.getCenter(),d=this._limitCenter(c,this._zoom,Ee(s));return c.equals(d)||this.panTo(d,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var c=D(l.paddingTopLeft||l.padding||[0,0]),d=D(l.paddingBottomRight||l.padding||[0,0]),p=this.project(this.getCenter()),v=this.project(s),S=this.getPixelBounds(),x=me([S.min.add(c),S.max.subtract(d)]),k=x.getSize();if(!x.contains(v)){this._enforcingBounds=!0;var M=v.subtract(x.getCenter()),V=x.extend(v).getSize().subtract(k);p.x+=M.x<0?-V.x:V.x,p.y+=M.y<0?-V.y:V.y,this.panTo(this.unproject(p),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),d=l.divideBy(2).round(),p=c.divideBy(2).round(),v=d.subtract(p);return!v.x&&!v.y?this:(s.animate&&s.pan?this.panBy(v):(s.pan&&this._rawPanBy(v),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),c=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,c,s):navigator.geolocation.getCurrentPosition(l,c,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,c=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,c=s.coords.longitude,d=new he(l,c),p=d.toBounds(s.coords.accuracy*2),v=this._locateOptions;if(v.setView){var S=this.getBoundsZoom(p);this.setView(d,v.maxZoom?Math.min(S,v.maxZoom):S)}var x={latlng:d,bounds:p,timestamp:s.timestamp};for(var k in s.coords)typeof s.coords[k]=="number"&&(x[k]=s.coords[k]);this.fire("locationfound",x)}},addHandler:function(s,l){if(!l)return this;var c=this[s]=new l(this);return this._handlers.push(c),this.options[s]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ae(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ze(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var c="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),d=we("div",c,l||this._mapPane);return s&&(this._panes[s]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),c=this.unproject(s.getTopRight());return new Ge(l,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,c){s=Ee(s),c=D(c||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),v=this.getMaxZoom(),S=s.getNorthWest(),x=s.getSouthEast(),k=this.getSize().subtract(c),M=me(this.project(x,d),this.project(S,d)).getSize(),V=Y.any3d?this.options.zoomSnap:1,ee=k.x/M.x,le=k.y/M.y,Pt=l?Math.max(ee,le):Math.min(ee,le);return d=this.getScaleZoom(Pt,d),V&&(d=Math.round(d/(V/100))*(V/100),d=l?Math.ceil(d/V)*V:Math.floor(d/V)*V),Math.max(p,Math.min(v,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var c=this._getTopLeftPoint(s,l);return new J(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var c=this.options.crs;return l=l===void 0?this._zoom:l,c.scale(s)/c.scale(l)},getScaleZoom:function(s,l){var c=this.options.crs;l=l===void 0?this._zoom:l;var d=c.zoom(s*c.scale(l));return isNaN(d)?1/0:d},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ie(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(D(s),l)},layerPointToLatLng:function(s){var l=D(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ie(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ie(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ee(s))},distance:function(s,l){return this.options.crs.distance(ie(s),ie(l))},containerPointToLayerPoint:function(s){return D(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return D(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(D(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ie(s)))},mouseEventToContainerPoint:function(s){return vg(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=pg(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");se(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Y.any3d,oe(s,"leaflet-container"+(Y.touch?" leaflet-touch":"")+(Y.retina?" leaflet-retina":"")+(Y.ielt9?" leaflet-oldie":"")+(Y.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Eo(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xe(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(oe(s.markerPane,"leaflet-zoom-hide"),oe(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,c){Xe(this._mapPane,new A(0,0));var d=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var p=this._zoom!==l;this._moveStart(p,c)._move(s,l)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,c,d){l===void 0&&(l=this._zoom);var p=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),d?c&&c.pinch&&this.fire("zoom",c):((p||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ae(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Xe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?ke:se;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Y.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ae(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var c=[],d,p=l==="mouseout"||l==="mouseover",v=s.target||s.srcElement,S=!1;v;){if(d=this._targets[h(v)],d&&(l==="click"||l==="preclick")&&this._draggableMoved(d)){S=!0;break}if(d&&d.listens(l,!0)&&(p&&!Wh(v,s)||(c.push(d),p))||v===this._container)break;v=v.parentNode}return!c.length&&!S&&!p&&this.listens(l,!0)&&(c=[this]),c},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var c=s.type;c==="mousedown"&&Fh(l),this._fireDOMEvent(s,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,c){if(s.type==="click"){var d=r({},s);d.type="preclick",this._fireDOMEvent(d,d.type,c)}var p=this._findEventTargets(s,l);if(c){for(var v=[],S=0;S<c.length;S++)c[S].listens(l,!0)&&v.push(c[S]);p=v.concat(p)}if(p.length){l==="contextmenu"&&ft(s);var x=p[0],k={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var M=x.getLatLng&&(!x._radius||x._radius<=10);k.containerPoint=M?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(s),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=M?x.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(S=0;S<p.length;S++)if(p[S].fire(l,k,!0),k.originalEvent._stopped||p[S].options.bubblingMouseEvents===!1&&R(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return cr(this._mapPane)||new A(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var c=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var c=this.getSize()._divideBy(2);return this.project(s,l)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,c){var d=this._getNewPixelOrigin(c,l);return this.project(s,l)._subtract(d)},_latLngBoundsToNewLayerBounds:function(s,l,c){var d=this._getNewPixelOrigin(c,l);return me([this.project(s.getSouthWest(),l)._subtract(d),this.project(s.getNorthWest(),l)._subtract(d),this.project(s.getSouthEast(),l)._subtract(d),this.project(s.getNorthEast(),l)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,c){if(!c)return s;var d=this.project(s,l),p=this.getSize().divideBy(2),v=new J(d.subtract(p),d.add(p)),S=this._getBoundsOffset(v,c,l);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?s:this.unproject(d.add(S),l)},_limitOffset:function(s,l){if(!l)return s;var c=this.getPixelBounds(),d=new J(c.min.add(s),c.max.add(s));return s.add(this._getBoundsOffset(d,l))},_getBoundsOffset:function(s,l,c){var d=me(this.project(l.getNorthEast(),c),this.project(l.getSouthWest(),c)),p=d.min.subtract(s.min),v=d.max.subtract(s.max),S=this._rebound(p.x,-v.x),x=this._rebound(p.y,-v.y);return new A(S,x)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),c=this.getMaxZoom(),d=Y.any3d?this.options.zoomSnap:1;return d&&(s=Math.round(s/d)*d),Math.max(l,Math.min(c,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var c=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,l),!0)},_createAnimProxy:function(){var s=this._proxy=we("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var c=Rh,d=this._proxy.style[c];ur(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),d===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();ur(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(l),p=this._getCenterOffset(s)._divideBy(1-1/d);return c.animate!==!0&&!this.getSize().contains(p)?!1:(Z(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,c,d){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function nx(s,l){return new _e(s,l)}var fn=te.extend({options:{position:"topright"},initialize:function(s){C(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),c=this.getPosition(),d=s._controlCorners[c];return oe(l,"leaflet-control"),c.indexOf("bottom")!==-1?d.insertBefore(l,d.firstChild):d.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Po=function(s){return new fn(s)};_e.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",c=this._controlContainer=we("div",l+"control-container",this._container);function d(p,v){var S=l+p+" "+l+v;s[p+v]=we("div",S,c)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ze(this._controlCorners[s]);ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Eg=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,c,d){return c<d?-1:d<c?1:0}},initialize:function(s,l,c){C(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in s)this._addLayer(s[d],d);for(d in l)this._addLayer(l[d],d,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return fn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=we("div",s),c=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Io(l),Hh(l);var d=this._section=we("section",s+"-list");c&&(this._map.on("click",this.collapse,this),se(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=we("a",s+"-toggle",l);p.href="#",p.title="Layers",p.setAttribute("role","button"),se(p,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ft(v),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=we("div",s+"-base",d),this._separator=we("div",s+"-separator",d),this._overlaysList=we("div",s+"-overlays",d),l.appendChild(d)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,c){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:c}),this.options.sortLayers&&this._layers.sort(a(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vl(this._baseLayersList),vl(this._overlaysList),this._layerControlInputs=[];var s,l,c,d,p=0;for(c=0;c<this._layers.length;c++)d=this._layers[c],this._addItem(d),l=l||d.overlay,s=s||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(s=s&&p>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),c=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;c&&this._map.fire(c,l)},_createRadioElement:function(s,l){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=c,d.firstChild},_addItem:function(s){var l=document.createElement("label"),c=this._map.hasLayer(s.layer),d;s.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=c):d=this._createRadioElement("leaflet-base-layers_"+h(this),c),this._layerControlInputs.push(d),d.layerId=h(s.layer),se(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+s.name;var v=document.createElement("span");l.appendChild(v),v.appendChild(d),v.appendChild(p);var S=s.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,c,d=[],p=[];this._handlingClick=!0;for(var v=s.length-1;v>=0;v--)l=s[v],c=this._getLayer(l.layerId).layer,l.checked?d.push(c):l.checked||p.push(c);for(v=0;v<p.length;v++)this._map.hasLayer(p[v])&&this._map.removeLayer(p[v]);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])||this._map.addLayer(d[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,c,d=this._map.getZoom(),p=s.length-1;p>=0;p--)l=s[p],c=this._getLayer(l.layerId).layer,l.disabled=c.options.minZoom!==void 0&&d<c.options.minZoom||c.options.maxZoom!==void 0&&d>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,se(s,"click",ft),this.expand();var l=this;setTimeout(function(){ke(s,"click",ft),l._preventClick=!1})}}),ix=function(s,l,c){return new Eg(s,l,c)},$h=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",c=we("div",l+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,l+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,l+"-out",c,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,c,d,p){var v=we("a",c,d);return v.innerHTML=s,v.href="#",v.title=l,v.setAttribute("role","button"),v.setAttribute("aria-label",l),Io(v),se(v,"click",dr),se(v,"click",p,this),se(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Ke(this._zoomInButton,l),Ke(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(oe(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(oe(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});_e.mergeOptions({zoomControl:!0}),_e.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $h,this.addControl(this.zoomControl))});var rx=function(s){return new $h(s)},Tg=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",c=we("div",l),d=this.options;return this._addScales(d,l+"-line",c),s.on(d.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),c},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,c){s.metric&&(this._mScale=we("div",l,c)),s.imperial&&(this._iScale=we("div",l,c))},_update:function(){var s=this._map,l=s.getSize().y/2,c=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(c)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),c=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,c,l/s)},_updateImperial:function(s){var l=s*3.2808399,c,d,p;l>5280?(c=l/5280,d=this._getRoundNum(c),this._updateScale(this._iScale,d+" mi",d/c)):(p=this._getRoundNum(l),this._updateScale(this._iScale,p+" ft",p/l))},_updateScale:function(s,l,c){s.style.width=Math.round(this.options.maxWidth*c)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),c=s/l;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,l*c}}),sx=function(s){return new Tg(s)},ox='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vh=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Y.inlineSvg?ox+" ":"")+"Leaflet</a>"},initialize:function(s){C(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=we("div","leaflet-control-attribution"),Io(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var c=[];this.options.prefix&&c.push(this.options.prefix),s.length&&c.push(s.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});_e.mergeOptions({attributionControl:!0}),_e.addInitHook(function(){this.options.attributionControl&&new Vh().addTo(this)});var ax=function(s){return new Vh(s)};fn.Layers=Eg,fn.Zoom=$h,fn.Scale=Tg,fn.Attribution=Vh,Po.layers=ix,Po.zoom=rx,Po.scale=sx,Po.attribution=ax;var Nn=te.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,l){return s.addHandler(l,this),this};var lx={Events:xe},Sg=Y.touch?"touchstart mousedown":"mousedown",Ti=Me.extend({options:{clickTolerance:3},initialize:function(s,l,c,d){C(this,d),this._element=s,this._dragStartTarget=l||s,this._preventOutline=c},enable:function(){this._enabled||(se(this._dragStartTarget,Sg,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ti._dragging===this&&this.finishDrag(!0),ke(this._dragStartTarget,Sg,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Lh(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ti._dragging===this&&this.finishDrag();return}if(!(Ti._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ti._dragging=this,this._preventOutline&&Fh(this._element),Nh(),To(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,c=mg(this._element);this._startPoint=new A(l.clientX,l.clientY),this._startPos=cr(this._element),this._parentScale=Uh(c);var d=s.type==="mousedown";se(document,d?"mousemove":"touchmove",this._onMove,this),se(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,c=new A(l.clientX,l.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,ft(s),this._moved||(this.fire("dragstart"),this._moved=!0,oe(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Xe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Ke(document.body,"leaflet-dragging"),this._lastTarget&&(Ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ke(document,"mousemove touchmove",this._onMove,this),ke(document,"mouseup touchend touchcancel",this._onUp,this),Mh(),So();var l=this._moved&&this._moving;this._moving=!1,Ti._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Cg(s,l,c){var d,p=[1,4,2,8],v,S,x,k,M,V,ee,le;for(v=0,V=s.length;v<V;v++)s[v]._code=fr(s[v],l);for(x=0;x<4;x++){for(ee=p[x],d=[],v=0,V=s.length,S=V-1;v<V;S=v++)k=s[v],M=s[S],k._code&ee?M._code&ee||(le=Sl(M,k,ee,l,c),le._code=fr(le,l),d.push(le)):(M._code&ee&&(le=Sl(M,k,ee,l,c),le._code=fr(le,l),d.push(le)),d.push(k));s=d}return s}function Ig(s,l){var c,d,p,v,S,x,k,M,V;if(!s||s.length===0)throw new Error("latlngs not passed");en(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ee=ie([0,0]),le=Ee(s),Pt=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());Pt<1700&&(ee=Zh(s));var ot=s.length,tn=[];for(c=0;c<ot;c++){var At=ie(s[c]);tn.push(l.project(ie([At.lat-ee.lat,At.lng-ee.lng])))}for(x=k=M=0,c=0,d=ot-1;c<ot;d=c++)p=tn[c],v=tn[d],S=p.y*v.x-v.y*p.x,k+=(p.x+v.x)*S,M+=(p.y+v.y)*S,x+=S*3;x===0?V=tn[0]:V=[k/x,M/x];var cs=l.unproject(D(V));return ie([cs.lat+ee.lat,cs.lng+ee.lng])}function Zh(s){for(var l=0,c=0,d=0,p=0;p<s.length;p++){var v=ie(s[p]);l+=v.lat,c+=v.lng,d++}return ie([l/d,c/d])}var ux={__proto__:null,clipPolygon:Cg,polygonCenter:Ig,centroid:Zh};function Pg(s,l){if(!l||!s.length)return s.slice();var c=l*l;return s=dx(s,c),s=hx(s,c),s}function xg(s,l,c){return Math.sqrt(xo(s,l,c,!0))}function cx(s,l,c){return xo(s,l,c)}function hx(s,l){var c=s.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,p=new d(c);p[0]=p[c-1]=1,qh(s,p,l,0,c-1);var v,S=[];for(v=0;v<c;v++)p[v]&&S.push(s[v]);return S}function qh(s,l,c,d,p){var v=0,S,x,k;for(x=d+1;x<=p-1;x++)k=xo(s[x],s[d],s[p],!0),k>v&&(S=x,v=k);v>c&&(l[S]=1,qh(s,l,c,d,S),qh(s,l,c,S,p))}function dx(s,l){for(var c=[s[0]],d=1,p=0,v=s.length;d<v;d++)fx(s[d],s[p])>l&&(c.push(s[d]),p=d);return p<v-1&&c.push(s[v-1]),c}var bg;function kg(s,l,c,d,p){var v=d?bg:fr(s,c),S=fr(l,c),x,k,M;for(bg=S;;){if(!(v|S))return[s,l];if(v&S)return!1;x=v||S,k=Sl(s,l,x,c,p),M=fr(k,c),x===v?(s=k,v=M):(l=k,S=M)}}function Sl(s,l,c,d,p){var v=l.x-s.x,S=l.y-s.y,x=d.min,k=d.max,M,V;return c&8?(M=s.x+v*(k.y-s.y)/S,V=k.y):c&4?(M=s.x+v*(x.y-s.y)/S,V=x.y):c&2?(M=k.x,V=s.y+S*(k.x-s.x)/v):c&1&&(M=x.x,V=s.y+S*(x.x-s.x)/v),new A(M,V,p)}function fr(s,l){var c=0;return s.x<l.min.x?c|=1:s.x>l.max.x&&(c|=2),s.y<l.min.y?c|=4:s.y>l.max.y&&(c|=8),c}function fx(s,l){var c=l.x-s.x,d=l.y-s.y;return c*c+d*d}function xo(s,l,c,d){var p=l.x,v=l.y,S=c.x-p,x=c.y-v,k=S*S+x*x,M;return k>0&&(M=((s.x-p)*S+(s.y-v)*x)/k,M>1?(p=c.x,v=c.y):M>0&&(p+=S*M,v+=x*M)),S=s.x-p,x=s.y-v,d?S*S+x*x:new A(p,v)}function en(s){return!I(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Rg(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(s)}function Lg(s,l){var c,d,p,v,S,x,k,M;if(!s||s.length===0)throw new Error("latlngs not passed");en(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var V=ie([0,0]),ee=Ee(s),le=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());le<1700&&(V=Zh(s));var Pt=s.length,ot=[];for(c=0;c<Pt;c++){var tn=ie(s[c]);ot.push(l.project(ie([tn.lat-V.lat,tn.lng-V.lng])))}for(c=0,d=0;c<Pt-1;c++)d+=ot[c].distanceTo(ot[c+1])/2;if(d===0)M=ot[0];else for(c=0,v=0;c<Pt-1;c++)if(S=ot[c],x=ot[c+1],p=S.distanceTo(x),v+=p,v>d){k=(v-d)/p,M=[x.x-k*(x.x-S.x),x.y-k*(x.y-S.y)];break}var At=l.unproject(D(M));return ie([At.lat+V.lat,At.lng+V.lng])}var px={__proto__:null,simplify:Pg,pointToSegmentDistance:xg,closestPointOnSegment:cx,clipSegment:kg,_getEdgeIntersection:Sl,_getBitCode:fr,_sqClosestPointOnSegment:xo,isFlat:en,_flat:Rg,polylineCenter:Lg},Gh={project:function(s){return new A(s.lng,s.lat)},unproject:function(s){return new he(s.y,s.x)},bounds:new J([-180,-90],[180,90])},Kh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,c=this.R,d=s.lat*l,p=this.R_MINOR/c,v=Math.sqrt(1-p*p),S=v*Math.sin(d),x=Math.tan(Math.PI/4-d/2)/Math.pow((1-S)/(1+S),v/2);return d=-c*Math.log(Math.max(x,1e-10)),new A(s.lng*l*c,d)},unproject:function(s){for(var l=180/Math.PI,c=this.R,d=this.R_MINOR/c,p=Math.sqrt(1-d*d),v=Math.exp(-s.y/c),S=Math.PI/2-2*Math.atan(v),x=0,k=.1,M;x<15&&Math.abs(k)>1e-7;x++)M=p*Math.sin(S),M=Math.pow((1-M)/(1+M),p/2),k=Math.PI/2-2*Math.atan(v*M)-S,S+=k;return new he(S*l,s.x*l/c)}},mx={__proto__:null,LonLat:Gh,Mercator:Kh,SphericalMercator:go},_x=r({},Ln,{code:"EPSG:3395",projection:Kh,transformation:function(){var s=.5/(Math.PI*Kh.R);return K(s,.5,-s,.5)}()}),Og=r({},Ln,{code:"EPSG:4326",projection:Gh,transformation:K(1/180,1,-1/180,.5)}),gx=r({},nt,{projection:Gh,transformation:K(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var c=l.lng-s.lng,d=l.lat-s.lat;return Math.sqrt(c*c+d*d)},infinite:!0});nt.Earth=Ln,nt.EPSG3395=_x,nt.EPSG3857=ve,nt.EPSG900913=Xt,nt.EPSG4326=Og,nt.Simple=gx;var pn=Me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var c=this.getEvents();l.on(c,this),this.once("remove",function(){l.off(c,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});_e.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},_addLayers:function(s){s=s?I(s)?s:[s]:[];for(var l=0,c=s.length;l<c;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,c=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;s=p.minZoom===void 0?s:Math.min(s,p.minZoom),l=p.maxZoom===void 0?l:Math.max(l,p.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ss=pn.extend({initialize:function(s,l){C(this,l),this._layers={};var c,d;if(s)for(c=0,d=s.length;c<d;c++)this.addLayer(s[c])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),c,d;for(c in this._layers)d=this._layers[c],d[s]&&d[s].apply(d,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var c in this._layers)s.call(l,this._layers[c]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),vx=function(s,l){return new ss(s,l)},Kn=ss.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ss.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ss.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ge;for(var l in this._layers){var c=this._layers[l];s.extend(c.getBounds?c.getBounds():c.getLatLng())}return s}}),yx=function(s,l){return new Kn(s,l)},os=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){C(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var c=this._getIconUrl(s);if(!c){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(c,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(d,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(s,l){var c=this.options,d=c[l+"Size"];typeof d=="number"&&(d=[d,d]);var p=D(d),v=D(l==="shadow"&&c.shadowAnchor||c.iconAnchor||p&&p.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(c.className||""),v&&(s.style.marginLeft=-v.x+"px",s.style.marginTop=-v.y+"px"),p&&(s.style.width=p.x+"px",s.style.height=p.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Y.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function wx(s){return new os(s)}var bo=os.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof bo.imagePath!="string"&&(bo.imagePath=this._detectIconPath()),(this.options.imagePath||bo.imagePath)+os.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(c,d,p){var v=d.exec(c);return v&&v[p]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=we("div","leaflet-default-icon-path",document.body),l=Eo(s,"background-image")||Eo(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Ag=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ti(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),oe(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,c=l._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,v=cr(l._icon),S=c.getPixelBounds(),x=c.getPixelOrigin(),k=me(S.min._subtract(x).add(p),S.max._subtract(x).subtract(p));if(!k.contains(v)){var M=D((Math.max(k.max.x,v.x)-k.max.x)/(S.max.x-k.max.x)-(Math.min(k.min.x,v.x)-k.min.x)/(S.min.x-k.min.x),(Math.max(k.max.y,v.y)-k.max.y)/(S.max.y-k.max.y)-(Math.min(k.min.y,v.y)-k.min.y)/(S.min.y-k.min.y)).multiplyBy(d);c.panBy(M,{animate:!1}),this._draggable._newPos._add(M),this._draggable._startPos._add(M),Xe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Z(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ae(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,c=l._shadow,d=cr(l._icon),p=l._map.layerPointToLatLng(d);c&&Xe(c,d),l._latlng=p,s.latlng=p,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ae(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Cl=pn.extend({options:{icon:new bo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){C(this,l),this._latlng=ie(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ie(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=s.icon.createIcon(this._icon),d=!1;c!==this._icon&&(this._icon&&this._removeIcon(),d=!0,s.title&&(c.title=s.title),c.tagName==="IMG"&&(c.alt=s.alt||"")),oe(c,l),s.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(c,"focus",this._panOnFocus,this);var p=s.icon.createShadow(this._shadow),v=!1;p!==this._shadow&&(this._removeShadow(),v=!0),p&&(oe(p,l),p.alt=""),this._shadow=p,s.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&v&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ke(this._icon,"focus",this._panOnFocus,this),ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ze(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Xe(this._icon,s),this._shadow&&Xe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ag)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ag(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Jt(this._icon,s),this._shadow&&Jt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,c=l.iconSize?D(l.iconSize):D(0,0),d=l.iconAnchor?D(l.iconAnchor):D(0,0);s.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:c.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ex(s,l){return new Cl(s,l)}var Si=pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return C(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Il=Si.extend({options:{fill:!0,radius:10},initialize:function(s,l){C(this,l),this._latlng=ie(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ie(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Si.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,c=this._clickTolerance(),d=[s+c,l+c];this._pxBounds=new J(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Tx(s,l){return new Il(s,l)}var Yh=Il.extend({initialize:function(s,l,c){if(typeof l=="number"&&(l=r({},c,{radius:l})),C(this,l),this._latlng=ie(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ge(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Si.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,c=this._map,d=c.options.crs;if(d.distance===Ln.distance){var p=Math.PI/180,v=this._mRadius/Ln.R/p,S=c.project([l+v,s]),x=c.project([l-v,s]),k=S.add(x).divideBy(2),M=c.unproject(k).lat,V=Math.acos((Math.cos(v*p)-Math.sin(l*p)*Math.sin(M*p))/(Math.cos(l*p)*Math.cos(M*p)))/p;(isNaN(V)||V===0)&&(V=v/Math.cos(Math.PI/180*l)),this._point=k.subtract(c.getPixelOrigin()),this._radius=isNaN(V)?0:k.x-c.project([M,s-V]).x,this._radiusY=k.y-S.y}else{var ee=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ee).x}this._updateBounds()}});function Sx(s,l,c){return new Yh(s,l,c)}var Yn=Si.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){C(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,c=null,d=xo,p,v,S=0,x=this._parts.length;S<x;S++)for(var k=this._parts[S],M=1,V=k.length;M<V;M++){p=k[M-1],v=k[M];var ee=d(s,p,v,!0);ee<l&&(l=ee,c=d(s,p,v))}return c&&(c.distance=Math.sqrt(l)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ie(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ge,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],c=en(s),d=0,p=s.length;d<p;d++)c?(l[d]=ie(s[d]),this._bounds.extend(l[d])):l[d]=this._convertLatLngs(s[d]);return l},_project:function(){var s=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new A(s,s);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,c){var d=s[0]instanceof he,p=s.length,v,S;if(d){for(S=[],v=0;v<p;v++)S[v]=this._map.latLngToLayerPoint(s[v]),c.extend(S[v]);l.push(S)}else for(v=0;v<p;v++)this._projectLatlngs(s[v],l,c)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,c,d,p,v,S,x,k;for(c=0,p=0,v=this._rings.length;c<v;c++)for(k=this._rings[c],d=0,S=k.length;d<S-1;d++)x=kg(k[d],k[d+1],s,d,!0),x&&(l[p]=l[p]||[],l[p].push(x[0]),(x[1]!==k[d+1]||d===S-2)&&(l[p].push(x[1]),p++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,c=0,d=s.length;c<d;c++)s[c]=Pg(s[c],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var c,d,p,v,S,x,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(c=0,v=this._parts.length;c<v;c++)for(x=this._parts[c],d=0,S=x.length,p=S-1;d<S;p=d++)if(!(!l&&d===0)&&xg(s,x[p],x[d])<=k)return!0;return!1}});function Cx(s,l){return new Yn(s,l)}Yn._flat=Rg;var as=Yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ig(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Yn.prototype._convertLatLngs.call(this,s),c=l.length;return c>=2&&l[0]instanceof he&&l[0].equals(l[c-1])&&l.pop(),l},_setLatLngs:function(s){Yn.prototype._setLatLngs.call(this,s),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,c=new A(l,l);if(s=new J(s.min.subtract(c),s.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,v;d<p;d++)v=Cg(this._rings[d],s,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,c,d,p,v,S,x,k,M;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,k=this._parts.length;v<k;v++)for(c=this._parts[v],S=0,M=c.length,x=M-1;S<M;x=S++)d=c[S],p=c[x],d.y>s.y!=p.y>s.y&&s.x<(p.x-d.x)*(s.y-d.y)/(p.y-d.y)+d.x&&(l=!l);return l||Yn.prototype._containsPoint.call(this,s,!0)}});function Ix(s,l){return new as(s,l)}var Qn=Kn.extend({initialize:function(s,l){C(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=I(s)?s:s.features,c,d,p;if(l){for(c=0,d=l.length;c<d;c++)p=l[c],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var v=this.options;if(v.filter&&!v.filter(s))return this;var S=Pl(s,v);return S?(S.feature=kl(s),S.defaultOptions=S.options,this.resetStyle(S),v.onEachFeature&&v.onEachFeature(s,S),this.addLayer(S)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Pl(s,l){var c=s.type==="Feature"?s.geometry:s,d=c?c.coordinates:null,p=[],v=l&&l.pointToLayer,S=l&&l.coordsToLatLng||Qh,x,k,M,V;if(!d&&!c)return null;switch(c.type){case"Point":return x=S(d),Ng(v,s,x,l);case"MultiPoint":for(M=0,V=d.length;M<V;M++)x=S(d[M]),p.push(Ng(v,s,x,l));return new Kn(p);case"LineString":case"MultiLineString":return k=xl(d,c.type==="LineString"?0:1,S),new Yn(k,l);case"Polygon":case"MultiPolygon":return k=xl(d,c.type==="Polygon"?1:2,S),new as(k,l);case"GeometryCollection":for(M=0,V=c.geometries.length;M<V;M++){var ee=Pl({geometry:c.geometries[M],type:"Feature",properties:s.properties},l);ee&&p.push(ee)}return new Kn(p);case"FeatureCollection":for(M=0,V=c.features.length;M<V;M++){var le=Pl(c.features[M],l);le&&p.push(le)}return new Kn(p);default:throw new Error("Invalid GeoJSON object.")}}function Ng(s,l,c,d){return s?s(l,c):new Cl(c,d&&d.markersInheritOptions&&d)}function Qh(s){return new he(s[1],s[0],s[2])}function xl(s,l,c){for(var d=[],p=0,v=s.length,S;p<v;p++)S=l?xl(s[p],l-1,c):(c||Qh)(s[p]),d.push(S);return d}function Xh(s,l){return s=ie(s),s.alt!==void 0?[g(s.lng,l),g(s.lat,l),g(s.alt,l)]:[g(s.lng,l),g(s.lat,l)]}function bl(s,l,c,d){for(var p=[],v=0,S=s.length;v<S;v++)p.push(l?bl(s[v],en(s[v])?0:l-1,c,d):Xh(s[v],d));return!l&&c&&p.length>0&&p.push(p[0].slice()),p}function ls(s,l){return s.feature?r({},s.feature,{geometry:l}):kl(l)}function kl(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Jh={toGeoJSON:function(s){return ls(this,{type:"Point",coordinates:Xh(this.getLatLng(),s)})}};Cl.include(Jh),Yh.include(Jh),Il.include(Jh),Yn.include({toGeoJSON:function(s){var l=!en(this._latlngs),c=bl(this._latlngs,l?1:0,!1,s);return ls(this,{type:(l?"Multi":"")+"LineString",coordinates:c})}}),as.include({toGeoJSON:function(s){var l=!en(this._latlngs),c=l&&!en(this._latlngs[0]),d=bl(this._latlngs,c?2:l?1:0,!0,s);return l||(d=[d]),ls(this,{type:(c?"Multi":"")+"Polygon",coordinates:d})}}),ss.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(c){l.push(c.toGeoJSON(s).geometry.coordinates)}),ls(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var c=l==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var v=p.toGeoJSON(s);if(c)d.push(v.geometry);else{var S=kl(v);S.type==="FeatureCollection"?d.push.apply(d,S.features):d.push(S)}}}),c?ls(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Mg(s,l){return new Qn(s,l)}var Px=Mg,Rl=pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,c){this._url=s,this._bounds=Ee(l),C(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&is(this._image),this},bringToBack:function(){return this._map&&rs(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ee(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:we("img");if(oe(l,"leaflet-image-layer"),this._zoomAnimated&&oe(l,"leaflet-zoom-animated"),this.options.className&&oe(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ur(this._image,c,l)},_reset:function(){var s=this._image,l=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=l.getSize();Xe(s,l.min),s.style.width=c.x+"px",s.style.height=c.y+"px"},_updateOpacity:function(){Jt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),xx=function(s,l,c){return new Rl(s,l,c)},Dg=Rl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:we("video");if(oe(l,"leaflet-image-layer"),this._zoomAnimated&&oe(l,"leaflet-zoom-animated"),this.options.className&&oe(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onloadeddata=a(this.fire,this,"load"),s){for(var c=l.getElementsByTagName("source"),d=[],p=0;p<c.length;p++)d.push(c[p].src);this._url=c.length>0?d:[l.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var S=we("source");S.src=this._url[v],l.appendChild(S)}}});function bx(s,l,c){return new Dg(s,l,c)}var Fg=Rl.extend({_initImage:function(){var s=this._image=this._url;oe(s,"leaflet-image-layer"),this._zoomAnimated&&oe(s,"leaflet-zoom-animated"),this.options.className&&oe(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function kx(s,l,c){return new Fg(s,l,c)}var Mn=pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof he||I(s))?(this._latlng=ie(s),C(this,l)):(C(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Jt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Jt(this._container,1),this.bringToFront(),this.options.interactive&&(oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Jt(this._container,0),this._removeTimeout=setTimeout(a(ze,void 0,this._container),200)):ze(this._container),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ie(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&is(this._container),this},bringToBack:function(){return this._map&&rs(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof Kn){l=null;var c=this._source._layers;for(var d in c)if(c[d]._map){l=c[d];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=D(this.options.offset),c=this._getAnchor();this._zoomAnimated?Xe(this._container,s.add(c)):l=l.add(s).add(c);var d=this._containerBottom=-l.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});_e.include({_initOverlay:function(s,l,c,d){var p=l;return p instanceof s||(p=new s(d).setContent(l)),c&&p.setLatLng(c),p}}),pn.include({_initOverlay:function(s,l,c,d){var p=c;return p instanceof s?(C(p,d),p._source=this):(p=l&&!d?l:new s(d,this),p.setContent(c)),p}});var Ll=Mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Mn.prototype.openOn.call(this,s)},onAdd:function(s){Mn.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Si||this._source.on("preclick",hr))},onRemove:function(s){Mn.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Si||this._source.off("preclick",hr))},getEvents:function(){var s=Mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=we("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=we("div",s+"-content-wrapper",l);if(this._contentNode=we("div",s+"-content",c),Io(l),Hh(this._contentNode),se(l,"contextmenu",hr),this._tipContainer=we("div",s+"-tip-container",l),this._tip=we("div",s+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=we("a",s+"-close-button",l);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',se(d,"click",function(p){ft(p),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var c=s.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),l.width=c+1+"px",l.whiteSpace="",l.height="";var d=s.offsetHeight,p=this.options.maxHeight,v="leaflet-popup-scrolled";p&&d>p?(l.height=p+"px",oe(s,v)):Ke(s,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),c=this._getAnchor();Xe(this._container,l.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Eo(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+l,d=this._containerWidth,p=new A(this._containerLeft,-c-this._containerBottom);p._add(cr(this._container));var v=s.layerPointToContainerPoint(p),S=D(this.options.autoPanPadding),x=D(this.options.autoPanPaddingTopLeft||S),k=D(this.options.autoPanPaddingBottomRight||S),M=s.getSize(),V=0,ee=0;v.x+d+k.x>M.x&&(V=v.x+d-M.x+k.x),v.x-V-x.x<0&&(V=v.x-x.x),v.y+c+k.y>M.y&&(ee=v.y+c-M.y+k.y),v.y-ee-x.y<0&&(ee=v.y-x.y),(V||ee)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([V,ee]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rx=function(s,l){return new Ll(s,l)};_e.mergeOptions({closePopupOnClick:!0}),_e.include({openPopup:function(s,l,c){return this._initOverlay(Ll,s,l,c).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),pn.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Ll,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){dr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Si)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ol=Mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Mn.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Mn.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Mn.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=we("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,c,d=this._map,p=this._container,v=d.latLngToContainerPoint(d.getCenter()),S=d.layerPointToContainerPoint(s),x=this.options.direction,k=p.offsetWidth,M=p.offsetHeight,V=D(this.options.offset),ee=this._getAnchor();x==="top"?(l=k/2,c=M):x==="bottom"?(l=k/2,c=0):x==="center"?(l=k/2,c=M/2):x==="right"?(l=0,c=M/2):x==="left"?(l=k,c=M/2):S.x<v.x?(x="right",l=0,c=M/2):(x="left",l=k+(V.x+ee.x)*2,c=M/2),s=s.subtract(D(l,c,!0)).add(V).add(ee),Ke(p,"leaflet-tooltip-right"),Ke(p,"leaflet-tooltip-left"),Ke(p,"leaflet-tooltip-top"),Ke(p,"leaflet-tooltip-bottom"),oe(p,"leaflet-tooltip-"+x),Xe(p,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Jt(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lx=function(s,l){return new Ol(s,l)};_e.include({openTooltip:function(s,l,c){return this._initOverlay(Ol,s,l,c).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),pn.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ol,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[l](c),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(se(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),se(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,c,d;this._tooltip.options.sticky&&s.originalEvent&&(c=this._map.mouseEventToContainerPoint(s.originalEvent),d=this._map.containerPointToLayerPoint(c),l=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(l)}});var Ug=os.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),c=this.options;if(c.html instanceof Element?(vl(l),l.appendChild(c.html)):l.innerHTML=c.html!==!1?c.html:"",c.bgPos){var d=D(c.bgPos);l.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Ox(s){return new Ug(s)}os.Default=bo;var ko=pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Y.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){C(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ze(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(is(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(rs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof A?s:new A(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,c=-s(-1/0,1/0),d=0,p=l.length,v;d<p;d++)v=l[d].style.zIndex,l[d]!==this._container&&v&&(c=s(c,+v));isFinite(c)&&(this.options.zIndex=c+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y.ielt9){Jt(this._container,this.options.opacity);var s=+new Date,l=!1,c=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var v=Math.min(1,(s-p.loaded)/200);Jt(p.el,v),v<1?l=!0:(p.active?c=!0:this._onOpaqueTile(p),p.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),l&&(ae(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=we("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===s?(this._levels[c].el.style.zIndex=l-Math.abs(s-c),this._onUpdateLevel(c)):(ze(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var d=this._levels[s],p=this._map;return d||(d=this._levels[s]={},d.el=we("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=l,d.origin=p.project(p.unproject(p.getPixelOrigin()),s).round(),d.zoom=s,this._setZoomTransform(d,p.getCenter(),p.getZoom()),_(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,l,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var d=l.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ze(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,c,d){var p=Math.floor(s/2),v=Math.floor(l/2),S=c-1,x=new A(+p,+v);x.z=+S;var k=this._tileCoordsToKey(x),M=this._tiles[k];return M&&M.active?(M.retain=!0,!0):(M&&M.loaded&&(M.retain=!0),S>d?this._retainParent(p,v,S,d):!1)},_retainChildren:function(s,l,c,d){for(var p=2*s;p<2*s+2;p++)for(var v=2*l;v<2*l+2;v++){var S=new A(p,v);S.z=c+1;var x=this._tileCoordsToKey(S),k=this._tiles[x];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);c+1<d&&this._retainChildren(p,v,c+1,d)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,c,d){var p=Math.round(l);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var v=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||v)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(s),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var c in this._levels)this._setZoomTransform(this._levels[c],s,l)},_setZoomTransform:function(s,l,c){var d=this._map.getZoomScale(c,s.zoom),p=s.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(l,c)).round();Y.any3d?ur(s.el,p,d):Xe(s.el,p)},_resetGrid:function(){var s=this._map,l=s.options.crs,c=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],d).x/c.x),Math.ceil(s.project([0,l.wrapLng[1]],d).x/c.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],d).y/c.x),Math.ceil(s.project([l.wrapLat[1],0],d).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,c=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),d=l.getZoomScale(c,this._tileZoom),p=l.project(s,this._tileZoom).floor(),v=l.getSize().divideBy(d*2);return new J(p.subtract(v),p.add(v))},_update:function(s){var l=this._map;if(l){var c=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(s),p=this._pxBoundsToTileRange(d),v=p.getCenter(),S=[],x=this.options.keepBuffer,k=new J(p.getBottomLeft().subtract([x,-x]),p.getTopRight().add([x,-x]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var M in this._tiles){var V=this._tiles[M].coords;(V.z!==this._tileZoom||!k.contains(new A(V.x,V.y)))&&(this._tiles[M].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(s,c);return}for(var ee=p.min.y;ee<=p.max.y;ee++)for(var le=p.min.x;le<=p.max.x;le++){var Pt=new A(le,ee);if(Pt.z=this._tileZoom,!!this._isValidTile(Pt)){var ot=this._tiles[this._tileCoordsToKey(Pt)];ot?ot.current=!0:S.push(Pt)}}if(S.sort(function(At,cs){return At.distanceTo(v)-cs.distanceTo(v)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var tn=document.createDocumentFragment();for(le=0;le<S.length;le++)this._addTile(S[le],tn);this._level.el.appendChild(tn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var c=this._globalTileRange;if(!l.wrapLng&&(s.x<c.min.x||s.x>c.max.x)||!l.wrapLat&&(s.y<c.min.y||s.y>c.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(s);return Ee(this.options.bounds).overlaps(d)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,c=this.getTileSize(),d=s.scaleBy(c),p=d.add(c),v=l.unproject(d,s.z),S=l.unproject(p,s.z);return[v,S]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),c=new Ge(l[0],l[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),c=new A(+l[0],+l[1]);return c.z=+l[2],c},_removeTile:function(s){var l=this._tiles[s];l&&(ze(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){oe(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=_,s.onmousemove=_,Y.ielt9&&this.options.opacity<1&&Jt(s,this.options.opacity)},_addTile:function(s,l){var c=this._getTilePos(s),d=this._tileCoordsToKey(s),p=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(p),this.createTile.length<2&&Z(a(this._tileReady,this,s,null,p)),Xe(p,c),this._tiles[d]={el:p,coords:s,current:!0},l.appendChild(p),this.fire("tileloadstart",{tile:p,coords:s})},_tileReady:function(s,l,c){l&&this.fire("tileerror",{error:l,tile:c,coords:s});var d=this._tileCoordsToKey(s);c=this._tiles[d],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Jt(c.el,0),ae(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),l||(oe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new A(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new J(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Ax(s){return new ko(s)}var us=ko.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=C(this,l),l.detectRetina&&Y.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var c=document.createElement("img");return se(c,"load",a(this._tileOnLoad,this,l,c)),se(c,"error",a(this._tileOnError,this,l,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(s),c},getTileUrl:function(s){var l={r:Y.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=c),l["-y"]=c}return y(this._url,r(l,this.options))},_tileOnLoad:function(s,l){Y.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,c){var d=this.options.errorTileUrl;d&&l.getAttribute("src")!==d&&(l.src=d),s(c,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,c=this.options.zoomReverse,d=this.options.zoomOffset;return c&&(s=l-s),s+d},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=_,l.onerror=_,!l.complete)){l.src=U;var c=this._tiles[s].coords;ze(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:c})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",U),ko.prototype._removeTile.call(this,s)},_tileReady:function(s,l,c){if(!(!this._map||c&&c.getAttribute("src")===U))return ko.prototype._tileReady.call(this,s,l,c)}});function zg(s,l){return new us(s,l)}var Bg=us.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var c=r({},this.defaultWmsParams);for(var d in l)d in this.options||(c[d]=l[d]);l=C(this,l);var p=l.detectRetina&&Y.retina?2:1,v=this.getTileSize();c.width=v.x*p,c.height=v.y*p,this.wmsParams=c},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,us.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),c=this._crs,d=me(c.project(l[0]),c.project(l[1])),p=d.min,v=d.max,S=(this._wmsVersion>=1.3&&this._crs===Og?[p.y,p.x,v.y,v.x]:[p.x,p.y,v.x,v.y]).join(","),x=us.prototype.getTileUrl.call(this,s);return x+O(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function Nx(s,l){return new Bg(s,l)}us.WMS=Bg,zg.wms=Nx;var Xn=pn.extend({options:{padding:.1},initialize:function(s){C(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var c=this._map.getZoomScale(l,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,l),v=d.multiplyBy(-c).add(p).subtract(this._map._getNewPixelOrigin(s,l));Y.any3d?ur(this._container,v,c):Xe(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),c=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new J(c,c.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jg=Xn.extend({options:{tolerance:0},getEvents:function(){var s=Xn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");se(s,"mousemove",this._onMouseMove,this),se(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),se(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ae(this._redrawRequest),delete this._ctx,ze(this._container),ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var s=this._bounds,l=this._container,c=s.getSize(),d=Y.retina?2:1;Xe(l,s.min),l.width=d*c.x,l.height=d*c.y,l.style.width=c.x+"px",l.style.height=c.y+"px",Y.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Xn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,c=l.next,d=l.prev;c?c.prev=d:this._drawLast=d,d?d.next=c:this._drawFirst=c,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),c=[],d,p;for(p=0;p<l.length;p++){if(d=Number(l[p]),isNaN(d))return;c.push(d)}s.options._dashArray=c}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var c=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)s=d.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var c,d,p,v,S=s._parts,x=S.length,k=this._ctx;if(x){for(k.beginPath(),c=0;c<x;c++){for(d=0,p=S[c].length;d<p;d++)v=S[c][d],k[d?"lineTo":"moveTo"](v.x,v.y);l&&k.closePath()}this._fillStroke(k,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,c=this._ctx,d=Math.max(Math.round(s._radius),1),p=(Math.max(Math.round(s._radiusY),1)||d)/d;p!==1&&(c.save(),c.scale(1,p)),c.beginPath(),c.arc(l.x,l.y/p,d,0,Math.PI*2,!1),p!==1&&c.restore(),this._fillStroke(c,s)}},_fillStroke:function(s,l){var c=l.options;c.fill&&(s.globalAlpha=c.fillOpacity,s.fillStyle=c.fillColor||c.color,s.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=c.opacity,s.lineWidth=c.weight,s.strokeStyle=c.color,s.lineCap=c.lineCap,s.lineJoin=c.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(c))&&(d=c);this._fireEvent(d?[d]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var c,d,p=this._drawFirst;p;p=p.next)c=p.layer,c.options.interactive&&c._containsPoint(l)&&(d=c);d!==this._hoveredLayer&&(this._handleMouseOut(s),d&&(oe(this._container,"leaflet-interactive"),this._fireEvent([d],s,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,c){this._map._fireDOMEvent(l,c||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var c=l.next,d=l.prev;if(c)c.prev=d;else return;d?d.next=c:c&&(this._drawFirst=c),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var c=l.next,d=l.prev;if(d)d.next=c;else return;c?c.prev=d:d&&(this._drawLast=d),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Hg(s){return Y.canvas?new jg(s):null}var Ro=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mx={_initContainer:function(){this._container=we("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Ro("shape");oe(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Ro("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;ze(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,c=s._fill,d=s.options,p=s._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(l||(l=s._stroke=Ro("stroke")),p.appendChild(l),l.weight=d.weight+"px",l.color=d.color,l.opacity=d.opacity,d.dashArray?l.dashStyle=I(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=d.lineCap.replace("butt","flat"),l.joinstyle=d.lineJoin):l&&(p.removeChild(l),s._stroke=null),d.fill?(c||(c=s._fill=Ro("fill")),p.appendChild(c),c.color=d.fillColor||d.color,c.opacity=d.fillOpacity):c&&(p.removeChild(c),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),c=Math.round(s._radius),d=Math.round(s._radiusY||c);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+c+","+d+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){is(s._container)},_bringToBack:function(s){rs(s._container)}},Al=Y.vml?Ro:Ei,Lo=Xn.extend({_initContainer:function(){this._container=Al("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Al("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ze(this._container),ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,c.setAttribute("width",l.x),c.setAttribute("height",l.y)),Xe(c,s.min),c.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Al("path");s.options.className&&oe(l,s.options.className),s.options.interactive&&oe(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ze(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,c=s.options;l&&(c.stroke?(l.setAttribute("stroke",c.color),l.setAttribute("stroke-opacity",c.opacity),l.setAttribute("stroke-width",c.weight),l.setAttribute("stroke-linecap",c.lineCap),l.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?l.setAttribute("stroke-dasharray",c.dashArray):l.removeAttribute("stroke-dasharray"),c.dashOffset?l.setAttribute("stroke-dashoffset",c.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),c.fill?(l.setAttribute("fill",c.fillColor||c.color),l.setAttribute("fill-opacity",c.fillOpacity),l.setAttribute("fill-rule",c.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,ml(s._parts,l))},_updateCircle:function(s){var l=s._point,c=Math.max(Math.round(s._radius),1),d=Math.max(Math.round(s._radiusY),1)||c,p="a"+c+","+d+" 0 1,0 ",v=s._empty()?"M0 0":"M"+(l.x-c)+","+l.y+p+c*2+",0 "+p+-c*2+",0 ";this._setPath(s,v)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){is(s._path)},_bringToBack:function(s){rs(s._path)}});Y.vml&&Lo.include(Mx);function Wg(s){return Y.svg||Y.vml?new Lo(s):null}_e.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Hg(s)||Wg(s)}});var $g=as.extend({initialize:function(s,l){as.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Ee(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Dx(s,l){return new $g(s,l)}Lo.create=Al,Lo.pointsToPath=ml,Qn.geometryToLayer=Pl,Qn.coordsToLatLng=Qh,Qn.coordsToLatLngs=xl,Qn.latLngToCoords=Xh,Qn.latLngsToCoords=bl,Qn.getFeature=ls,Qn.asFeature=kl,_e.mergeOptions({boxZoom:!0});var Vg=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),To(),Nh(),this._startPoint=this._map.mouseEventToContainerPoint(s),se(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=we("div","leaflet-zoom-box",this._container),oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new J(this._point,this._startPoint),c=l.getSize();Xe(this._box,l.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ze(this._box),Ke(this._container,"leaflet-crosshair")),So(),Mh(),ke(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Ge(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});_e.addInitHook("addHandler","boxZoom",Vg),_e.mergeOptions({doubleClickZoom:!0});var Zg=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,c=l.getZoom(),d=l.options.zoomDelta,p=s.originalEvent.shiftKey?c-d:c+d;l.options.doubleClickZoom==="center"?l.setZoom(p):l.setZoomAround(s.containerPoint,p)}});_e.addInitHook("addHandler","doubleClickZoom",Zg),_e.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qg=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ti(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ke(this._map._container,"leaflet-grab"),Ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Ee(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),c=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-l+c)%s+l-c,v=(d+l+c)%s-l-c,S=Math.abs(p+c)<Math.abs(v+c)?p:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var l=this._map,c=l.options,d=!c.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),d)l.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,S=c.easeLinearity,x=p.multiplyBy(S/v),k=x.distanceTo([0,0]),M=Math.min(c.inertiaMaxSpeed,k),V=x.multiplyBy(M/k),ee=M/(c.inertiaDeceleration*S),le=V.multiplyBy(-ee/2).round();!le.x&&!le.y?l.fire("moveend"):(le=l._limitOffset(le,l.options.maxBounds),Z(function(){l.panBy(le,{duration:ee,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});_e.addInitHook("addHandler","dragging",qg),_e.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gg=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),se(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,c=s.scrollTop||l.scrollTop,d=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(d,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},c=this.keyCodes,d,p;for(d=0,p=c.left.length;d<p;d++)l[c.left[d]]=[-1*s,0];for(d=0,p=c.right.length;d<p;d++)l[c.right[d]]=[s,0];for(d=0,p=c.down.length;d<p;d++)l[c.down[d]]=[0,s];for(d=0,p=c.up.length;d<p;d++)l[c.up[d]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},c=this.keyCodes,d,p;for(d=0,p=c.zoomIn.length;d<p;d++)l[c.zoomIn[d]]=s;for(d=0,p=c.zoomOut.length;d<p;d++)l[c.zoomOut[d]]=-s},_addHooks:function(){se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,c=this._map,d;if(l in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(d=this._panKeys[l],s.shiftKey&&(d=D(d).multiplyBy(3)),c.options.maxBounds&&(d=c._limitOffset(D(d),c.options.maxBounds)),c.options.worldCopyJump){var p=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(d)));c.panTo(p)}else c.panBy(d)}else if(l in this._zoomKeys)c.setZoom(c.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;dr(s)}}});_e.addInitHook("addHandler","keyboard",Gg),_e.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kg=Nn.extend({addHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=yg(s),c=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var d=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),d),dr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),c=this._map.options.zoomSnap||0;s._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,v=c?Math.ceil(p/c)*c:p,S=s._limitZoom(l+(this._delta>0?v:-v))-l;this._delta=0,this._startTime=null,S&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+S):s.setZoomAround(this._lastMousePos,l+S))}});_e.addInitHook("addHandler","scrollWheelZoom",Kg);var Fx=600;_e.mergeOptions({tapHold:Y.touchNative&&Y.safari&&Y.mobile,tapTolerance:15});var Yg=Nn.extend({addHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new A(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(se(document,"touchend",ft),se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Fx),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ke(document,"touchend",ft),ke(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ke(document,"touchend touchcancel contextmenu",this._cancel,this),ke(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new A(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var c=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});c._simulated=!0,l.target.dispatchEvent(c)}});_e.addInitHook("addHandler","tapHold",Yg),_e.mergeOptions({touchZoom:Y.touch,bounceAtZoomLimits:!0});var Qg=Nn.extend({addHooks:function(){oe(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var c=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(c.add(d)._divideBy(2))),this._startDist=c.distanceTo(d),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),ft(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,c=l.mouseEventToContainerPoint(s.touches[0]),d=l.mouseEventToContainerPoint(s.touches[1]),p=c.distanceTo(d)/this._startDist;if(this._zoom=l.getScaleZoom(p,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&p<1||this._zoom>l.getMaxZoom()&&p>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var v=c._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&v.x===0&&v.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ae(this._animRequest);var S=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(S,this,!0),ft(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ae(this._animRequest),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});_e.addInitHook("addHandler","touchZoom",Qg),_e.BoxZoom=Vg,_e.DoubleClickZoom=Zg,_e.Drag=qg,_e.Keyboard=Gg,_e.ScrollWheelZoom=Kg,_e.TapHold=Yg,_e.TouchZoom=Qg,n.Bounds=J,n.Browser=Y,n.CRS=nt,n.Canvas=jg,n.Circle=Yh,n.CircleMarker=Il,n.Class=te,n.Control=fn,n.DivIcon=Ug,n.DivOverlay=Mn,n.DomEvent=tx,n.DomUtil=JP,n.Draggable=Ti,n.Evented=Me,n.FeatureGroup=Kn,n.GeoJSON=Qn,n.GridLayer=ko,n.Handler=Nn,n.Icon=os,n.ImageOverlay=Rl,n.LatLng=he,n.LatLngBounds=Ge,n.Layer=pn,n.LayerGroup=ss,n.LineUtil=px,n.Map=_e,n.Marker=Cl,n.Mixin=lx,n.Path=Si,n.Point=A,n.PolyUtil=ux,n.Polygon=as,n.Polyline=Yn,n.Popup=Ll,n.PosAnimation=wg,n.Projection=mx,n.Rectangle=$g,n.Renderer=Xn,n.SVG=Lo,n.SVGOverlay=Fg,n.TileLayer=us,n.Tooltip=Ol,n.Transformation=fe,n.Util=be,n.VideoOverlay=Dg,n.bind=a,n.bounds=me,n.canvas=Hg,n.circle=Sx,n.circleMarker=Tx,n.control=Po,n.divIcon=Ox,n.extend=r,n.featureGroup=yx,n.geoJSON=Mg,n.geoJson=Px,n.gridLayer=Ax,n.icon=wx,n.imageOverlay=xx,n.latLng=ie,n.latLngBounds=Ee,n.layerGroup=vx,n.map=nx,n.marker=Ex,n.point=D,n.polygon=Ix,n.polyline=Cx,n.popup=Rx,n.rectangle=Dx,n.setOptions=C,n.stamp=h,n.svg=Wg,n.svgOverlay=kx,n.tileLayer=zg,n.tooltip=Lx,n.transformation=K,n.version=i,n.videoOverlay=bx;var Ux=window.L;n.noConflict=function(){return window.L=Ux,this},window.L=n})})(bp,bp.exports);var _t=bp.exports;const mz=ro(_t),j_=a0({__proto__:null,default:mz},[_t]);function _z({markersData:t,getSpotContent:e,searchInput:n,setSearchInput:i,filteredData:r,handleSearchInput:o}){return P.jsxs("div",{className:"spotContainer",children:[P.jsx("strong",{id:"text1",children:"View Skate Spots!"}),P.jsx("input",{className:"input-field",type:"text",id:"fname",name:"fname",style:{paddingLeft:"10px",fontWeight:"bold",fontSize:"2.5vh",marginBottom:"30px",width:"89%",borderStyle:"solid",borderRadius:"10px",borderColor:"black",borderWidth:"4px"},placeholder:"Search...",value:n,onChange:o}),P.jsx("div",{className:"blocker",children:r.length>0?P.jsx(P.Fragment,{children:r.map((a,u)=>P.jsx("a",{href:"#",children:P.jsxs("div",{id:u,className:"element-container",onClick:e,children:[P.jsx("img",{src:a.uploadedImgURLs[0],className:"image"}),P.jsxs("div",{className:"overlay",children:[P.jsx("div",{className:"element-text",children:r[u].spotName}),P.jsx("div",{className:"element-textAddress",children:r[u].spotAddress})]})]})}))}):P.jsxs("div",{style:{textAlign:"center"},children:[P.jsxs("strong",{style:{position:"relative",fontSize:"20px"},children:['No spots found matching search "',n,'".']}),P.jsx("br",{}),P.jsx("strong",{children:":(("})]})})]})}var xI=function(){if(typeof Map<"u")return Map;function t(e,n){var i=-1;return e.some(function(r,o){return r[0]===n?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var i=t(this.__entries__,n),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(n,i){var r=t(this.__entries__,n);~r?this.__entries__[r][1]=i:this.__entries__.push([n,i])},e.prototype.delete=function(n){var i=this.__entries__,r=t(i,n);~r&&i.splice(r,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var a=o[r];n.call(i,a[1],a[0])}},e}()}(),kp=typeof window<"u"&&typeof document<"u"&&window.document===document,Ec=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),gz=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ec):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),vz=2;function yz(t,e){var n=!1,i=!1,r=0;function o(){n&&(n=!1,t()),i&&u()}function a(){gz(o)}function u(){var h=Date.now();if(n){if(h-r<vz)return;i=!0}else n=!0,i=!1,setTimeout(a,e);r=h}return u}var wz=20,Ez=["top","right","bottom","left","width","height","size","weight"],Tz=typeof MutationObserver<"u",Sz=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=yz(this.refresh.bind(this),wz)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,i=n.indexOf(e);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!kp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Tz?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!kp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,i=n===void 0?"":n,r=Ez.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),bI=function(t,e){for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},no=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ec},kI=vh(0,0,0,0);function Tc(t){return parseFloat(t)||0}function Bw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(i,r){var o=t["border-"+r+"-width"];return i+Tc(o)},0)}function Cz(t){for(var e=["top","right","bottom","left"],n={},i=0,r=e;i<r.length;i++){var o=r[i],a=t["padding-"+o];n[o]=Tc(a)}return n}function Iz(t){var e=t.getBBox();return vh(0,0,e.width,e.height)}function Pz(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return kI;var i=no(t).getComputedStyle(t),r=Cz(i),o=r.left+r.right,a=r.top+r.bottom,u=Tc(i.width),h=Tc(i.height);if(i.boxSizing==="border-box"&&(Math.round(u+o)!==e&&(u-=Bw(i,"left","right")+o),Math.round(h+a)!==n&&(h-=Bw(i,"top","bottom")+a)),!bz(t)){var f=Math.round(u+o)-e,m=Math.round(h+a)-n;Math.abs(f)!==1&&(u-=f),Math.abs(m)!==1&&(h-=m)}return vh(r.left,r.top,u,h)}var xz=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof no(t).SVGGraphicsElement}:function(t){return t instanceof no(t).SVGElement&&typeof t.getBBox=="function"}}();function bz(t){return t===no(t).document.documentElement}function kz(t){return kp?xz(t)?Iz(t):Pz(t):kI}function Rz(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return bI(a,{x:e,y:n,width:i,height:r,top:n,right:e+i,bottom:r+n,left:e}),a}function vh(t,e,n,i){return{x:t,y:e,width:n,height:i}}var Lz=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vh(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=kz(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Oz=function(){function t(e,n){var i=Rz(n);bI(this,{target:e,contentRect:i})}return t}(),Az=function(){function t(e,n,i){if(this.activeObservations_=[],this.observations_=new xI,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof no(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Lz(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof no(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new Oz(i.target,i.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),RI=typeof WeakMap<"u"?new WeakMap:new xI,LI=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Sz.getInstance(),i=new Az(e,n,this);RI.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){LI.prototype[t]=function(){var e;return(e=RI.get(this))[t].apply(e,arguments)}});var OI=function(){return typeof Ec.ResizeObserver<"u"?Ec.ResizeObserver:LI}(),vn={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-vn.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?vn.Bounce.In(t*2)*.5:vn.Bounce.Out(t*2-1)*.5+.5}}},ta;typeof self>"u"&&typeof process<"u"&&process.hrtime?ta=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?ta=self.performance.now.bind(self.performance):Date.now!==void 0?ta=Date.now:ta=function(){return new Date().getTime()};var ms=ta,H_=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,n){e===void 0&&(e=ms()),n===void 0&&(n=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<i.length;r++){var o=this._tweens[i[r]],a=!n;o&&o.update(e,a)===!1&&!n&&delete this._tweens[i[r]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),na={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=na.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,o=na.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-e,i-a)*r(e,a)*t[a]*o(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=na.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=na.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var i=e;i>1;i--)n*=i;return t[e]=n,n}}(),CatmullRom:function(t,e,n,i,r){var o=(n-t)*.5,a=(i-e)*.5,u=r*r,h=r*u;return(2*e-2*n+o+a)*h+(-3*e+3*n-2*o-a)*u+o*r+e}}},Nz=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),AI=new H_,NI=function(){function t(e,n){n===void 0&&(n=AI),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=vn.Linear.None,this._interpolationFunction=na.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Nz.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,n){return this._valuesEnd=Object.create(e),n!==void 0&&(this._duration=n),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?ms()+parseFloat(e):e:ms(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,n,i,r){for(var o in i){var a=e[o],u=Array.isArray(a),h=u?"array":typeof a,f=!u&&Array.isArray(i[o]);if(!(h==="undefined"||h==="function")){if(f){var m=i[o];if(m.length===0)continue;m=m.map(this._handleRelativeValue.bind(this,a)),i[o]=[a].concat(m)}if((h==="object"||u)&&a&&!f){n[o]=u?[]:{};for(var _ in a)n[o][_]=a[_];r[o]=u?[]:{},this._setupProperties(a,n[o],i[o],r[o])}else typeof n[o]>"u"&&(n[o]=a),u||(n[o]*=1),f?r[o]=i[o].slice().reverse():r[o]=n[o]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=ms()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=ms()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){if(e===void 0&&(e=ms()),n===void 0&&(n=!0),this._isPaused)return!0;var i,r,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;n&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=this._duration===0||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),r===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,h=this._chainedTweens.length;u<h;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,i,r){for(var o in i)if(n[o]!==void 0){var a=n[o]||0,u=i[o],h=Array.isArray(e[o]),f=Array.isArray(u),m=!h&&f;m?e[o]=this._interpolationFunction(u,r):typeof u=="object"&&u?this._updateProperties(e[o],a,u,r):(u=this._handleRelativeValue(a,u),typeof u=="number"&&(e[o]=a+(u-a)*r))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t}(),Zn=AI;Zn.getAll.bind(Zn);Zn.removeAll.bind(Zn);Zn.add.bind(Zn);Zn.remove.bind(Zn);Zn.update.bind(Zn);function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ya.apply(this,arguments)}var MI=function(e,n){return n&&n<Q.Children.count(e)?n:0},Mz=function(e,n){if(typeof window<"u"&&Array.isArray(n))return n.find(function(i){return i.breakpoint<=e})},jw={linear:vn.Linear.None,ease:vn.Quadratic.InOut,"ease-in":vn.Quadratic.In,"ease-out":vn.Quadratic.Out,cubic:vn.Cubic.InOut,"cubic-in":vn.Cubic.In,"cubic-out":vn.Cubic.Out},DI=function(e){return e?jw[e]:jw.linear},FI=function(e,n,i){var r=e.prevArrow,o=e.infinite,a=n<=0&&!o,u={"data-type":"prev","aria-label":"Previous Slide",disabled:a,onClick:i};if(r)return Q.cloneElement(r,Ya({className:(r.props.className||"")+" nav "+(a?"disabled":"")},u));var h="nav default-nav "+(a?"disabled":"");return Q.createElement("button",Object.assign({type:"button",className:h},u),Q.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},Q.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},UI=function(e,n,i){var r=e.nextArrow,o=e.infinite,a=e.children,u=1;"slidesToScroll"in e&&(u=e.slidesToScroll||1);var h=n>=Q.Children.count(a)-u&&!o,f={"data-type":"next","aria-label":"Next Slide",disabled:h,onClick:i};if(r)return Q.cloneElement(r,Ya({className:(r.props.className||"")+" nav "+(h?"disabled":"")},f));var m="nav default-nav "+(h?"disabled":"");return Q.createElement("button",Object.assign({type:"button",className:m},f),Q.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},Q.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))},Dz=function(e,n,i){return Q.createElement("li",{key:n},Q.createElement("button",Object.assign({type:"button",className:"each-slideshow-indicator "+(e?"active":"")},i)))},Fz=function(e,n,i,r){return Q.cloneElement(r,Ya({className:r.props.className+" "+(e?"active":""),key:n},i))},zI=function(e,n,i,r){var o=e.children,a=e.indicators,u=1;r?u=r==null?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(u=e.slidesToScroll||1);var h=Math.ceil(Q.Children.count(o)/u);return Q.createElement("ul",{className:"indicators"},Array.from({length:h},function(f,m){var _={"data-key":m,"aria-label":"Go to slide "+(m+1),onClick:i},g=Math.floor((n+u-1)/u)===m;return typeof a=="function"?Fz(g,m,_,a(m)):Dz(g,m,_)}))},yh={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},W_=Q.forwardRef(function(t,e){var n=b.useState(MI(t.children,t.defaultIndex)),i=n[0],r=n[1],o=b.useRef(null),a=b.useRef(null),u=b.useRef(new H_),h=b.useRef(),f=b.useRef(),m=b.useMemo(function(){return Q.Children.count(t.children)},[t.children]),_=b.useCallback(function(){if(a.current&&o.current){var F=o.current.clientWidth,W=F*m;a.current.style.width=W+"px";for(var $=0;$<a.current.children.length;$++){var Z=a.current.children[$];Z&&(Z.style.width=F+"px",Z.style.left=$*-F+"px",Z.style.display="block")}}},[o,a,m]),g=b.useCallback(function(){o.current&&(f.current=new OI(function(F){F&&_()}),f.current.observe(o.current))},[o,_]),E=b.useCallback(function(){var F=t.autoplay,W=t.children,$=t.duration,Z=t.infinite;F&&Q.Children.count(W)>1&&(Z||i<Q.Children.count(W)-1)&&(h.current=setTimeout(T,$))},[t,i]);b.useEffect(function(){return g(),function(){u.current.removeAll(),clearTimeout(h.current),w()}},[g,u]),b.useEffect(function(){clearTimeout(h.current),E()},[i,t.autoplay,E]),b.useEffect(function(){_()},[m,_]),b.useImperativeHandle(e,function(){return{goNext:function(){T()},goBack:function(){y()},goTo:function(W,$){$!=null&&$.skipTransition?r(W):j(W)}}});var w=function(){f.current&&o.current&&f.current.unobserve(o.current)},C=function(){t.pauseOnHover&&clearTimeout(h.current)},O=function(){var W=t.pauseOnHover,$=t.autoplay,Z=t.duration;W&&$&&(h.current=setTimeout(function(){return T()},Z))},T=function(){var W=t.children,$=t.infinite;!$&&i===Q.Children.count(W)-1||U((i+1)%Q.Children.count(W))},y=function(){var W=t.children,$=t.infinite;!$&&i===0||U(i===0?Q.Children.count(W)-1:i-1)},I=function(W){var $=W.currentTarget;$.dataset.type==="prev"?y():T()},R=function F(){requestAnimationFrame(F),u.current.update()},U=function(W){var $=u.current.getAll();if(!$.length){var Z;(Z=a.current)!=null&&Z.children[W]||(W=0),clearTimeout(h.current);var ae={opacity:0,scale:1};R();var be=new NI(ae,u.current).to({opacity:1,scale:t.scale},t.transitionDuration).onUpdate(function(te){a.current&&(a.current.children[W].style.opacity=te.opacity,a.current.children[i].style.opacity=1-te.opacity,a.current.children[i].style.transform="scale("+te.scale+")")});be.easing(DI(t.easing)),be.onStart(function(){typeof t.onStartChange=="function"&&t.onStartChange(i,W)}),be.onComplete(function(){a.current&&(r(W),a.current.children[i].style.transform="scale(1)"),typeof t.onChange=="function"&&t.onChange(i,W)}),be.start()}},j=function(W){W!==i&&U(W)},H=function(W){var $=W.currentTarget;$.dataset.key&&parseInt($.dataset.key)!==i&&j(parseInt($.dataset.key))};return Q.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},Q.createElement("div",{className:"react-slideshow-container "+(t.cssClass||""),onMouseEnter:C,onMouseOver:C,onMouseLeave:O},t.arrows&&FI(t,i,I),Q.createElement("div",{className:"react-slideshow-fadezoom-wrapper "+t.cssClass,ref:o},Q.createElement("div",{className:"react-slideshow-fadezoom-images-wrap",ref:a},(Q.Children.map(t.children,function(F){return F})||[]).map(function(F,W){return Q.createElement("div",{style:{opacity:W===i?"1":"0",zIndex:W===i?"1":"0"},"data-index":W,key:W,"aria-roledescription":"slide","aria-hidden":W===i?"false":"true"},F)}))),t.arrows&&UI(t,i,I)),t.indicators&&zI(t,i,H))});W_.defaultProps=yh;var Uz=Q.forwardRef(function(t,e){return Q.createElement(W_,Object.assign({},t,{scale:1,ref:e}))});Uz.defaultProps=yh;var zz=Q.forwardRef(function(t,e){return Q.createElement(W_,Object.assign({},t,{ref:e}))});zz.defaultProps=yh;var BI=Q.forwardRef(function(t,e){var n=b.useState(MI(t.children,t.defaultIndex)),i=n[0],r=n[1],o=b.useState(0),a=o[0],u=o[1],h=b.useRef(null),f=b.useRef(null),m=b.useRef(new H_),_=b.useMemo(function(){return Mz(a,t.responsive)},[a,t.responsive]),g=b.useMemo(function(){return _?_.settings.slidesToScroll:t.slidesToScroll||1},[_,t.slidesToScroll]),E=b.useMemo(function(){return _?_.settings.slidesToShow:t.slidesToShow||1},[_,t.slidesToShow]),w=b.useMemo(function(){return Q.Children.count(t.children)},[t.children]),C=b.useMemo(function(){return a/E},[a,E]),O=b.useRef(),T=b.useRef(),y,I=!1,R=0,U=t.vertical?"translateY":"translateX",j=t.vertical?"clientY":"clientX",H=t.vertical?"pageY":"pageX",F=b.useCallback(function(){if(f.current){var fe=a*f.current.children.length,K=t.vertical?"height":"width";f.current.style[K]=fe+"px",t.vertical&&h.current&&(h.current.style[K]=a+"px");for(var ve=0;ve<f.current.children.length;ve++){var Xt=f.current.children[ve];Xt&&(t.vertical||(Xt.style[K]=C+"px"),Xt.style.display="block")}}},[a,C]),W=b.useCallback(function(){h.current&&(T.current=new OI(function(fe){fe&&Ge()}),T.current.observe(h.current))},[h]),$=b.useCallback(function(){var fe=t.autoplay,K=t.infinite,ve=t.duration;fe&&(K||i<w-1)&&(O.current=setTimeout(te,ve))},[t,w,i]);b.useEffect(function(){F()},[a,F]),b.useEffect(function(){return W(),function(){m.current.removeAll(),clearTimeout(O.current),Z()}},[h,W,m]),b.useEffect(function(){clearTimeout(O.current),$()},[i,a,t.autoplay,$]),b.useImperativeHandle(e,function(){return{goNext:function(){te()},goBack:function(){Pe()},goTo:function(K,ve){ve!=null&&ve.skipTransition?r(K):Me(K)}}});var Z=function(){T&&h.current&&T.current.unobserve(h.current)},ae=function(){t.pauseOnHover&&clearTimeout(O.current)},be=function(K){if(t.canSwipe&&I){var ve;if(window.TouchEvent&&K.nativeEvent instanceof TouchEvent?ve=K.nativeEvent.touches[0][H]:ve=K.nativeEvent[j],ve&&y){var Xt=C*(i+or()),Ei=ve-y;if(!t.infinite&&i===w-g&&Ei<0||!t.infinite&&i===0&&Ei>0)return;R=Ei,Xt-=R,f.current.style.transform=U+"(-"+Xt+"px)"}}},te=function(){if(!(!t.infinite&&i===w-g)){var K=A(i+g);nt(K)}},Pe=function(){if(!(!t.infinite&&i===0)){var K=i-g;K%g&&(K=Math.ceil(K/g)*g),nt(K)}},xe=function(K){var ve=K.currentTarget;if(ve.dataset.key){var Xt=parseInt(ve.dataset.key);Me(Xt*g)}},Me=function(K){nt(A(K))},A=function(K){return K<w&&K+g>w&&(w-g)%g?w-g:K},G=function(){I?he():t.pauseOnHover&&t.autoplay&&(O.current=setTimeout(te,t.duration))},D=function(K){var ve=K.currentTarget.dataset;ve.type==="next"?te():Pe()},J=function(){return Q.Children.toArray(t.children).slice(-E).map(function(K,ve){return Q.createElement("div",{"data-index":ve-E,"aria-roledescription":"slide","aria-hidden":"true",key:ve-E},K)})},me=function(){if(!(!t.infinite&&E===g))return Q.Children.toArray(t.children).slice(0,E).map(function(K,ve){return Q.createElement("div",{"data-index":w+ve,"aria-roledescription":"slide","aria-hidden":"true",key:w+ve},K)})},Ge=function(){var K=t.vertical?"clientHeight":"clientWidth";t.vertical?f.current&&u(f.current.children[0][K]):h.current&&u(h.current[K])},Ee=function(K){t.canSwipe&&(window.TouchEvent&&K.nativeEvent instanceof TouchEvent?y=K.nativeEvent.touches[0][H]:y=K.nativeEvent[j],clearTimeout(O.current),I=!0)},he=function(){t.canSwipe&&(I=!1,Math.abs(R)/a>.2?R<0?te():Pe():Math.abs(R)>0&&nt(i,300))},ie=function fe(){requestAnimationFrame(fe),m.current.update()},nt=function(K,ve){var Xt=ve||t.transitionDuration,Ei=i,ml=m.current.getAll();if(h.current){var vo=t.vertical?"clientHeight":"clientWidth",ar=h.current[vo]/E;if(!ml.length){clearTimeout(O.current);var Ih={margin:-ar*(Ei+or())+R},lr=new NI(Ih,m.current).to({margin:-ar*(K+or())},Xt).onUpdate(function(_l){f.current&&(f.current.style.transform=U+"("+_l.margin+"px)")});lr.easing(DI(t.easing)),ie();var dn=K;dn<0?dn=w-g:dn>=w&&(dn=0),lr.onStart(function(){typeof t.onStartChange=="function"&&t.onStartChange(i,dn)}),lr.onComplete(function(){R=0,typeof t.onChange=="function"&&t.onChange(i,dn),r(dn)}),lr.start()}}},Ln=function(K){return K<i+E&&K>=i},or=function(){return t.infinite?E:0},go={transform:U+"(-"+(i+or())*C+"px)"};return Q.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},Q.createElement("div",{className:"react-slideshow-container",onMouseEnter:ae,onMouseOver:ae,onMouseLeave:G,onMouseDown:Ee,onMouseUp:he,onMouseMove:be,onTouchStart:Ee,onTouchEnd:he,onTouchCancel:he,onTouchMove:be},t.arrows&&FI(t,i,D),Q.createElement("div",{className:"react-slideshow-wrapper slide "+(t.cssClass||""),ref:h},Q.createElement("div",{className:"images-wrap "+(t.vertical?"vertical":"horizontal"),style:go,ref:f},t.infinite&&J(),(Q.Children.map(t.children,function(fe){return fe})||[]).map(function(fe,K){var ve=Ln(K);return Q.createElement("div",{"data-index":K,key:K,className:ve?"active":"","aria-roledescription":"slide","aria-hidden":ve?"false":"true"},fe)}),me())),t.arrows&&UI(t,i,D)),!!t.indicators&&zI(t,i,xe,_))});BI.defaultProps=yh;function Bz({properties:t,spotID:e,filteredData:n,spotClick:i,showMap:r}){return P.jsx(P.Fragment,{children:P.jsxs("div",{className:"spotInfoContainer",children:[P.jsx("div",{className:"imageContainer",children:P.jsx("div",{className:"spotImage",children:P.jsx(BI,{...t,children:n[e].uploadedImgURLs.map((o,a)=>P.jsx("div",{children:P.jsx("img",{draggable:"false",className:"spotImage",src:o})},a+"spotImage"))})})}),P.jsx("br",{}),P.jsxs("strong",{id:"spotTitleText",children:["Spot Name: ",n[e].spotName]}),P.jsxs("p",{id:"spotAddress",children:["Address: ",n[e].spotAddress]}),P.jsx("div",{className:"spotDescription",children:P.jsx("p",{id:"spotDescriptionText",children:n[e].spotDescription})}),P.jsx("br",{}),P.jsx("button",{id:"backButton",onClick:()=>{i(),r()},children:" Back"})]})})}function jz(t,e){const n=b.useRef(e);b.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const Hz=1;function Wz(t){return Object.freeze({__version:Hz,map:t})}function $z(t,e){return Object.freeze({...t,...e})}const jI=b.createContext(null),HI=jI.Provider;function WI(){const t=b.useContext(jI);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Vz(t){function e(n,i){const{instance:r,context:o}=t(n).current;return b.useImperativeHandle(i,()=>r),n.children==null?null:Q.createElement(HI,{value:o},n.children)}return b.forwardRef(e)}function Zz(t){function e(n,i){const{instance:r}=t(n).current;return b.useImperativeHandle(i,()=>r),null}return b.forwardRef(e)}function qz(t,e){const n=b.useRef();b.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function $I(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function VI(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function ZI(t,e){return e==null?function(i,r){const o=b.useRef();return o.current||(o.current=t(i,r)),o}:function(i,r){const o=b.useRef();o.current||(o.current=t(i,r));const a=b.useRef(i),{instance:u}=o.current;return b.useEffect(function(){a.current!==i&&(e(u,i,a.current),a.current=i)},[u,i,r]),o}}function Gz(t,e){b.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function qI(t){return function(n){const i=WI(),r=t($I(n,i),i);return jz(i.map,n.attribution),qz(r.current,n.eventHandlers),Gz(r.current,i),r}}function Kz(t,e){const n=ZI(t,e),i=qI(n);return Vz(i)}function Yz(t,e){const n=ZI(t,e),i=qI(n);return Zz(i)}function Qz(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function Xz(){return WI().map}function Rp(){return Rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rp.apply(this,arguments)}function Jz({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:o,placeholder:a,style:u,whenReady:h,zoom:f,...m},_){const[g]=b.useState({className:r,id:o,style:u}),[E,w]=b.useState(null);b.useImperativeHandle(_,()=>(E==null?void 0:E.map)??null,[E]);const C=b.useCallback(T=>{if(T!==null&&E===null){const y=new _t.Map(T,m);n!=null&&f!=null?y.setView(n,f):t!=null&&y.fitBounds(t,e),h!=null&&y.whenReady(h),w(Wz(y))}},[]);b.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const O=E?Q.createElement(HI,{value:E},i):a??null;return Q.createElement("div",Rp({},g,{ref:C}),O)}const eB=b.forwardRef(Jz),tB=Kz(function({position:e,...n},i){const r=new _t.Marker(e,n);return VI(r,$z(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),nB=Yz(function({url:e,...n},i){const r=new _t.TileLayer(e,$I(n,i));return VI(r,i)},function(e,n,i){Qz(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)});var GI={exports:{}},iB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rB=iB,sB=rB;function KI(){}function YI(){}YI.resetWarningCache=KI;var oB=function(){function t(i,r,o,a,u,h){if(h!==sB){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YI,resetWarningCache:KI};return n.PropTypes=n,n};GI.exports=oB();var aB=GI.exports;const De=ro(aB);function lB(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var QI=b,uB=lB(QI);function Hw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var hB=!!(typeof window<"u"&&window.document&&window.document.createElement);function dB(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function i(r){return r.displayName||r.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],u;function h(){u=t(a.map(function(m){return m.props})),f.canUseDOM?e(u):n&&(u=n(u))}var f=function(m){cB(_,m);function _(){return m.apply(this,arguments)||this}_.peek=function(){return u},_.rewind=function(){if(_.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var w=u;return u=void 0,a=[],w};var g=_.prototype;return g.UNSAFE_componentWillMount=function(){a.push(this),h()},g.componentDidUpdate=function(){h()},g.componentWillUnmount=function(){var w=a.indexOf(this);a.splice(w,1),h()},g.render=function(){return uB.createElement(o,this.props)},_}(QI.PureComponent);return Hw(f,"displayName","SideEffect("+i(o)+")"),Hw(f,"canUseDOM",hB),f}}var fB=dB;const pB=ro(fB);var mB=typeof Element<"u",_B=typeof Map=="function",gB=typeof Set=="function",vB=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!wu(t[i],e[i]))return!1;return!0}var o;if(_B&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;for(o=t.entries();!(i=o.next()).done;)if(!wu(i.value[1],e.get(i.value[0])))return!1;return!0}if(gB&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(vB&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;if(mB&&t instanceof Element)return!1;for(i=n;i--!==0;)if(!((r[i]==="_owner"||r[i]==="__v"||r[i]==="__o")&&t.$$typeof)&&!wu(t[r[i]],e[r[i]]))return!1;return!0}return t!==t&&e!==e}var yB=function(e,n){try{return wu(e,n)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const wB=ro(yB);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ww=Object.getOwnPropertySymbols,EB=Object.prototype.hasOwnProperty,TB=Object.prototype.propertyIsEnumerable;function SB(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function CB(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(i.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var IB=CB()?Object.assign:function(t,e){for(var n,i=SB(t),r,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var a in n)EB.call(n,a)&&(i[a]=n[a]);if(Ww){r=Ww(n);for(var u=0;u<r.length;u++)TB.call(n,r[u])&&(i[r[u]]=n[r[u]])}}return i};const PB=ro(IB);var Lr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},re={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(re).map(function(t){return re[t]});var Fe={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Sc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Qa={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},xB=Object.keys(Sc).reduce(function(t,e){return t[Sc[e]]=e,t},{}),bB=[re.NOSCRIPT,re.SCRIPT,re.STYLE],Tn="data-react-helmet",kB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RB=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},LB=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},OB=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},$w=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},AB=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Lp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},NB=function(e){var n=Hs(e,re.TITLE),i=Hs(e,Qa.TITLE_TEMPLATE);if(i&&n)return i.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=Hs(e,Qa.DEFAULT_TITLE);return n||r||void 0},MB=function(e){return Hs(e,Qa.ON_CHANGE_CLIENT_STATE)||function(){}},Yd=function(e,n){return n.filter(function(i){return typeof i[e]<"u"}).map(function(i){return i[e]}).reduce(function(i,r){return Nt({},i,r)},{})},DB=function(e,n){return n.filter(function(i){return typeof i[re.BASE]<"u"}).map(function(i){return i[re.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var o=Object.keys(r),a=0;a<o.length;a++){var u=o[a],h=u.toLowerCase();if(e.indexOf(h)!==-1&&r[h])return i.concat(r)}return i},[])},Vo=function(e,n,i){var r={};return i.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&BB("Helmet: "+e+' should be of type "Array". Instead found type "'+kB(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,a){var u={};a.filter(function(g){for(var E=void 0,w=Object.keys(g),C=0;C<w.length;C++){var O=w[C],T=O.toLowerCase();n.indexOf(T)!==-1&&!(E===Fe.REL&&g[E].toLowerCase()==="canonical")&&!(T===Fe.REL&&g[T].toLowerCase()==="stylesheet")&&(E=T),n.indexOf(O)!==-1&&(O===Fe.INNER_HTML||O===Fe.CSS_TEXT||O===Fe.ITEM_PROP)&&(E=O)}if(!E||!g[E])return!1;var y=g[E].toLowerCase();return r[E]||(r[E]={}),u[E]||(u[E]={}),r[E][y]?!1:(u[E][y]=!0,!0)}).reverse().forEach(function(g){return o.push(g)});for(var h=Object.keys(u),f=0;f<h.length;f++){var m=h[f],_=PB({},r[m],u[m]);r[m]=_}return o},[]).reverse()},Hs=function(e,n){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(n))return r[n]}return null},FB=function(e){return{baseTag:DB([Fe.HREF,Fe.TARGET],e),bodyAttributes:Yd(Lr.BODY,e),defer:Hs(e,Qa.DEFER),encode:Hs(e,Qa.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Yd(Lr.HTML,e),linkTags:Vo(re.LINK,[Fe.REL,Fe.HREF],e),metaTags:Vo(re.META,[Fe.NAME,Fe.CHARSET,Fe.HTTPEQUIV,Fe.PROPERTY,Fe.ITEM_PROP],e),noscriptTags:Vo(re.NOSCRIPT,[Fe.INNER_HTML],e),onChangeClientState:MB(e),scriptTags:Vo(re.SCRIPT,[Fe.SRC,Fe.INNER_HTML],e),styleTags:Vo(re.STYLE,[Fe.CSS_TEXT],e),title:NB(e),titleAttributes:Yd(Lr.TITLE,e)}},Op=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Op(e)},0)}}(),Vw=function(e){return clearTimeout(e)},UB=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Op:global.requestAnimationFrame||Op,zB=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Vw:global.cancelAnimationFrame||Vw,BB=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Zo=null,jB=function(e){Zo&&zB(Zo),e.defer?Zo=UB(function(){Zw(e,function(){Zo=null})}):(Zw(e),Zo=null)},Zw=function(e,n){var i=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,a=e.linkTags,u=e.metaTags,h=e.noscriptTags,f=e.onChangeClientState,m=e.scriptTags,_=e.styleTags,g=e.title,E=e.titleAttributes;Ap(re.BODY,r),Ap(re.HTML,o),HB(g,E);var w={baseTag:fs(re.BASE,i),linkTags:fs(re.LINK,a),metaTags:fs(re.META,u),noscriptTags:fs(re.NOSCRIPT,h),scriptTags:fs(re.SCRIPT,m),styleTags:fs(re.STYLE,_)},C={},O={};Object.keys(w).forEach(function(T){var y=w[T],I=y.newTags,R=y.oldTags;I.length&&(C[T]=I),R.length&&(O[T]=w[T].oldTags)}),n&&n(),f(e,C,O)},XI=function(e){return Array.isArray(e)?e.join(""):e},HB=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=XI(e)),Ap(re.TITLE,n)},Ap=function(e,n){var i=document.getElementsByTagName(e)[0];if(i){for(var r=i.getAttribute(Tn),o=r?r.split(","):[],a=[].concat(o),u=Object.keys(n),h=0;h<u.length;h++){var f=u[h],m=n[f]||"";i.getAttribute(f)!==m&&i.setAttribute(f,m),o.indexOf(f)===-1&&o.push(f);var _=a.indexOf(f);_!==-1&&a.splice(_,1)}for(var g=a.length-1;g>=0;g--)i.removeAttribute(a[g]);o.length===a.length?i.removeAttribute(Tn):i.getAttribute(Tn)!==u.join(",")&&i.setAttribute(Tn,u.join(","))}},fs=function(e,n){var i=document.head||document.querySelector(re.HEAD),r=i.querySelectorAll(e+"["+Tn+"]"),o=Array.prototype.slice.call(r),a=[],u=void 0;return n&&n.length&&n.forEach(function(h){var f=document.createElement(e);for(var m in h)if(h.hasOwnProperty(m))if(m===Fe.INNER_HTML)f.innerHTML=h.innerHTML;else if(m===Fe.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{var _=typeof h[m]>"u"?"":h[m];f.setAttribute(m,_)}f.setAttribute(Tn,"true"),o.some(function(g,E){return u=E,f.isEqualNode(g)})?o.splice(u,1):a.push(f)}),o.forEach(function(h){return h.parentNode.removeChild(h)}),a.forEach(function(h){return i.appendChild(h)}),{oldTags:o,newTags:a}},JI=function(e){return Object.keys(e).reduce(function(n,i){var r=typeof e[i]<"u"?i+'="'+e[i]+'"':""+i;return n?n+" "+r:r},"")},WB=function(e,n,i,r){var o=JI(i),a=XI(n);return o?"<"+e+" "+Tn+'="true" '+o+">"+Lp(a,r)+"</"+e+">":"<"+e+" "+Tn+'="true">'+Lp(a,r)+"</"+e+">"},$B=function(e,n,i){return n.reduce(function(r,o){var a=Object.keys(o).filter(function(f){return!(f===Fe.INNER_HTML||f===Fe.CSS_TEXT)}).reduce(function(f,m){var _=typeof o[m]>"u"?m:m+'="'+Lp(o[m],i)+'"';return f?f+" "+_:_},""),u=o.innerHTML||o.cssText||"",h=bB.indexOf(e)===-1;return r+"<"+e+" "+Tn+'="true" '+a+(h?"/>":">"+u+"</"+e+">")},"")},eP=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[Sc[r]||r]=e[r],i},n)},VB=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[xB[r]||r]=e[r],i},n)},ZB=function(e,n,i){var r,o=(r={key:n},r[Tn]=!0,r),a=eP(i,o);return[Q.createElement(re.TITLE,a,n)]},qB=function(e,n){return n.map(function(i,r){var o,a=(o={key:r},o[Tn]=!0,o);return Object.keys(i).forEach(function(u){var h=Sc[u]||u;if(h===Fe.INNER_HTML||h===Fe.CSS_TEXT){var f=i.innerHTML||i.cssText;a.dangerouslySetInnerHTML={__html:f}}else a[h]=i[u]}),Q.createElement(e,a)})},Jn=function(e,n,i){switch(e){case re.TITLE:return{toComponent:function(){return ZB(e,n.title,n.titleAttributes)},toString:function(){return WB(e,n.title,n.titleAttributes,i)}};case Lr.BODY:case Lr.HTML:return{toComponent:function(){return eP(n)},toString:function(){return JI(n)}};default:return{toComponent:function(){return qB(e,n)},toString:function(){return $B(e,n,i)}}}},tP=function(e){var n=e.baseTag,i=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,a=e.linkTags,u=e.metaTags,h=e.noscriptTags,f=e.scriptTags,m=e.styleTags,_=e.title,g=_===void 0?"":_,E=e.titleAttributes;return{base:Jn(re.BASE,n,r),bodyAttributes:Jn(Lr.BODY,i,r),htmlAttributes:Jn(Lr.HTML,o,r),link:Jn(re.LINK,a,r),meta:Jn(re.META,u,r),noscript:Jn(re.NOSCRIPT,h,r),script:Jn(re.SCRIPT,f,r),style:Jn(re.STYLE,m,r),title:Jn(re.TITLE,{title:g,titleAttributes:E},r)}},GB=function(e){var n,i;return i=n=function(r){OB(o,r);function o(){return RB(this,o),AB(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(u){return!wB(this.props,u)},o.prototype.mapNestedChildrenToProps=function(u,h){if(!h)return null;switch(u.type){case re.SCRIPT:case re.NOSCRIPT:return{innerHTML:h};case re.STYLE:return{cssText:h}}throw new Error("<"+u.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(u){var h,f=u.child,m=u.arrayTypeChildren,_=u.newChildProps,g=u.nestedChildren;return Nt({},m,(h={},h[f.type]=[].concat(m[f.type]||[],[Nt({},_,this.mapNestedChildrenToProps(f,g))]),h))},o.prototype.mapObjectTypeChildren=function(u){var h,f,m=u.child,_=u.newProps,g=u.newChildProps,E=u.nestedChildren;switch(m.type){case re.TITLE:return Nt({},_,(h={},h[m.type]=E,h.titleAttributes=Nt({},g),h));case re.BODY:return Nt({},_,{bodyAttributes:Nt({},g)});case re.HTML:return Nt({},_,{htmlAttributes:Nt({},g)})}return Nt({},_,(f={},f[m.type]=Nt({},g),f))},o.prototype.mapArrayTypeChildrenToProps=function(u,h){var f=Nt({},h);return Object.keys(u).forEach(function(m){var _;f=Nt({},f,(_={},_[m]=u[m],_))}),f},o.prototype.warnOnInvalidChildren=function(u,h){return!0},o.prototype.mapChildrenToProps=function(u,h){var f=this,m={};return Q.Children.forEach(u,function(_){if(!(!_||!_.props)){var g=_.props,E=g.children,w=$w(g,["children"]),C=VB(w);switch(f.warnOnInvalidChildren(_,E),_.type){case re.LINK:case re.META:case re.NOSCRIPT:case re.SCRIPT:case re.STYLE:m=f.flattenArrayTypeChildren({child:_,arrayTypeChildren:m,newChildProps:C,nestedChildren:E});break;default:h=f.mapObjectTypeChildren({child:_,newProps:h,newChildProps:C,nestedChildren:E});break}}}),h=this.mapArrayTypeChildrenToProps(m,h),h},o.prototype.render=function(){var u=this.props,h=u.children,f=$w(u,["children"]),m=Nt({},f);return h&&(m=this.mapChildrenToProps(h,m)),Q.createElement(e,m)},LB(o,null,[{key:"canUseDOM",set:function(u){e.canUseDOM=u}}]),o}(Q.Component),n.propTypes={base:De.object,bodyAttributes:De.object,children:De.oneOfType([De.arrayOf(De.node),De.node]),defaultTitle:De.string,defer:De.bool,encodeSpecialCharacters:De.bool,htmlAttributes:De.object,link:De.arrayOf(De.object),meta:De.arrayOf(De.object),noscript:De.arrayOf(De.object),onChangeClientState:De.func,script:De.arrayOf(De.object),style:De.arrayOf(De.object),title:De.string,titleAttributes:De.object,titleTemplate:De.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=tP({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},KB=function(){return null},YB=pB(FB,jB,tP)(KB),qw=GB(YB);qw.renderStatic=qw.rewind;function QB(){const t=[],[e,n]=b.useState({latitude:43.747474670410156,longitude:-79.49417877197266}),[i,r]=b.useState(0),[o,a]=b.useState(!1),[u,h]=b.useState(),[f,m]=b.useState(null);Sp(xp,"images/");const _=RC(PI,"spots/"),[g,E]=b.useState(0),[w,C]=b.useState(!1),[O,T]=b.useState(""),[y,I]=b.useState();let R=()=>{window.innerWidth<700?C(!0):C(!1)};b.useEffect(()=>{window.addEventListener("resize",R),R()},[]);function U(){document.getElementById("mapcontainuh").style.display="block"}b.useEffect(()=>{mI(qr,te=>{m(te||null)}),TD(_,te=>{te.forEach(Pe=>{t.push(Pe.val())}),h(t),I(t)})},[]);function j(te){a(!0),r(te.currentTarget.id),n({latitude:y[te.currentTarget.id].lat,longitude:y[te.currentTarget.id].long})}function H(te){a(!0),r(te),n({latitude:y[te].lat,longitude:y[te].long})}function F(){a(!1),E(0)}const W=new _t.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]});function $(){const te=Xz();return o?te.flyTo([e.latitude,e.longitude],18,{animate:!0,duration:2}):te.flyTo([e.latitude,e.longitude],10,{animate:!0,duration:2}),null}const Z=te=>{const Pe=te.target.value;T(Pe),I(xe=>u.filter(Me=>Me.spotName.toLowerCase().includes(Pe.toLowerCase())||Me.spotName.toLowerCase().includes(Pe.toLowerCase())))},ae={width:"3vw",height:"3vw",background:"none",border:"0px"},be={canSwipe:!0,transitionDuration:100,prevArrow:P.jsx("button",{className:"button",style:{...ae},children:"<"}),nextArrow:P.jsx("button",{className:"button",style:{...ae},children:">"})};return P.jsxs(b.Fragment,{children:[P.jsx(gh,{}),P.jsxs("div",{className:"bigContainer",children:[y?P.jsxs(eB,{id:"mapcontainuh",center:[e.latitude,e.longitude],zoom:12,scrollWheelZoom:!1,children:[P.jsx(nB,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P.jsx($,{}),y?P.jsx("div",{children:y.map((te,Pe)=>P.jsx(P.Fragment,{children:P.jsx(tB,{id:Pe,position:[te.lat,te.long],icon:W,eventHandlers:{click:xe=>{H(xe.target.options.id)}}})}))}):P.jsx(P.Fragment,{})]}):null,o?P.jsx("div",{className:"spotWindow",children:u?P.jsx(Bz,{properties:be,spotID:i,markersData:u,spotClick:F,showMap:U,filteredData:y}):P.jsx(P.Fragment,{})}):P.jsx(P.Fragment,{children:u?P.jsx(_z,{markersData:u,getSpotContent:j,setSearchInput:T,searchInput:O,handleSearchInput:Z,filteredData:y}):null})]})]})}const XB=()=>P.jsx("div",{});function nP(t,e){return function(){return t.apply(e,arguments)}}const{toString:JB}=Object.prototype,{getPrototypeOf:$_}=Object,wh=(t=>e=>{const n=JB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Gn=t=>(t=t.toLowerCase(),e=>wh(e)===t),Eh=t=>e=>typeof e===t,{isArray:_o}=Array,Xa=Eh("undefined");function ej(t){return t!==null&&!Xa(t)&&t.constructor!==null&&!Xa(t.constructor)&&ln(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iP=Gn("ArrayBuffer");function tj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iP(t.buffer),e}const nj=Eh("string"),ln=Eh("function"),rP=Eh("number"),Th=t=>t!==null&&typeof t=="object",ij=t=>t===!0||t===!1,Eu=t=>{if(wh(t)!=="object")return!1;const e=$_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rj=Gn("Date"),sj=Gn("File"),oj=Gn("Blob"),aj=Gn("FileList"),lj=t=>Th(t)&&ln(t.pipe),uj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ln(t.append)&&((e=wh(t))==="formdata"||e==="object"&&ln(t.toString)&&t.toString()==="[object FormData]"))},cj=Gn("URLSearchParams"),hj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),_o(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let u;for(i=0;i<a;i++)u=o[i],e.call(null,t[u],u,t)}}function sP(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const oP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),aP=t=>!Xa(t)&&t!==oP;function Np(){const{caseless:t}=aP(this)&&this||{},e={},n=(i,r)=>{const o=t&&sP(e,r)||r;Eu(e[o])&&Eu(i)?e[o]=Np(e[o],i):Eu(i)?e[o]=Np({},i):_o(i)?e[o]=i.slice():e[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&fl(arguments[i],n);return e}const dj=(t,e,n,{allOwnKeys:i}={})=>(fl(e,(r,o)=>{n&&ln(r)?t[o]=nP(r,n):t[o]=r},{allOwnKeys:i}),t),fj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pj=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},mj=(t,e,n,i)=>{let r,o,a;const u={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)a=r[o],(!i||i(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&$_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},_j=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},gj=t=>{if(!t)return null;if(_o(t))return t;let e=t.length;if(!rP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},vj=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$_(Uint8Array)),yj=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=i.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},wj=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},Ej=Gn("HTMLFormElement"),Tj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Gw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Sj=Gn("RegExp"),lP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};fl(n,(r,o)=>{let a;(a=e(r,o,t))!==!1&&(i[o]=a||r)}),Object.defineProperties(t,i)},Cj=t=>{lP(t,(e,n)=>{if(ln(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(ln(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ij=(t,e)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return _o(t)?i(t):i(String(t).split(e)),n},Pj=()=>{},xj=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Qd="abcdefghijklmnopqrstuvwxyz",Kw="0123456789",uP={DIGIT:Kw,ALPHA:Qd,ALPHA_DIGIT:Qd+Qd.toUpperCase()+Kw},bj=(t=16,e=uP.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function kj(t){return!!(t&&ln(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Rj=t=>{const e=new Array(10),n=(i,r)=>{if(Th(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const o=_o(i)?[]:{};return fl(i,(a,u)=>{const h=n(a,r+1);!Xa(h)&&(o[u]=h)}),e[r]=void 0,o}}return i};return n(t,0)},Lj=Gn("AsyncFunction"),Oj=t=>t&&(Th(t)||ln(t))&&ln(t.then)&&ln(t.catch),N={isArray:_o,isArrayBuffer:iP,isBuffer:ej,isFormData:uj,isArrayBufferView:tj,isString:nj,isNumber:rP,isBoolean:ij,isObject:Th,isPlainObject:Eu,isUndefined:Xa,isDate:rj,isFile:sj,isBlob:oj,isRegExp:Sj,isFunction:ln,isStream:lj,isURLSearchParams:cj,isTypedArray:vj,isFileList:aj,forEach:fl,merge:Np,extend:dj,trim:hj,stripBOM:fj,inherits:pj,toFlatObject:mj,kindOf:wh,kindOfTest:Gn,endsWith:_j,toArray:gj,forEachEntry:yj,matchAll:wj,isHTMLForm:Ej,hasOwnProperty:Gw,hasOwnProp:Gw,reduceDescriptors:lP,freezeMethods:Cj,toObjectSet:Ij,toCamelCase:Tj,noop:Pj,toFiniteNumber:xj,findKey:sP,global:oP,isContextDefined:aP,ALPHABET:uP,generateString:bj,isSpecCompliantForm:kj,toJSONObject:Rj,isAsyncFn:Lj,isThenable:Oj};function ge(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}N.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cP=ge.prototype,hP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hP[t]={value:t}});Object.defineProperties(ge,hP);Object.defineProperty(cP,"isAxiosError",{value:!0});ge.from=(t,e,n,i,r,o)=>{const a=Object.create(cP);return N.toFlatObject(t,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),ge.call(a,t.message,e,n,i,r),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const Aj=null;function Mp(t){return N.isPlainObject(t)||N.isArray(t)}function dP(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Yw(t,e,n){return t?t.concat(e).map(function(r,o){return r=dP(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Nj(t){return N.isArray(t)&&!t.some(Mp)}const Mj=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function Sh(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,O){return!N.isUndefined(O[C])});const i=n.metaTokens,r=n.visitor||m,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(N.isDate(w))return w.toISOString();if(!h&&N.isBlob(w))throw new ge("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(w)||N.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,C,O){let T=w;if(w&&!O&&typeof w=="object"){if(N.endsWith(C,"{}"))C=i?C:C.slice(0,-2),w=JSON.stringify(w);else if(N.isArray(w)&&Nj(w)||(N.isFileList(w)||N.endsWith(C,"[]"))&&(T=N.toArray(w)))return C=dP(C),T.forEach(function(I,R){!(N.isUndefined(I)||I===null)&&e.append(a===!0?Yw([C],R,o):a===null?C:C+"[]",f(I))}),!1}return Mp(w)?!0:(e.append(Yw(O,C,o),f(w)),!1)}const _=[],g=Object.assign(Mj,{defaultVisitor:m,convertValue:f,isVisitable:Mp});function E(w,C){if(!N.isUndefined(w)){if(_.indexOf(w)!==-1)throw Error("Circular reference detected in "+C.join("."));_.push(w),N.forEach(w,function(T,y){(!(N.isUndefined(T)||T===null)&&r.call(e,T,N.isString(y)?y.trim():y,C,g))===!0&&E(T,C?C.concat(y):[y])}),_.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return E(t),e}function Qw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function V_(t,e){this._pairs=[],t&&Sh(t,this,e)}const fP=V_.prototype;fP.append=function(e,n){this._pairs.push([e,n])};fP.toString=function(e){const n=e?function(i){return e.call(this,i,Qw)}:Qw;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Dj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pP(t,e,n){if(!e)return t;const i=n&&n.encode||Dj,r=n&&n.serialize;let o;if(r?o=r(e,n):o=N.isURLSearchParams(e)?e.toString():new V_(e,n).toString(i),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Fj{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Xw=Fj,mP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uj=typeof URLSearchParams<"u"?URLSearchParams:V_,zj=typeof FormData<"u"?FormData:null,Bj=typeof Blob<"u"?Blob:null,jj={isBrowser:!0,classes:{URLSearchParams:Uj,FormData:zj,Blob:Bj},protocols:["http","https","file","blob","url","data"]},_P=typeof window<"u"&&typeof document<"u",Hj=(t=>_P&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Wj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$j=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_P,hasStandardBrowserEnv:Hj,hasStandardBrowserWebWorkerEnv:Wj},Symbol.toStringTag,{value:"Module"})),jn={...$j,...jj};function Vj(t,e){return Sh(t,new jn.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return jn.isNode&&N.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Zj(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qj(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}function gP(t){function e(n,i,r,o){let a=n[o++];const u=Number.isFinite(+a),h=o>=n.length;return a=!a&&N.isArray(r)?r.length:a,h?(N.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!u):((!r[a]||!N.isObject(r[a]))&&(r[a]=[]),e(n,i,r[a],o)&&N.isArray(r[a])&&(r[a]=qj(r[a])),!u)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(i,r)=>{e(Zj(i),r,n,0)}),n}return null}function Gj(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Z_={transitional:mP,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=N.isObject(e);if(o&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return r&&r?JSON.stringify(gP(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Vj(e,this.formSerializer).toString();if((u=N.isFileList(e))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Sh(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),Gj(e)):e}],transformResponse:[function(e){const n=this.transitional||Z_.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&N.isString(e)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?ge.from(u,ge.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{Z_.headers[t]={}});const q_=Z_,Kj=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yj=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||e[n]&&Kj[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Jw=Symbol("internals");function qo(t){return t&&String(t).trim().toLowerCase()}function Tu(t){return t===!1||t==null?t:N.isArray(t)?t.map(Tu):String(t)}function Qj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Xj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xd(t,e,n,i,r){if(N.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!N.isString(e)){if(N.isString(i))return e.indexOf(i)!==-1;if(N.isRegExp(i))return i.test(e)}}function Jj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function eH(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,o,a){return this[i].call(this,e,r,o,a)},configurable:!0})})}class Ch{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function o(u,h,f){const m=qo(h);if(!m)throw new Error("header name must be a non-empty string");const _=N.findKey(r,m);(!_||r[_]===void 0||f===!0||f===void 0&&r[_]!==!1)&&(r[_||h]=Tu(u))}const a=(u,h)=>N.forEach(u,(f,m)=>o(f,m,h));return N.isPlainObject(e)||e instanceof this.constructor?a(e,n):N.isString(e)&&(e=e.trim())&&!Xj(e)?a(Yj(e),n):e!=null&&o(n,e,i),this}get(e,n){if(e=qo(e),e){const i=N.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return Qj(r);if(N.isFunction(n))return n.call(this,r,i);if(N.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qo(e),e){const i=N.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Xd(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function o(a){if(a=qo(a),a){const u=N.findKey(i,a);u&&(!n||Xd(i,i[u],u,n))&&(delete i[u],r=!0)}}return N.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!e||Xd(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,i={};return N.forEach(this,(r,o)=>{const a=N.findKey(i,o);if(a){n[a]=Tu(r),delete n[o];return}const u=e?Jj(o):String(o).trim();u!==o&&delete n[o],n[u]=Tu(r),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&N.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Jw]=this[Jw]={accessors:{}}).accessors,r=this.prototype;function o(a){const u=qo(a);i[u]||(eH(r,a),i[u]=!0)}return N.isArray(e)?e.forEach(o):o(e),this}}Ch.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(Ch.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});N.freezeMethods(Ch);const ui=Ch;function Jd(t,e){const n=this||q_,i=e||n,r=ui.from(i.headers);let o=i.data;return N.forEach(t,function(u){o=u.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function vP(t){return!!(t&&t.__CANCEL__)}function pl(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(pl,ge,{__CANCEL__:!0});function tH(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const nH=jn.hasStandardBrowserEnv?function(){return{write:function(n,i,r,o,a,u){const h=[];h.push(n+"="+encodeURIComponent(i)),N.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),N.isString(o)&&h.push("path="+o),N.isString(a)&&h.push("domain="+a),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function iH(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rH(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function yP(t,e){return t&&!iH(e)?rH(t,e):e}const sH=jn.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(a){const u=N.isString(a)?r(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function oH(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function aH(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,o=0,a;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=i[o];a||(a=f),n[r]=h,i[r]=f;let _=o,g=0;for(;_!==r;)g+=n[_++],_=_%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),f-a<e)return;const E=m&&f-m;return E?Math.round(g*1e3/E):void 0}}function e0(t,e){let n=0;const i=aH(50,250);return r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,u=o-n,h=i(u),f=o<=a;n=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:h||void 0,estimated:h&&a&&f?(a-o)/h:void 0,event:r};m[e?"download":"upload"]=!0,t(m)}}const lH=typeof XMLHttpRequest<"u",uH=lH&&function(t){return new Promise(function(n,i){let r=t.data;const o=ui.from(t.headers).normalize(),a=t.responseType;let u;function h(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let f;if(N.isFormData(r)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[w,...C]=f?f.split(";").map(O=>O.trim()).filter(Boolean):[];o.setContentType([w||"multipart/form-data",...C].join("; "))}}let m=new XMLHttpRequest;if(t.auth){const w=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(w+":"+C))}const _=yP(t.baseURL,t.url);m.open(t.method.toUpperCase(),pP(_,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function g(){if(!m)return;const w=ui.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:w,config:t,request:m};tH(function(y){n(y),h()},function(y){i(y),h()},O),m=null}if("onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(g)},m.onabort=function(){m&&(i(new ge("Request aborted",ge.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new ge("Network Error",ge.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const O=t.transitional||mP;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new ge(C,O.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,m)),m=null},jn.hasStandardBrowserEnv){const w=sH(_)&&t.xsrfCookieName&&nH.read(t.xsrfCookieName);w&&o.set(t.xsrfHeaderName,w)}r===void 0&&o.setContentType(null),"setRequestHeader"in m&&N.forEach(o.toJSON(),function(C,O){m.setRequestHeader(O,C)}),N.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),a&&a!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",e0(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",e0(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=w=>{m&&(i(!w||w.type?new pl(null,t,m):w),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const E=oH(_);if(E&&jn.protocols.indexOf(E)===-1){i(new ge("Unsupported protocol "+E+":",ge.ERR_BAD_REQUEST,t));return}m.send(r||null)})},Dp={http:Aj,xhr:uH};N.forEach(Dp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const t0=t=>`- ${t}`,cH=t=>N.isFunction(t)||t===null||t===!1,wP={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){n=t[o];let a;if(i=n,!cH(n)&&(i=Dp[(a=String(n)).toLowerCase()],i===void 0))throw new ge(`Unknown adapter '${a}'`);if(i)break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(t0).join(`
`):" "+t0(o[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Dp};function ef(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pl(null,t)}function n0(t){return ef(t),t.headers=ui.from(t.headers),t.data=Jd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wP.getAdapter(t.adapter||q_.adapter)(t).then(function(i){return ef(t),i.data=Jd.call(t,t.transformResponse,i),i.headers=ui.from(i.headers),i},function(i){return vP(i)||(ef(t),i&&i.response&&(i.response.data=Jd.call(t,t.transformResponse,i.response),i.response.headers=ui.from(i.response.headers))),Promise.reject(i)})}const i0=t=>t instanceof ui?t.toJSON():t;function io(t,e){e=e||{};const n={};function i(f,m,_){return N.isPlainObject(f)&&N.isPlainObject(m)?N.merge.call({caseless:_},f,m):N.isPlainObject(m)?N.merge({},m):N.isArray(m)?m.slice():m}function r(f,m,_){if(N.isUndefined(m)){if(!N.isUndefined(f))return i(void 0,f,_)}else return i(f,m,_)}function o(f,m){if(!N.isUndefined(m))return i(void 0,m)}function a(f,m){if(N.isUndefined(m)){if(!N.isUndefined(f))return i(void 0,f)}else return i(void 0,m)}function u(f,m,_){if(_ in e)return i(f,m);if(_ in t)return i(void 0,f)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(f,m)=>r(i0(f),i0(m),!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=h[m]||r,g=_(t[m],e[m],m);N.isUndefined(g)&&_!==u||(n[m]=g)}),n}const EP="1.6.1",G_={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{G_[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const r0={};G_.transitional=function(e,n,i){function r(o,a){return"[Axios v"+EP+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,u)=>{if(e===!1)throw new ge(r(a," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!r0[a]&&(r0[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,u):!0}};function hH(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],a=e[o];if(a){const u=t[o],h=u===void 0||a(u,o,t);if(h!==!0)throw new ge("option "+o+" must be "+h,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const Fp={assertOptions:hH,validators:G_},Pi=Fp.validators;class Cc{constructor(e){this.defaults=e,this.interceptors={request:new Xw,response:new Xw}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=io(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&Fp.assertOptions(i,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),r!=null&&(N.isFunction(r)?n.paramsSerializer={serialize:r}:Fp.assertOptions(r,{encode:Pi.function,serialize:Pi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&N.merge(o.common,o[n.method]);o&&N.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=ui.concat(a,o);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let m,_=0,g;if(!h){const w=[n0.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),g=w.length,m=Promise.resolve(n);_<g;)m=m.then(w[_++],w[_++]);return m}g=u.length;let E=n;for(_=0;_<g;){const w=u[_++],C=u[_++];try{E=w(E)}catch(O){C.call(this,O);break}}try{m=n0.call(this,E)}catch(w){return Promise.reject(w)}for(_=0,g=f.length;_<g;)m=m.then(f[_++],f[_++]);return m}getUri(e){e=io(this.defaults,e);const n=yP(e.baseURL,e.url);return pP(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){Cc.prototype[e]=function(n,i){return this.request(io(i||{},{method:e,url:n,data:(i||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(i){return function(o,a,u){return this.request(io(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Cc.prototype[e]=n(),Cc.prototype[e+"Form"]=n(!0)});const Su=Cc;class K_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(u=>{i.subscribe(u),o=u}).then(r);return a.cancel=function(){i.unsubscribe(o)},a},e(function(o,a,u){i.reason||(i.reason=new pl(o,a,u),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new K_(function(r){e=r}),cancel:e}}}const dH=K_;function fH(t){return function(n){return t.apply(null,n)}}function pH(t){return N.isObject(t)&&t.isAxiosError===!0}const Up={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Up).forEach(([t,e])=>{Up[e]=t});const mH=Up;function TP(t){const e=new Su(t),n=nP(Su.prototype.request,e);return N.extend(n,Su.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return TP(io(t,r))},n}const tt=TP(q_);tt.Axios=Su;tt.CanceledError=pl;tt.CancelToken=dH;tt.isCancel=vP;tt.VERSION=EP;tt.toFormData=Sh;tt.AxiosError=ge;tt.Cancel=tt.CanceledError;tt.all=function(e){return Promise.all(e)};tt.spread=fH;tt.isAxiosError=pH;tt.mergeConfig=io;tt.AxiosHeaders=ui;tt.formToJSON=t=>gP(N.isHTMLForm(t)?new FormData(t):t);tt.getAdapter=wP.getAdapter;tt.HttpStatusCode=mH;tt.default=tt;const _H=tt;function Sr(){return Sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Sr.apply(this,arguments)}function gH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ic(t,e)}function Ic(t,e){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ic(t,e)}function vH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zp(t,e,n){return zp=vH()?Reflect.construct.bind():function(i,r,o){var a=[null];a.push.apply(a,r);var u=new(Function.bind.apply(i,a));return o&&Ic(u,o.prototype),u},zp.apply(null,arguments)}function ci(t,e,n,i){e===void 0&&(e=""),i===void 0&&(i={});var r=document.createElement(t);return e&&(r.className=e),Object.keys(i).forEach(function(o){if(typeof i[o]=="function"){var a=o.indexOf("on")===0?o.substr(2).toLowerCase():o;r.addEventListener(a,i[o])}else o==="html"?r.innerHTML=i[o]:o==="text"?r.innerText=i[o]:r.setAttribute(o,i[o])}),n&&n.appendChild(r),r}function Go(t){t.preventDefault(),t.stopPropagation()}var Cu=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function Cr(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)||t.classList.add(n)})}function zn(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach(function(n){t.classList.contains(n)&&t.classList.remove(n)})}var Pc,xc=13,Bp=40,SP=38,yH=[xc,27,Bp,SP,37,39],wH=function(){function t(n){var i=this,r=n.handleSubmit,o=n.searchLabel,a=n.classNames,u=a===void 0?{}:a;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=ci("div",Cu("geosearch",u.container)),this.form=ci("form",["",u.form].join(" "),this.container,{autocomplete:"none",onClick:Go,onDblClick:Go,touchStart:Go,touchEnd:Go}),this.input=ci("input",["glass",u.input].join(" "),this.form,{type:"text",placeholder:o||"search",onInput:this.onInput,onKeyUp:function(h){return i.onKeyUp(h)},onKeyPress:function(h){return i.onKeyPress(h)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){i.input.focus(),i.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=r}var e=t.prototype;return e.onFocus=function(){Cr(this.form,"active")},e.onBlur=function(){zn(this.form,"active")},e.onSubmit=function(n){try{var i=this;return Go(n),zn(r=i.container,"error"),Cr(r,"pending"),Promise.resolve(i.handleSubmit({query:i.input.value})).then(function(){zn(i.container,"pending")})}catch(o){return Promise.reject(o)}var r},e.onInput=function(){this.hasError&&(zn(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(n){n.keyCode===27&&(zn(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(n){n.keyCode===xc&&this.onSubmit(n)},e.setQuery=function(n){this.input.value=n},t}(),EH=function(){function t(n){var i=this,r=n.handleClick,o=n.classNames,a=o===void 0?{}:o,u=n.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(h){if(typeof i.handleClick=="function"){var f=h.target;if(f&&i.container.contains(f)&&f.hasAttribute("data-key")){var m=Number(f.getAttribute("data-key"));i.handleClick({result:i.results[m]})}}},this.handleClick=r,this.notFoundMessage=u?ci("div",Cu(a.notfound),void 0,{html:u}):void 0,this.container=ci("div",Cu("results",a.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=ci("div",Cu(a.item))}var e=t.prototype;return e.render=function(n,i){var r=this;n===void 0&&(n=[]),this.clear(),n.forEach(function(o,a){var u=r.resultItem.cloneNode(!0);u.setAttribute("data-key",""+a),u.innerHTML=i({result:o}),r.container.appendChild(u)}),n.length>0?(Cr(this.container.parentElement,"open"),Cr(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),Cr(this.container.parentElement,"open")),this.results=n},e.select=function(n){return Array.from(this.container.children).forEach(function(i,r){return r===n?Cr(i,"active"):zn(i,"active")}),this.selected=n,this.results[n]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);zn(this.container.parentElement,"open"),zn(this.container,"active")},t}(),tf={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:j_&&_t.Icon?new _t.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},CP="Leaflet must be loaded before instantiating the GeoSearch control",TH={options:Sr({},tf),classNames:Sr({},tf.classNames),initialize:function(t){var e,n,i,r,o=this;if(!j_)throw new Error(CP);if(!t.provider)throw new Error("Provider is missing from options");this.options=Sr({},tf,t),this.classNames=Sr({},this.classNames,t.classNames),this.markers=new _t.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new wH({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(a){return o.onSubmit(a)}}),this.button=ci("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(a){return o.onClick(a)}}),_t.DomEvent.disableClickPropagation(this.button),this.resetButton=ci("button",this.classNames.resetButton,this.searchElement.form,{text:"","aria-label":this.options.clearSearchLabel,onClick:function(){o.searchElement.input.value===""?o.close():o.clearResults(null,!0)}}),_t.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new EH({handleClick:function(a){var u=a.result;o.searchElement.input.value=u.label,o.onSubmit({query:u.label,data:u})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(a){return o.autoSearch(a)},(n=this.options.autoCompleteDelay)===void 0&&(n=250),i===void 0&&(i=!1),function(){var a=[].slice.call(arguments);r&&clearTimeout(r),r=setTimeout(function(){r=null,i||e.apply(void 0,a)},n),i&&!r&&e.apply(void 0,a)}),!0),this.searchElement.input.addEventListener("keydown",function(a){return o.selectResult(a)},!0),this.searchElement.input.addEventListener("keydown",function(a){return o.clearResults(a,!0)},!0)),this.searchElement.form.addEventListener("click",function(a){a.preventDefault()},!1)},onAdd:function(t){var e=this.options,n=e.showMarker,i=e.style;if(this.map=t,n&&this.markers.addTo(t),i==="bar"){var r=t.getContainer().querySelector(".leaflet-control-container");this.container=ci("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),r.appendChild(this.container)}return _t.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return(t=this.container)==null||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;Cr(t.container,"active"),e.focus()},close:function(){zn(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if([xc,Bp,SP].indexOf(t.keyCode)!==-1)if(t.preventDefault(),t.keyCode!==xc){var e=this.resultList.count()-1;if(!(e<0)){var n=this.resultList.selected,i=t.keyCode===Bp?n+1:n-1,r=this.resultList.select(i<0?e:i>e?0:i);this.searchElement.input.value=r.label}}else{var o=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:o})}},clearResults:function(t,e){if(e===void 0&&(e=!1),!t||t.keyCode===27){var n=this.options,i=n.autoComplete;!e&&n.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),i&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(yH.indexOf(t.keyCode)>-1)return Promise.resolve();var n=t.target.value,i=e.options.provider,r=function(){if(n.length)return Promise.resolve(i.search({query:n})).then(function(o){o=o.slice(0,e.options.maxSuggestions),e.resultList.render(o,e.options.resultFormat)});e.resultList.clear()}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(o){return Promise.reject(o)}},onSubmit:function(t){try{var e=this;return e.resultList.clear(),Promise.resolve(e.options.provider.search(t)).then(function(n){n&&n.length>0&&e.showResult(n[0],t)})}catch(n){return Promise.reject(n)}},showResult:function(t,e){var n=this.options,i=n.autoClose,r=n.updateMap,o=this.markers.getLayers();o.length>=this.options.maxMarkers&&this.markers.removeLayer(o[0]);var a=this.addMarker(t,e);r&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:a}),i&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&zn(t,"active"),this.clearResults()},addMarker:function(t,e){var n=this,i=this.options,r=i.marker,o=i.showPopup,a=i.popupFormat,u=new _t.Marker([t.y,t.x],r),h=t.label;return typeof a=="function"&&(h=a({query:e,result:t})),u.bindPopup(h),this.markers.addLayer(u),o&&u.openPopup(),r.draggable&&u.on("dragend",function(f){n.map.fireEvent("geosearch/marker/dragend",{location:u.getLatLng(),event:f})}),u},centerMap:function(t){var e=this.options,n=e.retainZoomLevel,i=e.animateZoom,r=t.bounds?new _t.LatLngBounds(t.bounds):new _t.LatLng(t.y,t.x).toBounds(10),o=r.isValid()?r:this.markers.getBounds();!n&&r.isValid()&&!t.bounds||n||!r.isValid()?this.map.setView(o.getCenter(),this.getZoom(),{animate:i}):this.map.fitBounds(o,{animate:i})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function SH(){if(!j_)throw new Error(CP);var t=_t.Control.extend(TH);return zp(t,[].slice.call(arguments))}(function(t){t[t.SEARCH=0]="SEARCH",t[t.REVERSE=1]="REVERSE"})(Pc||(Pc={}));var s0,CH=function(){function t(n){n===void 0&&(n={}),this.options=void 0,this.options=n}var e=t.prototype;return e.getParamString=function(n){n===void 0&&(n={});var i=Sr({},this.options.params,n);return Object.keys(i).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(i[r])}).join("&")},e.getUrl=function(n,i){return n+"?"+this.getParamString(i)},e.search=function(n){try{var i=this,r=i.endpoint({query:n.query,type:Pc.SEARCH});return Promise.resolve(fetch(r)).then(function(o){return Promise.resolve(o.json()).then(function(a){return i.parse({data:a})})})}catch(o){return Promise.reject(o)}},t}();(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(s0||(s0={}));var IH=function(t){function e(i){var r;i===void 0&&(i={}),(r=t.call(this,i)||this).searchUrl=void 0,r.reverseUrl=void 0;var o="https://nominatim.openstreetmap.org";return r.searchUrl=i.searchUrl||o+"/search",r.reverseUrl=i.reverseUrl||o+"/reverse",r}gH(e,t);var n=e.prototype;return n.endpoint=function(i){var r=i.query,o=i.type,a=typeof r=="string"?{q:r}:r;return a.format="json",this.getUrl(o===Pc.REVERSE?this.reverseUrl:this.searchUrl,a)},n.parse=function(i){return(Array.isArray(i.data)?i.data:[i.data]).map(function(r){return{x:Number(r.lon),y:Number(r.lat),label:r.display_name,bounds:[[parseFloat(r.boundingbox[0]),parseFloat(r.boundingbox[2])],[parseFloat(r.boundingbox[1]),parseFloat(r.boundingbox[3])]],raw:r}})},e}(CH);let iu;const PH=new Uint8Array(16);function xH(){if(!iu&&(iu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!iu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return iu(PH)}const pt=[];for(let t=0;t<256;++t)pt.push((t+256).toString(16).slice(1));function bH(t,e=0){return pt[t[e+0]]+pt[t[e+1]]+pt[t[e+2]]+pt[t[e+3]]+"-"+pt[t[e+4]]+pt[t[e+5]]+"-"+pt[t[e+6]]+pt[t[e+7]]+"-"+pt[t[e+8]]+pt[t[e+9]]+"-"+pt[t[e+10]]+pt[t[e+11]]+pt[t[e+12]]+pt[t[e+13]]+pt[t[e+14]]+pt[t[e+15]]}const kH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),o0={randomUUID:kH};function RH(t,e,n){if(o0.randomUUID&&!e&&!t)return o0.randomUUID();t=t||{};const i=t.random||(t.rng||xH)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(let r=0;r<16;++r)e[n+r]=i[r];return e}return bH(i)}function LH(){const[t,e]=b.useState(1),n=Gc(),[i,r]=b.useState(),[o,a]=b.useState(),[u,h]=b.useState(),[f,m]=b.useState(),[_,g]=b.useState([]),[E,w]=b.useState(),[C,O]=b.useState(!1),[T,y]=b.useState(!1);b.useState();const[I,R]=b.useState(null),U=RC(PI,"spots/"+i);b.useEffect(()=>{qr.onAuthStateChanged(Z=>{Z&&Z.emailVerified?(O(!0),y(!0),$()):Z&&!Z.emailVerified?(O(!0),y(!1)):(O(!1),y(!1))})},[]);const j=()=>{e(t+1),document.getElementById("map2").style.height="0px"},H=()=>{e(t-1),document.getElementById("map2").style.height="50vh"},F=Z=>{Z.preventDefault();var ae=["test"];function be(){const te=[];for(let Pe=0;Pe<I.length;Pe++){const xe=Sp(xp,`images/${I[Pe].name+RH()}`),Me=BF(xe,I[Pe]).then(A=>jF(Sp(xp,A.metadata.fullPath))).then(A=>{ae[Pe]=A});te.push(Me)}Promise.all(te).then(()=>{wD(U,{uploadedImgURLs:ae})}).catch(Pe=>{console.error("Error uploading images:",Pe)})}yD(U,{spotName:i,spotDescription:E,spotDescription:E,lat:o,long:u,spotAddress:f,uploadedImgURLs:[""]}).then(()=>{console.log("Spot added."),n("/")}),be()};function W(Z){let ae=[];for(let be=0;be<Z.length;be++)ae[be]=URL.createObjectURL(Z[be]);g(ae)}function $(){const Z=L.map("map2").setView([43.747474670410156,-79.49417877197266],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap"}).addTo(Z);const ae=new _t.Icon({iconUrl:"https://cdn2.iconfinder.com/data/icons/activity-5/50/1F6F9-skateboard-512.png",iconSize:[64,64]}),be=new SH({provider:new IH,style:"bar",showMarker:!1,marker:{icon:ae,draggable:!1}});Z.addControl(be);var te={clickable:!0,icon:ae},Pe=L.marker(new L.LatLng(0,0),te);Pe.addTo(Z),Z.on("click",function(Me){var A=Me.latlng,G=A.lat,D=A.lng,J=new L.LatLng(G,D);Pe.setLatLng(J),a(G),h(D),xe(G,D)});function xe(Me,A){_H.get("https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat="+Me+"&lon="+A).then(G=>{console.log(G.data);let D=G.data.address;m((D.house_number?D.house_number+" ":"")+D.road+", "+D.city+", "+D.state+" "+D.postcode+", "+D.country)}).catch(G=>{console.log(G)})}Z.on("geosearch/showlocation",function(Me){var A=Me.location.y,G=Me.location.x;a(A),h(G);var D=new L.LatLng(A,G);Pe.setLatLng(D),xe(A,G)})}return P.jsxs(b.Fragment,{children:[P.jsx(gh,{}),C==!0?P.jsx("div",{children:T==!0?P.jsx("div",{}):P.jsx("p",{className:"verText",children:"Please verify your email!"})}):P.jsx("p",{className:"verText",children:"Please login to submit!"}),P.jsxs("div",{className:"map-container",children:[T==!0&&t==1?P.jsxs("div",{children:[P.jsx("h2",{id:"topText",children:"Add Your Own Skatespot!"}),P.jsx("p",{id:"text2",children:"Enter an address using the search bar, then drop a pin at the approximate location."})]}):P.jsx("div",{}),P.jsx("div",{id:"map2"}),T==!0&&t==1?P.jsxs("div",{children:[P.jsx("br",{}),P.jsxs("div",{children:[o!=null?P.jsx("div",{children:P.jsxs("p",{className:"fade-in selectText",children:["Your coordinates are ",o,", ",u]})}):P.jsx("div",{}),f!=null?P.jsxs("p",{className:"fade-in selectText",children:["The address of this location is ",f]}):P.jsx("div",{}),f!=null&&o!=null?P.jsx("div",{className:"fade-in",children:P.jsx("button",{id:"logButt",onClick:j,className:"buttons",children:"Next!"})}):P.jsx("div",{})]})]}):P.jsx("div",{})]}),t==2?P.jsx("div",{className:"bigahcontainer",children:P.jsx("div",{children:P.jsxs("div",{className:"container",children:[P.jsx("br",{}),P.jsxs("form",{onSubmit:F,children:[P.jsxs("div",{children:[P.jsx("label",{htmlFor:"name",children:P.jsx("strong",{children:"Name"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter Spot Name",autoComplete:"off",id:"name",accept:".png, .jpg, .jpeg, .webp, .mp4",onChange:Z=>r(Z.target.value)})]}),P.jsx("br",{}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"files",children:P.jsx("strong",{children:"Upload Images"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"file",placeholder:"Upload Images",autoComplete:"off",id:"image",multiple:!0,onChange:Z=>{R(Z.target.files),W(Z.target.files)}}),_.length>0?P.jsx("div",{className:"filePreviewContainer",children:_.map((Z,ae)=>P.jsx("img",{id:"fileImage",src:_[ae]},ae))}):P.jsx("div",{})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"spotDescription",children:P.jsx("strong",{children:"Description"})}),P.jsx("br",{}),P.jsx("input",{className:"inputFields",type:"text",placeholder:"Enter a Description",autoComplete:"off",id:"spotDescription",onChange:Z=>w(Z.target.value)})]}),P.jsx("br",{}),P.jsx("button",{id:"logButt",type:"submit",className:"buttons",children:"Submit!"}),P.jsx("br",{}),P.jsx("button",{id:"backButt",onClick:H,className:"buttons",children:"Back"})]})]})})}):P.jsx("div",{})]})}function OH(){return P.jsx(cR,{children:P.jsxs(lR,{children:[P.jsx(ps,{exact:!0,path:"/",element:P.jsx(QB,{})}),P.jsx(ps,{exact:!0,path:"/register",element:P.jsx(fz,{})}),P.jsx(ps,{exact:!0,path:"/login",element:P.jsx(pz,{})}),P.jsx(ps,{exact:!0,path:"/test",element:P.jsx(XB,{})}),P.jsx(ps,{exact:!0,path:"/submit",element:P.jsx(LH,{})})]})})}nf.createRoot(document.getElementById("root")).render(P.jsx(OH,{}));
